(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();var kc={exports:{}},Bo={},Vc={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd;function My(){if(Wd)return Ee;Wd=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),P=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=P&&x[P]||x["@@iterator"],typeof x=="function"?x:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,X={};function q(x,B,oe){this.props=x,this.context=B,this.refs=X,this.updater=oe||z}q.prototype.isReactComponent={},q.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Te(){}Te.prototype=q.prototype;function fe(x,B,oe){this.props=x,this.context=B,this.refs=X,this.updater=oe||z}var pe=fe.prototype=new Te;pe.constructor=fe,Q(pe,q.prototype),pe.isPureReactComponent=!0;var ge=Array.isArray,Fe=Object.prototype.hasOwnProperty,Se={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function S(x,B,oe){var ve,_e={},Ae=null,xe=null;if(B!=null)for(ve in B.ref!==void 0&&(xe=B.ref),B.key!==void 0&&(Ae=""+B.key),B)Fe.call(B,ve)&&!D.hasOwnProperty(ve)&&(_e[ve]=B[ve]);var Oe=arguments.length-2;if(Oe===1)_e.children=oe;else if(1<Oe){for(var je=Array(Oe),mt=0;mt<Oe;mt++)je[mt]=arguments[mt+2];_e.children=je}if(x&&x.defaultProps)for(ve in Oe=x.defaultProps,Oe)_e[ve]===void 0&&(_e[ve]=Oe[ve]);return{$$typeof:i,type:x,key:Ae,ref:xe,props:_e,_owner:Se.current}}function A(x,B){return{$$typeof:i,type:x.type,key:B,ref:x.ref,props:x.props,_owner:x._owner}}function k(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return B[oe]})}var O=/\/+/g;function I(x,B){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):B.toString(36)}function Ye(x,B,oe,ve,_e){var Ae=typeof x;(Ae==="undefined"||Ae==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(Ae){case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case i:case e:xe=!0}}if(xe)return xe=x,_e=_e(xe),x=ve===""?"."+I(xe,0):ve,ge(_e)?(oe="",x!=null&&(oe=x.replace(O,"$&/")+"/"),Ye(_e,B,oe,"",function(mt){return mt})):_e!=null&&(k(_e)&&(_e=A(_e,oe+(!_e.key||xe&&xe.key===_e.key?"":(""+_e.key).replace(O,"$&/")+"/")+x)),B.push(_e)),1;if(xe=0,ve=ve===""?".":ve+":",ge(x))for(var Oe=0;Oe<x.length;Oe++){Ae=x[Oe];var je=ve+I(Ae,Oe);xe+=Ye(Ae,B,oe,je,_e)}else if(je=R(x),typeof je=="function")for(x=je.call(x),Oe=0;!(Ae=x.next()).done;)Ae=Ae.value,je=ve+I(Ae,Oe++),xe+=Ye(Ae,B,oe,je,_e);else if(Ae==="object")throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return xe}function Rt(x,B,oe){if(x==null)return x;var ve=[],_e=0;return Ye(x,ve,"","",function(Ae){return B.call(oe,Ae,_e++)}),ve}function Pt(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var Me={current:null},J={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:J,ReactCurrentOwner:Se};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Rt,forEach:function(x,B,oe){Rt(x,function(){B.apply(this,arguments)},oe)},count:function(x){var B=0;return Rt(x,function(){B++}),B},toArray:function(x){return Rt(x,function(B){return B})||[]},only:function(x){if(!k(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ee.Component=q,Ee.Fragment=r,Ee.Profiler=l,Ee.PureComponent=fe,Ee.StrictMode=o,Ee.Suspense=v,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ee.act=ee,Ee.cloneElement=function(x,B,oe){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var ve=Q({},x.props),_e=x.key,Ae=x.ref,xe=x._owner;if(B!=null){if(B.ref!==void 0&&(Ae=B.ref,xe=Se.current),B.key!==void 0&&(_e=""+B.key),x.type&&x.type.defaultProps)var Oe=x.type.defaultProps;for(je in B)Fe.call(B,je)&&!D.hasOwnProperty(je)&&(ve[je]=B[je]===void 0&&Oe!==void 0?Oe[je]:B[je])}var je=arguments.length-2;if(je===1)ve.children=oe;else if(1<je){Oe=Array(je);for(var mt=0;mt<je;mt++)Oe[mt]=arguments[mt+2];ve.children=Oe}return{$$typeof:i,type:x.type,key:_e,ref:Ae,props:ve,_owner:xe}},Ee.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},Ee.createElement=S,Ee.createFactory=function(x){var B=S.bind(null,x);return B.type=x,B},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(x){return{$$typeof:g,render:x}},Ee.isValidElement=k,Ee.lazy=function(x){return{$$typeof:w,_payload:{_status:-1,_result:x},_init:Pt}},Ee.memo=function(x,B){return{$$typeof:E,type:x,compare:B===void 0?null:B}},Ee.startTransition=function(x){var B=J.transition;J.transition={};try{x()}finally{J.transition=B}},Ee.unstable_act=ee,Ee.useCallback=function(x,B){return Me.current.useCallback(x,B)},Ee.useContext=function(x){return Me.current.useContext(x)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(x){return Me.current.useDeferredValue(x)},Ee.useEffect=function(x,B){return Me.current.useEffect(x,B)},Ee.useId=function(){return Me.current.useId()},Ee.useImperativeHandle=function(x,B,oe){return Me.current.useImperativeHandle(x,B,oe)},Ee.useInsertionEffect=function(x,B){return Me.current.useInsertionEffect(x,B)},Ee.useLayoutEffect=function(x,B){return Me.current.useLayoutEffect(x,B)},Ee.useMemo=function(x,B){return Me.current.useMemo(x,B)},Ee.useReducer=function(x,B,oe){return Me.current.useReducer(x,B,oe)},Ee.useRef=function(x){return Me.current.useRef(x)},Ee.useState=function(x){return Me.current.useState(x)},Ee.useSyncExternalStore=function(x,B,oe){return Me.current.useSyncExternalStore(x,B,oe)},Ee.useTransition=function(){return Me.current.useTransition()},Ee.version="18.3.1",Ee}var Qd;function ph(){return Qd||(Qd=1,Vc.exports=My()),Vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function Fy(){if(Kd)return Bo;Kd=1;var i=ph(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var w,P={},R=null,z=null;E!==void 0&&(R=""+E),v.key!==void 0&&(R=""+v.key),v.ref!==void 0&&(z=v.ref);for(w in v)o.call(v,w)&&!c.hasOwnProperty(w)&&(P[w]=v[w]);if(g&&g.defaultProps)for(w in v=g.defaultProps,v)P[w]===void 0&&(P[w]=v[w]);return{$$typeof:e,type:g,key:R,ref:z,props:P,_owner:l.current}}return Bo.Fragment=r,Bo.jsx=p,Bo.jsxs=p,Bo}var Gd;function Uy(){return Gd||(Gd=1,kc.exports=Fy()),kc.exports}var ft=Uy(),Xt=ph(),Tl={},Dc={exports:{}},Kt={},Nc={exports:{}},xc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function jy(){return Xd||(Xd=1,function(i){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var x=ee-1>>>1,B=J[x];if(0<l(B,le))J[x]=le,J[ee]=B,ee=x;else break e}}function r(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var x=0,B=J.length,oe=B>>>1;x<oe;){var ve=2*(x+1)-1,_e=J[ve],Ae=ve+1,xe=J[Ae];if(0>l(_e,ee))Ae<B&&0>l(xe,_e)?(J[x]=xe,J[Ae]=ee,x=Ae):(J[x]=_e,J[ve]=ee,x=ve);else if(Ae<B&&0>l(xe,ee))J[x]=xe,J[Ae]=ee,x=Ae;else break e}}return le}function l(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var v=[],E=[],w=1,P=null,R=3,z=!1,Q=!1,X=!1,q=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(J){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=J)o(E),le.sortIndex=le.expirationTime,e(v,le);else break;le=r(E)}}function ge(J){if(X=!1,pe(J),!Q)if(r(v)!==null)Q=!0,Pt(Fe);else{var le=r(E);le!==null&&Me(ge,le.startTime-J)}}function Fe(J,le){Q=!1,X&&(X=!1,Te(S),S=-1),z=!0;var ee=R;try{for(pe(le),P=r(v);P!==null&&(!(P.expirationTime>le)||J&&!N());){var x=P.callback;if(typeof x=="function"){P.callback=null,R=P.priorityLevel;var B=x(P.expirationTime<=le);le=i.unstable_now(),typeof B=="function"?P.callback=B:P===r(v)&&o(v),pe(le)}else o(v);P=r(v)}if(P!==null)var oe=!0;else{var ve=r(E);ve!==null&&Me(ge,ve.startTime-le),oe=!1}return oe}finally{P=null,R=ee,z=!1}}var Se=!1,D=null,S=-1,A=5,k=-1;function N(){return!(i.unstable_now()-k<A)}function O(){if(D!==null){var J=i.unstable_now();k=J;var le=!0;try{le=D(!0,J)}finally{le?I():(Se=!1,D=null)}}else Se=!1}var I;if(typeof fe=="function")I=function(){fe(O)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Rt=Ye.port2;Ye.port1.onmessage=O,I=function(){Rt.postMessage(null)}}else I=function(){q(O,0)};function Pt(J){D=J,Se||(Se=!0,I())}function Me(J,le){S=q(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Q||z||(Q=!0,Pt(Fe))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return r(v)},i.unstable_next=function(J){switch(R){case 1:case 2:case 3:var le=3;break;default:le=R}var ee=R;R=le;try{return J()}finally{R=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=R;R=J;try{return le()}finally{R=ee}},i.unstable_scheduleCallback=function(J,le,ee){var x=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?x+ee:x):ee=x,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,J={id:w++,callback:le,priorityLevel:J,startTime:ee,expirationTime:B,sortIndex:-1},ee>x?(J.sortIndex=ee,e(E,J),r(v)===null&&J===r(E)&&(X?(Te(S),S=-1):X=!0,Me(ge,ee-x))):(J.sortIndex=B,e(v,J),Q||z||(Q=!0,Pt(Fe))),J},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(J){var le=R;return function(){var ee=R;R=le;try{return J.apply(this,arguments)}finally{R=ee}}}}(xc)),xc}var Yd;function zy(){return Yd||(Yd=1,Nc.exports=jy()),Nc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function By(){if(Jd)return Kt;Jd=1;var i=ph(),e=zy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(t,n){p(t,n),p(t+"Capture",n)}function p(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},P={};function R(t){return v.call(P,t)?!0:v.call(w,t)?!1:E.test(t)?P[t]=!0:(w[t]=!0,!1)}function z(t,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q(t,n,s,u){if(n===null||typeof n>"u"||z(t,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function X(t,n,s,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];q[n]=new X(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var Te=/[\-:]([a-z])/g;function fe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Te,fe);q[n]=new X(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Te,fe);q[n]=new X(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Te,fe);q[n]=new X(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function pe(t,n,s,u){var h=q.hasOwnProperty(n)?q[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Q(n,s,h,u)&&(s=null),u||h===null?R(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):h.mustUseProperty?t[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?t.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?t.setAttributeNS(u,n,s):t.setAttribute(n,s))))}var ge=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),Se=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,x;function B(t){if(x===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||""}return`
`+x+t}var oe=!1;function ve(t,n){if(!t||oe)return"";oe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(U){var u=U}Reflect.construct(t,[],n)}else{try{n.call()}catch(U){u=U}t.call(n.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,T=d.length-1;1<=y&&0<=T&&h[y]!==d[T];)T--;for(;1<=y&&0<=T;y--,T--)if(h[y]!==d[T]){if(y!==1||T!==1)do if(y--,T--,0>T||h[y]!==d[T]){var C=`
`+h[y].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=y&&0<=T);break}}}finally{oe=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?B(t):""}function _e(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function Ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case Se:return"Portal";case A:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case Ye:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rt:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case Pt:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}function xe(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(n);case 8:return n===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mt(t){var n=je(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kn(t){t._valueTracker||(t._valueTracker=mt(t))}function xi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==s?(n.setValue(t),!0):!1}function pr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zr(t,n){var s=n.checked;return ee({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Oi(t,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=Oe(n.value!=null?n.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ws(t,n){n=n.checked,n!=null&&pe(t,"checked",n,!1)}function Qs(t,n){Ws(t,n);var s=Oe(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Li(t,n.type,s):n.hasOwnProperty("defaultValue")&&Li(t,n.type,Oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function aa(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Li(t,n,s){(n!=="number"||pr(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Gn=Array.isArray;function Xn(t,n,s,u){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Oe(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ks(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mi(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Gn(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:Oe(s)}}function Fi(t,n){var s=Oe(n.value),u=Oe(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function Gs(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?at(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Xs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,s,u,h)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function mr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){ti.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),ei[n]=ei[t]})});function Ys(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ei.hasOwnProperty(t)&&ei[t]?(""+n).trim():n+"px"}function Js(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=Ys(s,n[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,h):t[s]=h}}var Zs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(t,n){if(n){if(Zs[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function to(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,sn=null,Dn=null;function zi(t){if(t=Co(t)){if(typeof ji!="function")throw Error(r(280));var n=t.stateNode;n&&(n=Fa(n),ji(t.stateNode,t.type,n))}}function Nn(t){sn?Dn?Dn.push(t):Dn=[t]:sn=t}function no(){if(sn){var t=sn,n=Dn;if(Dn=sn=null,zi(t),n)for(t=0;t<n.length;t++)zi(n[t])}}function ri(t,n){return t(n)}function ro(){}var Jn=!1;function io(t,n,s){if(Jn)return t(n,s);Jn=!0;try{return ri(t,n,s)}finally{Jn=!1,(sn!==null||Dn!==null)&&(ro(),no())}}function Je(t,n){var s=t.stateNode;if(s===null)return null;var u=Fa(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Bi=!1;if(g)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Bi=!1}function ii(t,n,s,u,h,d,y,T,C){var U=Array.prototype.slice.call(arguments,3);try{n.apply(s,U)}catch(H){this.onError(H)}}var si=!1,bi=null,yn=!1,so=null,ru={onError:function(t){si=!0,bi=t}};function $i(t,n,s,u,h,d,y,T,C){si=!1,bi=null,ii.apply(ru,arguments)}function la(t,n,s,u,h,d,y,T,C){if($i.apply(this,arguments),si){if(si){var U=bi;si=!1,bi=null}else throw Error(r(198));yn||(yn=!0,so=U)}}function vn(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function oi(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _n(t){if(vn(t)!==t)throw Error(r(188))}function ua(t){var n=t.alternate;if(!n){if(n=vn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,u=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return _n(h),t;if(d===u)return _n(h),n;d=d.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=d;else{for(var y=!1,T=h.child;T;){if(T===s){y=!0,s=h,u=d;break}if(T===u){y=!0,u=h,s=d;break}T=T.sibling}if(!y){for(T=d.child;T;){if(T===s){y=!0,s=d,u=h;break}if(T===u){y=!0,u=d,s=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function oo(t){return t=ua(t),t!==null?Hi(t):null}function Hi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Hi(t);if(n!==null)return n;t=t.sibling}return null}var qi=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,ca=e.unstable_shouldYield,iu=e.unstable_requestPaint,ze=e.unstable_now,ha=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,gr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,lo=e.unstable_LowPriority,fa=e.unstable_IdlePriority,li=null,Yt=null;function da(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:ma,uo=Math.log,pa=Math.LN2;function ma(t){return t>>>=0,t===0?32:31-(uo(t)/pa|0)|0}var Wi=64,Qi=4194304;function yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ui(t,n){var s=t.pendingLanes;if(s===0)return 0;var u=0,h=t.suspendedLanes,d=t.pingedLanes,y=s&268435455;if(y!==0){var T=y&~h;T!==0?u=yr(T):(d&=y,d!==0&&(u=yr(d)))}else y=s&~h,y!==0?u=yr(y):d!==0&&(u=yr(d));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(u&4&&(u|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)s=31-Mt(n),h=1<<s,u|=t[s],n&=~h;return u}function su(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,n){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes;0<d;){var y=31-Mt(d),T=1<<y,C=h[y];C===-1?(!(T&s)||T&u)&&(h[y]=su(T,n)):C<=n&&(t.expiredLanes|=T),d&=~T}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ci(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function vr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function _r(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Mt(n),t[n]=s}function Ue(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var h=31-Mt(s),d=1<<h;n[h]=0,u[h]=-1,t[h]=-1,s&=~d}}function Er(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var u=31-Mt(s),h=1<<u;h&n|t[u]&n&&(t[u]|=n),s&=~h}}var Ie=0;function wr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ga,Ki,ya,va,_a,co=!1,xn=[],wt=null,En=null,wn=null,Tr=new Map,an=new Map,On=[],ou="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(t,n){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Tr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(n.pointerId)}}function Bt(t,n,s,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Co(n),n!==null&&Ki(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function au(t,n,s,u,h){switch(n){case"focusin":return wt=Bt(wt,t,n,s,u,h),!0;case"dragenter":return En=Bt(En,t,n,s,u,h),!0;case"mouseover":return wn=Bt(wn,t,n,s,u,h),!0;case"pointerover":var d=h.pointerId;return Tr.set(d,Bt(Tr.get(d)||null,t,n,s,u,h)),!0;case"gotpointercapture":return d=h.pointerId,an.set(d,Bt(an.get(d)||null,t,n,s,u,h)),!0}return!1}function wa(t){var n=mi(t.target);if(n!==null){var s=vn(n);if(s!==null){if(n=s.tag,n===13){if(n=oi(s),n!==null){t.blockedOn=n,_a(t.priority,function(){ya(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Gi(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);ni=u,s.target.dispatchEvent(u),ni=null}else return n=Co(s),n!==null&&Ki(n),t.blockedOn=s,!1;n.shift()}return!0}function hi(t,n,s){er(t)&&s.delete(n)}function Ta(){co=!1,wt!==null&&er(wt)&&(wt=null),En!==null&&er(En)&&(En=null),wn!==null&&er(wn)&&(wn=null),Tr.forEach(hi),an.forEach(hi)}function Tn(t,n){t.blockedOn===n&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ta)))}function Sn(t){function n(h){return Tn(h,t)}if(0<xn.length){Tn(xn[0],t);for(var s=1;s<xn.length;s++){var u=xn[s];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&Tn(wt,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Tr.forEach(n),an.forEach(n),s=0;s<On.length;s++)u=On[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(s=On[0],s.blockedOn===null);)wa(s),s.blockedOn===null&&On.shift()}var tr=ge.ReactCurrentBatchConfig,Sr=!0;function He(t,n,s,u){var h=Ie,d=tr.transition;tr.transition=null;try{Ie=1,ho(t,n,s,u)}finally{Ie=h,tr.transition=d}}function lu(t,n,s,u){var h=Ie,d=tr.transition;tr.transition=null;try{Ie=4,ho(t,n,s,u)}finally{Ie=h,tr.transition=d}}function ho(t,n,s,u){if(Sr){var h=Gi(t,n,s,u);if(h===null)_u(t,n,u,fi,s),Ea(t,u);else if(au(h,t,n,s,u))u.stopPropagation();else if(Ea(t,u),n&4&&-1<ou.indexOf(t)){for(;h!==null;){var d=Co(h);if(d!==null&&ga(d),d=Gi(t,n,s,u),d===null&&_u(t,n,u,fi,s),d===h)break;h=d}h!==null&&u.stopPropagation()}else _u(t,n,u,null,s)}}var fi=null;function Gi(t,n,s,u){if(fi=null,t=Ui(u),t=mi(t),t!==null)if(n=vn(t),n===null)t=null;else if(s=n.tag,s===13){if(t=oi(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return fi=t,null}function fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ha()){case ai:return 1;case gr:return 4;case on:case lo:return 16;case fa:return 536870912;default:return 16}default:return 16}}var Zt=null,Xi=null,bt=null;function po(){if(bt)return bt;var t,n=Xi,s=n.length,u,h="value"in Zt?Zt.value:Zt.textContent,d=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(u=1;u<=y&&n[s-u]===h[d-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function Yi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function mo(){return!1}function Tt(t){function n(s,u,h,d,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ln:mo,this.isPropagationStopped=mo,this}return ee(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),n}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Tt(In),Mn=ee({},In,{view:0,detail:0}),uu=Tt(Mn),Zi,nr,Ir,di=ee({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(Zi=t.screenX-Ir.screenX,nr=t.screenY-Ir.screenY):nr=Zi=0,Ir=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),es=Tt(di),go=ee({},di,{dataTransfer:0}),Sa=Tt(go),ts=ee({},Mn,{relatedTarget:0}),ns=Tt(ts),Ia=ee({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=Tt(Ia),Aa=ee({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Tt(Aa),Ra=ee({},In,{data:0}),yo=Tt(Ra),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ka(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Pa[t])?!!n[t]:!1}function Fn(){return ka}var a=ee({},Mn,{key:function(t){if(t.key){var n=rs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=Tt(a),m=ee({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=Tt(m),L=ee({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),j=Tt(L),G=ee({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Le=Tt(G),ut=ee({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Tt(ut),gt=[9,13,27,32],nt=g&&"CompositionEvent"in window,ln=null;g&&"documentMode"in document&&(ln=document.documentMode);var en=g&&"TextEvent"in window&&!ln,pi=g&&(!nt||ln&&8<ln&&11>=ln),is=" ",jh=!1;function zh(t,n){switch(t){case"keyup":return gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function Og(t,n){switch(t){case"compositionend":return Bh(n);case"keypress":return n.which!==32?null:(jh=!0,is);case"textInput":return t=n.data,t===is&&jh?null:t;default:return null}}function Lg(t,n){if(ss)return t==="compositionend"||!nt&&zh(t,n)?(t=po(),bt=Xi=Zt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var Mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Mg[t.type]:n==="textarea"}function $h(t,n,s,u){Nn(u),n=Oa(n,"onChange"),0<n.length&&(s=new Ji("onChange","change",null,s,u),t.push({event:s,listeners:n}))}var vo=null,_o=null;function Fg(t){lf(t,0)}function Va(t){var n=cs(t);if(xi(n))return t}function Ug(t,n){if(t==="change")return n}var Hh=!1;if(g){var cu;if(g){var hu="oninput"in document;if(!hu){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),hu=typeof qh.oninput=="function"}cu=hu}else cu=!1;Hh=cu&&(!document.documentMode||9<document.documentMode)}function Wh(){vo&&(vo.detachEvent("onpropertychange",Qh),_o=vo=null)}function Qh(t){if(t.propertyName==="value"&&Va(_o)){var n=[];$h(n,_o,t,Ui(t)),io(Fg,n)}}function jg(t,n,s){t==="focusin"?(Wh(),vo=n,_o=s,vo.attachEvent("onpropertychange",Qh)):t==="focusout"&&Wh()}function zg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(_o)}function Bg(t,n){if(t==="click")return Va(n)}function bg(t,n){if(t==="input"||t==="change")return Va(n)}function $g(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:$g;function Eo(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!v.call(n,h)||!An(t[h],n[h]))return!1}return!0}function Kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gh(t,n){var s=Kh(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=n&&u>=n)return{node:s,offset:n-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Kh(s)}}function Xh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yh(){for(var t=window,n=pr();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=pr(t.document)}return n}function fu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Hg(t){var n=Yh(),s=t.focusedElem,u=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&Xh(s.ownerDocument.documentElement,s)){if(u!==null&&fu(s)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=s.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!t.extend&&d>u&&(h=u,u=d,d=h),h=Gh(s,d);var y=Gh(s,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),d>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qg=g&&"documentMode"in document&&11>=document.documentMode,os=null,du=null,wo=null,pu=!1;function Jh(t,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pu||os==null||os!==pr(u)||(u=os,"selectionStart"in u&&fu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wo&&Eo(wo,u)||(wo=u,u=Oa(du,"onSelect"),0<u.length&&(n=new Ji("onSelect","select",null,n,s),t.push({event:n,listeners:u}),n.target=os)))}function Da(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var as={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},mu={},Zh={};g&&(Zh=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Na(t){if(mu[t])return mu[t];if(!as[t])return t;var n=as[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Zh)return mu[t]=n[s];return t}var ef=Na("animationend"),tf=Na("animationiteration"),nf=Na("animationstart"),rf=Na("transitionend"),sf=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,n){sf.set(t,n),c(n,[t])}for(var gu=0;gu<of.length;gu++){var yu=of[gu],Wg=yu.toLowerCase(),Qg=yu[0].toUpperCase()+yu.slice(1);Ar(Wg,"on"+Qg)}Ar(ef,"onAnimationEnd"),Ar(tf,"onAnimationIteration"),Ar(nf,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(rf,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function af(t,n,s){var u=t.type||"unknown-event";t.currentTarget=s,la(u,n,void 0,t),t.currentTarget=null}function lf(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var T=u[y],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;af(h,T,U),d=C}else for(y=0;y<u.length;y++){if(T=u[y],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;af(h,T,U),d=C}}}if(yn)throw t=so,yn=!1,so=null,t}function be(t,n){var s=n[Au];s===void 0&&(s=n[Au]=new Set);var u=t+"__bubble";s.has(u)||(uf(n,t,2,!1),s.add(u))}function vu(t,n,s){var u=0;n&&(u|=4),uf(s,t,u,n)}var xa="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[xa]){t[xa]=!0,o.forEach(function(s){s!=="selectionchange"&&(Kg.has(s)||vu(s,!1,t),vu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xa]||(n[xa]=!0,vu("selectionchange",!1,n))}}function uf(t,n,s,u){switch(fo(n)){case 1:var h=He;break;case 4:h=lu;break;default:h=ho}s=h.bind(null,n,s,t),h=void 0,!Bi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function _u(t,n,s,u,h){var d=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;y=y.return}for(;T!==null;){if(y=mi(T),y===null)return;if(C=y.tag,C===5||C===6){u=d=y;continue e}T=T.parentNode}}u=u.return}io(function(){var U=d,H=Ui(s),W=[];e:{var $=sf.get(t);if($!==void 0){var Z=Ji,re=t;switch(t){case"keypress":if(Yi(s)===0)break e;case"keydown":case"keyup":Z=f;break;case"focusin":re="focus",Z=ns;break;case"focusout":re="blur",Z=ns;break;case"beforeblur":case"afterblur":Z=ns;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=j;break;case ef:case tf:case nf:Z=rr;break;case rf:Z=Le;break;case"scroll":Z=uu;break;case"wheel":Z=Ce;break;case"copy":case"cut":case"paste":Z=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=_}var ie=(n&4)!==0,Ze=!ie&&t==="scroll",M=ie?$!==null?$+"Capture":null:$;ie=[];for(var V=U,F;V!==null;){F=V;var K=F.stateNode;if(F.tag===5&&K!==null&&(F=K,M!==null&&(K=Je(V,M),K!=null&&ie.push(Io(V,K,F)))),Ze)break;V=V.return}0<ie.length&&($=new Z($,re,null,s,H),W.push({event:$,listeners:ie}))}}if(!(n&7)){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&s!==ni&&(re=s.relatedTarget||s.fromElement)&&(mi(re)||re[ir]))break e;if((Z||$)&&($=H.window===H?H:($=H.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(re=s.relatedTarget||s.toElement,Z=U,re=re?mi(re):null,re!==null&&(Ze=vn(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=U),Z!==re)){if(ie=es,K="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ie=_,K="onPointerLeave",M="onPointerEnter",V="pointer"),Ze=Z==null?$:cs(Z),F=re==null?$:cs(re),$=new ie(K,V+"leave",Z,s,H),$.target=Ze,$.relatedTarget=F,K=null,mi(H)===U&&(ie=new ie(M,V+"enter",re,s,H),ie.target=F,ie.relatedTarget=Ze,K=ie),Ze=K,Z&&re)t:{for(ie=Z,M=re,V=0,F=ie;F;F=ls(F))V++;for(F=0,K=M;K;K=ls(K))F++;for(;0<V-F;)ie=ls(ie),V--;for(;0<F-V;)M=ls(M),F--;for(;V--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ls(ie),M=ls(M)}ie=null}else ie=null;Z!==null&&cf(W,$,Z,ie,!1),re!==null&&Ze!==null&&cf(W,Ze,re,ie,!0)}}e:{if($=U?cs(U):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var se=Ug;else if(bh($))if(Hh)se=bg;else{se=zg;var ue=jg}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=Bg);if(se&&(se=se(t,U))){$h(W,se,s,H);break e}ue&&ue(t,$,U),t==="focusout"&&(ue=$._wrapperState)&&ue.controlled&&$.type==="number"&&Li($,"number",$.value)}switch(ue=U?cs(U):window,t){case"focusin":(bh(ue)||ue.contentEditable==="true")&&(os=ue,du=U,wo=null);break;case"focusout":wo=du=os=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Jh(W,s,H);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":Jh(W,s,H)}var ce;if(nt)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else ss?zh(t,s)&&(de="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(de="onCompositionStart");de&&(pi&&s.locale!=="ko"&&(ss||de!=="onCompositionStart"?de==="onCompositionEnd"&&ss&&(ce=po()):(Zt=H,Xi="value"in Zt?Zt.value:Zt.textContent,ss=!0)),ue=Oa(U,de),0<ue.length&&(de=new yo(de,t,null,s,H),W.push({event:de,listeners:ue}),ce?de.data=ce:(ce=Bh(s),ce!==null&&(de.data=ce)))),(ce=en?Og(t,s):Lg(t,s))&&(U=Oa(U,"onBeforeInput"),0<U.length&&(H=new yo("onBeforeInput","beforeinput",null,s,H),W.push({event:H,listeners:U}),H.data=ce))}lf(W,n)})}function Io(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Oa(t,n){for(var s=n+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Je(t,s),d!=null&&u.unshift(Io(t,d,h)),d=Je(t,n),d!=null&&u.push(Io(t,d,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cf(t,n,s,u,h){for(var d=n._reactName,y=[];s!==null&&s!==u;){var T=s,C=T.alternate,U=T.stateNode;if(C!==null&&C===u)break;T.tag===5&&U!==null&&(T=U,h?(C=Je(s,d),C!=null&&y.unshift(Io(s,C,T))):h||(C=Je(s,d),C!=null&&y.push(Io(s,C,T)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var Gg=/\r\n?/g,Xg=/\u0000|\uFFFD/g;function hf(t){return(typeof t=="string"?t:""+t).replace(Gg,`
`).replace(Xg,"")}function La(t,n,s){if(n=hf(n),hf(t)!==n&&s)throw Error(r(425))}function Ma(){}var Eu=null,wu=null;function Tu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Su=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Jg=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(Zg)}:Su;function Zg(t){setTimeout(function(){throw t})}function Iu(t,n){var s=n,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){t.removeChild(h),Sn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Sn(n)}function Cr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Un="__reactFiber$"+us,Ao="__reactProps$"+us,ir="__reactContainer$"+us,Au="__reactEvents$"+us,ey="__reactListeners$"+us,ty="__reactHandles$"+us;function mi(t){var n=t[Un];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ir]||s[Un]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=df(t);t!==null;){if(s=t[Un])return s;t=df(t)}return n}t=s,s=t.parentNode}return null}function Co(t){return t=t[Un]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Fa(t){return t[Ao]||null}var Cu=[],hs=-1;function Rr(t){return{current:t}}function $e(t){0>hs||(t.current=Cu[hs],Cu[hs]=null,hs--)}function Be(t,n){hs++,Cu[hs]=t.current,t.current=n}var Pr={},kt=Rr(Pr),$t=Rr(!1),gi=Pr;function fs(t,n){var s=t.type.contextTypes;if(!s)return Pr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in s)h[d]=n[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function Ua(){$e($t),$e(kt)}function pf(t,n,s){if(kt.current!==Pr)throw Error(r(168));Be(kt,n),Be($t,s)}function mf(t,n,s){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,xe(t)||"Unknown",h));return ee({},s,u)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,gi=kt.current,Be(kt,t),Be($t,$t.current),!0}function gf(t,n,s){var u=t.stateNode;if(!u)throw Error(r(169));s?(t=mf(t,n,gi),u.__reactInternalMemoizedMergedChildContext=t,$e($t),$e(kt),Be(kt,t)):$e($t),Be($t,s)}var sr=null,za=!1,Ru=!1;function yf(t){sr===null?sr=[t]:sr.push(t)}function ny(t){za=!0,yf(t)}function kr(){if(!Ru&&sr!==null){Ru=!0;var t=0,n=Ie;try{var s=sr;for(Ie=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}sr=null,za=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),qi(ai,kr),h}finally{Ie=n,Ru=!1}}return null}var ds=[],ps=0,Ba=null,ba=0,un=[],cn=0,yi=null,or=1,ar="";function vi(t,n){ds[ps++]=ba,ds[ps++]=Ba,Ba=t,ba=n}function vf(t,n,s){un[cn++]=or,un[cn++]=ar,un[cn++]=yi,yi=t;var u=or;t=ar;var h=32-Mt(u)-1;u&=~(1<<h),s+=1;var d=32-Mt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,or=1<<32-Mt(n)+h|s<<h|u,ar=d+t}else or=1<<d|s<<h|u,ar=t}function Pu(t){t.return!==null&&(vi(t,1),vf(t,1,0))}function ku(t){for(;t===Ba;)Ba=ds[--ps],ds[ps]=null,ba=ds[--ps],ds[ps]=null;for(;t===yi;)yi=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null}var tn=null,nn=null,qe=!1,Cn=null;function _f(t,n){var s=pn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Ef(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,tn=t,nn=Cr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,tn=t,nn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=yi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=pn(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,tn=t,nn=null,!0):!1;default:return!1}}function Vu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Du(t){if(qe){var n=nn;if(n){var s=n;if(!Ef(t,n)){if(Vu(t))throw Error(r(418));n=Cr(s.nextSibling);var u=tn;n&&Ef(t,n)?_f(u,s):(t.flags=t.flags&-4097|2,qe=!1,tn=t)}}else{if(Vu(t))throw Error(r(418));t.flags=t.flags&-4097|2,qe=!1,tn=t}}}function wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function $a(t){if(t!==tn)return!1;if(!qe)return wf(t),qe=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Tu(t.type,t.memoizedProps)),n&&(n=nn)){if(Vu(t))throw Tf(),Error(r(418));for(;n;)_f(t,n),n=Cr(n.nextSibling)}if(wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){nn=Cr(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}nn=null}}else nn=tn?Cr(t.stateNode.nextSibling):null;return!0}function Tf(){for(var t=nn;t;)t=Cr(t.nextSibling)}function ms(){nn=tn=null,qe=!1}function Nu(t){Cn===null?Cn=[t]:Cn.push(t)}var ry=ge.ReactCurrentBatchConfig;function Ro(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,t));var h=u,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var T=h.refs;y===null?delete T[d]:T[d]=y},n._stringRef=d,n)}if(typeof t!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,t))}return t}function Ha(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Sf(t){var n=t._init;return n(t._payload)}function If(t){function n(M,V){if(t){var F=M.deletions;F===null?(M.deletions=[V],M.flags|=16):F.push(V)}}function s(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function u(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(M,V){return M=Fr(M,V),M.index=0,M.sibling=null,M}function d(M,V,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<V?(M.flags|=2,V):F):(M.flags|=2,V)):(M.flags|=1048576,V)}function y(M){return t&&M.alternate===null&&(M.flags|=2),M}function T(M,V,F,K){return V===null||V.tag!==6?(V=Sc(F,M.mode,K),V.return=M,V):(V=h(V,F),V.return=M,V)}function C(M,V,F,K){var se=F.type;return se===D?H(M,V,F.props.children,K,F.key):V!==null&&(V.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pt&&Sf(se)===V.type)?(K=h(V,F.props),K.ref=Ro(M,V,F),K.return=M,K):(K=pl(F.type,F.key,F.props,null,M.mode,K),K.ref=Ro(M,V,F),K.return=M,K)}function U(M,V,F,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=Ic(F,M.mode,K),V.return=M,V):(V=h(V,F.children||[]),V.return=M,V)}function H(M,V,F,K,se){return V===null||V.tag!==7?(V=Ci(F,M.mode,K,se),V.return=M,V):(V=h(V,F),V.return=M,V)}function W(M,V,F){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Sc(""+V,M.mode,F),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Fe:return F=pl(V.type,V.key,V.props,null,M.mode,F),F.ref=Ro(M,null,V),F.return=M,F;case Se:return V=Ic(V,M.mode,F),V.return=M,V;case Pt:var K=V._init;return W(M,K(V._payload),F)}if(Gn(V)||le(V))return V=Ci(V,M.mode,F,null),V.return=M,V;Ha(M,V)}return null}function $(M,V,F,K){var se=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return se!==null?null:T(M,V,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Fe:return F.key===se?C(M,V,F,K):null;case Se:return F.key===se?U(M,V,F,K):null;case Pt:return se=F._init,$(M,V,se(F._payload),K)}if(Gn(F)||le(F))return se!==null?null:H(M,V,F,K,null);Ha(M,F)}return null}function Z(M,V,F,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(F)||null,T(V,M,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Fe:return M=M.get(K.key===null?F:K.key)||null,C(V,M,K,se);case Se:return M=M.get(K.key===null?F:K.key)||null,U(V,M,K,se);case Pt:var ue=K._init;return Z(M,V,F,ue(K._payload),se)}if(Gn(K)||le(K))return M=M.get(F)||null,H(V,M,K,se,null);Ha(V,K)}return null}function re(M,V,F,K){for(var se=null,ue=null,ce=V,de=V=0,_t=null;ce!==null&&de<F.length;de++){ce.index>de?(_t=ce,ce=null):_t=ce.sibling;var Ne=$(M,ce,F[de],K);if(Ne===null){ce===null&&(ce=_t);break}t&&ce&&Ne.alternate===null&&n(M,ce),V=d(Ne,V,de),ue===null?se=Ne:ue.sibling=Ne,ue=Ne,ce=_t}if(de===F.length)return s(M,ce),qe&&vi(M,de),se;if(ce===null){for(;de<F.length;de++)ce=W(M,F[de],K),ce!==null&&(V=d(ce,V,de),ue===null?se=ce:ue.sibling=ce,ue=ce);return qe&&vi(M,de),se}for(ce=u(M,ce);de<F.length;de++)_t=Z(ce,M,de,F[de],K),_t!==null&&(t&&_t.alternate!==null&&ce.delete(_t.key===null?de:_t.key),V=d(_t,V,de),ue===null?se=_t:ue.sibling=_t,ue=_t);return t&&ce.forEach(function(Ur){return n(M,Ur)}),qe&&vi(M,de),se}function ie(M,V,F,K){var se=le(F);if(typeof se!="function")throw Error(r(150));if(F=se.call(F),F==null)throw Error(r(151));for(var ue=se=null,ce=V,de=V=0,_t=null,Ne=F.next();ce!==null&&!Ne.done;de++,Ne=F.next()){ce.index>de?(_t=ce,ce=null):_t=ce.sibling;var Ur=$(M,ce,Ne.value,K);if(Ur===null){ce===null&&(ce=_t);break}t&&ce&&Ur.alternate===null&&n(M,ce),V=d(Ur,V,de),ue===null?se=Ur:ue.sibling=Ur,ue=Ur,ce=_t}if(Ne.done)return s(M,ce),qe&&vi(M,de),se;if(ce===null){for(;!Ne.done;de++,Ne=F.next())Ne=W(M,Ne.value,K),Ne!==null&&(V=d(Ne,V,de),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return qe&&vi(M,de),se}for(ce=u(M,ce);!Ne.done;de++,Ne=F.next())Ne=Z(ce,M,de,Ne.value,K),Ne!==null&&(t&&Ne.alternate!==null&&ce.delete(Ne.key===null?de:Ne.key),V=d(Ne,V,de),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return t&&ce.forEach(function(Ly){return n(M,Ly)}),qe&&vi(M,de),se}function Ze(M,V,F,K){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Fe:e:{for(var se=F.key,ue=V;ue!==null;){if(ue.key===se){if(se=F.type,se===D){if(ue.tag===7){s(M,ue.sibling),V=h(ue,F.props.children),V.return=M,M=V;break e}}else if(ue.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pt&&Sf(se)===ue.type){s(M,ue.sibling),V=h(ue,F.props),V.ref=Ro(M,ue,F),V.return=M,M=V;break e}s(M,ue);break}else n(M,ue);ue=ue.sibling}F.type===D?(V=Ci(F.props.children,M.mode,K,F.key),V.return=M,M=V):(K=pl(F.type,F.key,F.props,null,M.mode,K),K.ref=Ro(M,V,F),K.return=M,M=K)}return y(M);case Se:e:{for(ue=F.key;V!==null;){if(V.key===ue)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){s(M,V.sibling),V=h(V,F.children||[]),V.return=M,M=V;break e}else{s(M,V);break}else n(M,V);V=V.sibling}V=Ic(F,M.mode,K),V.return=M,M=V}return y(M);case Pt:return ue=F._init,Ze(M,V,ue(F._payload),K)}if(Gn(F))return re(M,V,F,K);if(le(F))return ie(M,V,F,K);Ha(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,V!==null&&V.tag===6?(s(M,V.sibling),V=h(V,F),V.return=M,M=V):(s(M,V),V=Sc(F,M.mode,K),V.return=M,M=V),y(M)):s(M,V)}return Ze}var gs=If(!0),Af=If(!1),qa=Rr(null),Wa=null,ys=null,xu=null;function Ou(){xu=ys=Wa=null}function Lu(t){var n=qa.current;$e(qa),t._currentValue=n}function Mu(t,n,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===s)break;t=t.return}}function vs(t,n){Wa=t,xu=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(qt=!0),t.firstContext=null)}function hn(t){var n=t._currentValue;if(xu!==t)if(t={context:t,memoizedValue:n,next:null},ys===null){if(Wa===null)throw Error(r(308));ys=t,Wa.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return n}var _i=null;function Fu(t){_i===null?_i=[t]:_i.push(t)}function Cf(t,n,s,u){var h=n.interleaved;return h===null?(s.next=s,Fu(n)):(s.next=h.next,h.next=s),n.interleaved=s,lr(t,u)}function lr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Vr=!1;function Uu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Dr(t,n,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ve&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,lr(t,s)}return h=u.interleaved,h===null?(n.next=n,Fu(u)):(n.next=h.next,h.next=n),u.interleaved=n,lr(t,s)}function Qa(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,Er(t,s)}}function Pf(t,n){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?h=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Ka(t,n,s,u){var h=t.updateQueue;Vr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,y===null?d=U:y.next=U,y=C;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==y&&(T===null?H.firstBaseUpdate=U:T.next=U,H.lastBaseUpdate=C))}if(d!==null){var W=h.baseState;y=0,H=U=C=null,T=d;do{var $=T.lane,Z=T.eventTime;if((u&$)===$){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var re=t,ie=T;switch($=n,Z=s,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){W=re.call(Z,W,$);break e}W=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Z,W,$):re,$==null)break e;W=ee({},W,$);break e;case 2:Vr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[T]:$.push(T))}else Z={eventTime:Z,lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(U=H=Z,C=W):H=H.next=Z,y|=$;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(H===null&&(C=W),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=H,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);Ti|=y,t.lanes=y,t.memoizedState=W}}function kf(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Po={},jn=Rr(Po),ko=Rr(Po),Vo=Rr(Po);function Ei(t){if(t===Po)throw Error(r(174));return t}function ju(t,n){switch(Be(Vo,n),Be(ko,t),Be(jn,Po),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:lt(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=lt(n,t)}$e(jn),Be(jn,n)}function _s(){$e(jn),$e(ko),$e(Vo)}function Vf(t){Ei(Vo.current);var n=Ei(jn.current),s=lt(n,t.type);n!==s&&(Be(ko,t),Be(jn,s))}function zu(t){ko.current===t&&($e(jn),$e(ko))}var We=Rr(0);function Ga(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bu=[];function bu(){for(var t=0;t<Bu.length;t++)Bu[t]._workInProgressVersionPrimary=null;Bu.length=0}var Xa=ge.ReactCurrentDispatcher,$u=ge.ReactCurrentBatchConfig,wi=0,Qe=null,ct=null,yt=null,Ya=!1,Do=!1,No=0,iy=0;function Vt(){throw Error(r(321))}function Hu(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!An(t[s],n[s]))return!1;return!0}function qu(t,n,s,u,h,d){if(wi=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Xa.current=t===null||t.memoizedState===null?ly:uy,t=s(u,h),Do){d=0;do{if(Do=!1,No=0,25<=d)throw Error(r(301));d+=1,yt=ct=null,n.updateQueue=null,Xa.current=cy,t=s(u,h)}while(Do)}if(Xa.current=el,n=ct!==null&&ct.next!==null,wi=0,yt=ct=Qe=null,Ya=!1,n)throw Error(r(300));return t}function Wu(){var t=No!==0;return No=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Qe.memoizedState=yt=t:yt=yt.next=t,yt}function fn(){if(ct===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=yt===null?Qe.memoizedState:yt.next;if(n!==null)yt=n,ct=t;else{if(t===null)throw Error(r(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},yt===null?Qe.memoizedState=yt=t:yt=yt.next=t}return yt}function xo(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=ct,h=u.baseQueue,d=s.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,s.pending=null}if(h!==null){d=h.next,u=u.baseState;var T=y=null,C=null,U=d;do{var H=U.lane;if((wi&H)===H)C!==null&&(C=C.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var W={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};C===null?(T=C=W,y=u):C=C.next=W,Qe.lanes|=H,Ti|=H}U=U.next}while(U!==null&&U!==d);C===null?y=u:C.next=T,An(u,n.memoizedState)||(qt=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=C,s.lastRenderedState=u}if(t=s.interleaved,t!==null){h=t;do d=h.lane,Qe.lanes|=d,Ti|=d,h=h.next;while(h!==t)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Ku(t){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);An(d,n.memoizedState)||(qt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,u]}function Df(){}function Nf(t,n){var s=Qe,u=fn(),h=n(),d=!An(u.memoizedState,h);if(d&&(u.memoizedState=h,qt=!0),u=u.queue,Gu(Lf.bind(null,s,u,t),[t]),u.getSnapshot!==n||d||yt!==null&&yt.memoizedState.tag&1){if(s.flags|=2048,Oo(9,Of.bind(null,s,u,h,n),void 0,null),vt===null)throw Error(r(349));wi&30||xf(s,n,h)}return h}function xf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Of(t,n,s,u){n.value=s,n.getSnapshot=u,Mf(n)&&Ff(t)}function Lf(t,n,s){return s(function(){Mf(n)&&Ff(t)})}function Mf(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!An(t,s)}catch{return!0}}function Ff(t){var n=lr(t,1);n!==null&&Vn(n,t,1,-1)}function Uf(t){var n=zn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},n.queue=t,t=t.dispatch=ay.bind(null,Qe,t),[n.memoizedState,t]}function Oo(t,n,s,u){return t={tag:t,create:n,destroy:s,deps:u,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,n.lastEffect=t)),t}function jf(){return fn().memoizedState}function Ja(t,n,s,u){var h=zn();Qe.flags|=t,h.memoizedState=Oo(1|n,s,void 0,u===void 0?null:u)}function Za(t,n,s,u){var h=fn();u=u===void 0?null:u;var d=void 0;if(ct!==null){var y=ct.memoizedState;if(d=y.destroy,u!==null&&Hu(u,y.deps)){h.memoizedState=Oo(n,s,d,u);return}}Qe.flags|=t,h.memoizedState=Oo(1|n,s,d,u)}function zf(t,n){return Ja(8390656,8,t,n)}function Gu(t,n){return Za(2048,8,t,n)}function Bf(t,n){return Za(4,2,t,n)}function bf(t,n){return Za(4,4,t,n)}function $f(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hf(t,n,s){return s=s!=null?s.concat([t]):null,Za(4,4,$f.bind(null,n,t),s)}function Xu(){}function qf(t,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Hu(n,u[1])?u[0]:(s.memoizedState=[t,n],t)}function Wf(t,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&Hu(n,u[1])?u[0]:(t=t(),s.memoizedState=[t,n],t)}function Qf(t,n,s){return wi&21?(An(s,n)||(s=ci(),Qe.lanes|=s,Ti|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=s)}function sy(t,n){var s=Ie;Ie=s!==0&&4>s?s:4,t(!0);var u=$u.transition;$u.transition={};try{t(!1),n()}finally{Ie=s,$u.transition=u}}function Kf(){return fn().memoizedState}function oy(t,n,s){var u=Lr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},Gf(t))Xf(n,s);else if(s=Cf(t,n,s,u),s!==null){var h=jt();Vn(s,t,u,h),Yf(s,n,u)}}function ay(t,n,s){var u=Lr(t),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gf(t))Xf(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,T=d(y,s);if(h.hasEagerState=!0,h.eagerState=T,An(T,y)){var C=n.interleaved;C===null?(h.next=h,Fu(n)):(h.next=C.next,C.next=h),n.interleaved=h;return}}catch{}finally{}s=Cf(t,n,h,u),s!==null&&(h=jt(),Vn(s,t,u,h),Yf(s,n,u))}}function Gf(t){var n=t.alternate;return t===Qe||n!==null&&n===Qe}function Xf(t,n){Do=Ya=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Yf(t,n,s){if(s&4194240){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,Er(t,s)}}var el={readContext:hn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},ly={readContext:hn,useCallback:function(t,n){return zn().memoizedState=[t,n===void 0?null:n],t},useContext:hn,useEffect:zf,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,Ja(4194308,4,$f.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ja(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ja(4,2,t,n)},useMemo:function(t,n){var s=zn();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var u=zn();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=oy.bind(null,Qe,t),[u.memoizedState,t]},useRef:function(t){var n=zn();return t={current:t},n.memoizedState=t},useState:Uf,useDebugValue:Xu,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Uf(!1),n=t[0];return t=sy.bind(null,t[1]),zn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var u=Qe,h=zn();if(qe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),vt===null)throw Error(r(349));wi&30||xf(u,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,zf(Lf.bind(null,u,d,t),[t]),u.flags|=2048,Oo(9,Of.bind(null,u,d,s,n),void 0,null),s},useId:function(){var t=zn(),n=vt.identifierPrefix;if(qe){var s=ar,u=or;s=(u&~(1<<32-Mt(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=No++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=iy++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},uy={readContext:hn,useCallback:qf,useContext:hn,useEffect:Gu,useImperativeHandle:Hf,useInsertionEffect:Bf,useLayoutEffect:bf,useMemo:Wf,useReducer:Qu,useRef:jf,useState:function(){return Qu(xo)},useDebugValue:Xu,useDeferredValue:function(t){var n=fn();return Qf(n,ct.memoizedState,t)},useTransition:function(){var t=Qu(xo)[0],n=fn().memoizedState;return[t,n]},useMutableSource:Df,useSyncExternalStore:Nf,useId:Kf,unstable_isNewReconciler:!1},cy={readContext:hn,useCallback:qf,useContext:hn,useEffect:Gu,useImperativeHandle:Hf,useInsertionEffect:Bf,useLayoutEffect:bf,useMemo:Wf,useReducer:Ku,useRef:jf,useState:function(){return Ku(xo)},useDebugValue:Xu,useDeferredValue:function(t){var n=fn();return ct===null?n.memoizedState=t:Qf(n,ct.memoizedState,t)},useTransition:function(){var t=Ku(xo)[0],n=fn().memoizedState;return[t,n]},useMutableSource:Df,useSyncExternalStore:Nf,useId:Kf,unstable_isNewReconciler:!1};function Rn(t,n){if(t&&t.defaultProps){n=ee({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function Yu(t,n,s,u){n=t.memoizedState,s=s(u,n),s=s==null?n:ee({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var tl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var u=jt(),h=Lr(t),d=ur(u,h);d.payload=n,s!=null&&(d.callback=s),n=Dr(t,d,h),n!==null&&(Vn(n,t,h,u),Qa(n,t,h))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var u=jt(),h=Lr(t),d=ur(u,h);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Dr(t,d,h),n!==null&&(Vn(n,t,h,u),Qa(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=jt(),u=Lr(t),h=ur(s,u);h.tag=2,n!=null&&(h.callback=n),n=Dr(t,h,u),n!==null&&(Vn(n,t,u,s),Qa(n,t,u))}};function Jf(t,n,s,u,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!Eo(s,u)||!Eo(h,d):!0}function Zf(t,n,s){var u=!1,h=Pr,d=n.contextType;return typeof d=="object"&&d!==null?d=hn(d):(h=Ht(n)?gi:kt.current,u=n.contextTypes,d=(u=u!=null)?fs(t,h):Pr),n=new n(s,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=tl,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=d),n}function ed(t,n,s,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==t&&tl.enqueueReplaceState(n,n.state,null)}function Ju(t,n,s,u){var h=t.stateNode;h.props=s,h.state=t.memoizedState,h.refs={},Uu(t);var d=n.contextType;typeof d=="object"&&d!==null?h.context=hn(d):(d=Ht(n)?gi:kt.current,h.context=fs(t,d)),h.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Yu(t,n,d,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&tl.enqueueReplaceState(h,h.state,null),Ka(t,s,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,n){try{var s="",u=n;do s+=_e(u),u=u.return;while(u);var h=s}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:h,digest:null}}function Zu(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function ec(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var hy=typeof WeakMap=="function"?WeakMap:Map;function td(t,n,s){s=ur(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){ll||(ll=!0,mc=u),ec(t,n)},s}function nd(t,n,s){s=ur(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){ec(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ec(t,n),typeof u!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function rd(t,n,s){var u=t.pingCache;if(u===null){u=t.pingCache=new hy;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),t=Ay.bind(null,t,n,s),n.then(t,t))}function id(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function sd(t,n,s,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=ur(-1,1),n.tag=2,Dr(s,n,1))),s.lanes|=1),t)}var fy=ge.ReactCurrentOwner,qt=!1;function Ut(t,n,s,u){n.child=t===null?Af(n,null,s,u):gs(n,t.child,s,u)}function od(t,n,s,u,h){s=s.render;var d=n.ref;return vs(n,h),u=qu(t,n,s,u,d,h),s=Wu(),t!==null&&!qt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,cr(t,n,h)):(qe&&s&&Pu(n),n.flags|=1,Ut(t,n,u,h),n.child)}function ad(t,n,s,u,h){if(t===null){var d=s.type;return typeof d=="function"&&!Tc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,ld(t,n,d,u,h)):(t=pl(s.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!(t.lanes&h)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Eo,s(y,u)&&t.ref===n.ref)return cr(t,n,h)}return n.flags|=1,t=Fr(d,u),t.ref=n.ref,t.return=n,n.child=t}function ld(t,n,s,u,h){if(t!==null){var d=t.memoizedProps;if(Eo(d,u)&&t.ref===n.ref)if(qt=!1,n.pendingProps=u=d,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return n.lanes=t.lanes,cr(t,n,h)}return tc(t,n,s,u,h)}function ud(t,n,s){var u=n.pendingProps,h=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ts,rn),rn|=s;else{if(!(s&1073741824))return t=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Be(Ts,rn),rn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:s,Be(Ts,rn),rn|=u}else d!==null?(u=d.baseLanes|s,n.memoizedState=null):u=s,Be(Ts,rn),rn|=u;return Ut(t,n,h,s),n.child}function cd(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function tc(t,n,s,u,h){var d=Ht(s)?gi:kt.current;return d=fs(n,d),vs(n,h),s=qu(t,n,s,u,d,h),u=Wu(),t!==null&&!qt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,cr(t,n,h)):(qe&&u&&Pu(n),n.flags|=1,Ut(t,n,s,h),n.child)}function hd(t,n,s,u,h){if(Ht(s)){var d=!0;ja(n)}else d=!1;if(vs(n,h),n.stateNode===null)rl(t,n),Zf(n,s,u),Ju(n,s,u,h),u=!0;else if(t===null){var y=n.stateNode,T=n.memoizedProps;y.props=T;var C=y.context,U=s.contextType;typeof U=="object"&&U!==null?U=hn(U):(U=Ht(s)?gi:kt.current,U=fs(n,U));var H=s.getDerivedStateFromProps,W=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";W||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==u||C!==U)&&ed(n,y,u,U),Vr=!1;var $=n.memoizedState;y.state=$,Ka(n,u,y,h),C=n.memoizedState,T!==u||$!==C||$t.current||Vr?(typeof H=="function"&&(Yu(n,s,H,u),C=n.memoizedState),(T=Vr||Jf(n,s,T,u,$,C,U))?(W||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=C),y.props=u,y.state=C,y.context=U,u=T):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Rf(t,n),T=n.memoizedProps,U=n.type===n.elementType?T:Rn(n.type,T),y.props=U,W=n.pendingProps,$=y.context,C=s.contextType,typeof C=="object"&&C!==null?C=hn(C):(C=Ht(s)?gi:kt.current,C=fs(n,C));var Z=s.getDerivedStateFromProps;(H=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==W||$!==C)&&ed(n,y,u,C),Vr=!1,$=n.memoizedState,y.state=$,Ka(n,u,y,h);var re=n.memoizedState;T!==W||$!==re||$t.current||Vr?(typeof Z=="function"&&(Yu(n,s,Z,u),re=n.memoizedState),(U=Vr||Jf(n,s,U,u,$,re,C)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,C)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=C,u=U):(typeof y.componentDidUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),u=!1)}return nc(t,n,s,u,d,h)}function nc(t,n,s,u,h,d){cd(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&gf(n,s,!1),cr(t,n,d);u=n.stateNode,fy.current=n;var T=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=gs(n,t.child,null,d),n.child=gs(n,null,T,d)):Ut(t,n,T,d),n.memoizedState=u.state,h&&gf(n,s,!0),n.child}function fd(t){var n=t.stateNode;n.pendingContext?pf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&pf(t,n.context,!1),ju(t,n.containerInfo)}function dd(t,n,s,u,h){return ms(),Nu(h),n.flags|=256,Ut(t,n,s,u),n.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function pd(t,n,s){var u=n.pendingProps,h=We.current,d=!1,y=(n.flags&128)!==0,T;if((T=y)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Be(We,h&1),t===null)return Du(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,t=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},!(u&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=ml(y,u,0,null),t=Ci(t,u,s,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=ic(s),n.memoizedState=rc,t):sc(n,y));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return dy(t,n,y,u,T,h,s);if(d){d=u.fallback,y=n.mode,h=t.child,T=h.sibling;var C={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=C,n.deletions=null):(u=Fr(h,C),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?d=Fr(T,d):(d=Ci(d,y,s,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=t.child.memoizedState,y=y===null?ic(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=t.childLanes&~s,n.memoizedState=rc,u}return d=t.child,t=d.sibling,u=Fr(d,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=s),u.return=n,u.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=u,n.memoizedState=null,u}function sc(t,n){return n=ml({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function nl(t,n,s,u){return u!==null&&Nu(u),gs(n,t.child,null,s),t=sc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,s,u,h,d,y){if(s)return n.flags&256?(n.flags&=-257,u=Zu(Error(r(422))),nl(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=ml({mode:"visible",children:u.children},h,0,null),d=Ci(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,n.mode&1&&gs(n,t.child,null,y),n.child.memoizedState=ic(y),n.memoizedState=rc,d);if(!(n.mode&1))return nl(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,d=Error(r(419)),u=Zu(d,u,void 0),nl(t,n,y,u)}if(T=(y&t.childLanes)!==0,qt||T){if(u=vt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,lr(t,h),Vn(u,t,h,-1))}return wc(),u=Zu(Error(r(421))),nl(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=Cy.bind(null,t),h._reactRetry=n,null):(t=d.treeContext,nn=Cr(h.nextSibling),tn=n,qe=!0,Cn=null,t!==null&&(un[cn++]=or,un[cn++]=ar,un[cn++]=yi,or=t.id,ar=t.overflow,yi=n),n=sc(n,u.children),n.flags|=4096,n)}function md(t,n,s){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Mu(t.return,n,s)}function oc(t,n,s,u,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=s,d.tailMode=h)}function gd(t,n,s){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Ut(t,n,u.children,s),u=We.current,u&2)u=u&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&md(t,s,n);else if(t.tag===19)md(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Be(We,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Ga(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),oc(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ga(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}oc(n,!0,s,null,d);break;case"together":oc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function rl(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function cr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ti|=n.lanes,!(s&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Fr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Fr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function py(t,n,s){switch(n.tag){case 3:fd(n),ms();break;case 5:Vf(n);break;case 1:Ht(n.type)&&ja(n);break;case 4:ju(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Be(qa,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Be(We,We.current&1),n.flags|=128,null):s&n.child.childLanes?pd(t,n,s):(Be(We,We.current&1),t=cr(t,n,s),t!==null?t.sibling:null);Be(We,We.current&1);break;case 19:if(u=(s&n.childLanes)!==0,t.flags&128){if(u)return gd(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(We,We.current),u)break;return null;case 22:case 23:return n.lanes=0,ud(t,n,s)}return cr(t,n,s)}var yd,ac,vd,_d;yd=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},ac=function(){},vd=function(t,n,s,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,Ei(jn.current);var d=null;switch(s){case"input":h=Zr(t,h),u=Zr(t,u),d=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),d=[];break;case"textarea":h=Ks(t,h),u=Ks(t,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ma)}eo(s,u);var y;s=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(y in T)T.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(l.hasOwnProperty(U)?d||(d=[]):(d=d||[]).push(U,null));for(U in u){var C=u[U];if(T=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&C!==T&&(C!=null||T!=null))if(U==="style")if(T){for(y in T)!T.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in C)C.hasOwnProperty(y)&&T[y]!==C[y]&&(s||(s={}),s[y]=C[y])}else s||(d||(d=[]),d.push(U,s)),s=C;else U==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,T=T?T.__html:void 0,C!=null&&T!==C&&(d=d||[]).push(U,C)):U==="children"?typeof C!="string"&&typeof C!="number"||(d=d||[]).push(U,""+C):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(l.hasOwnProperty(U)?(C!=null&&U==="onScroll"&&be("scroll",t),d||T===C||(d=[])):(d=d||[]).push(U,C))}s&&(d=d||[]).push("style",s);var U=d;(n.updateQueue=U)&&(n.flags|=4)}},_d=function(t,n,s,u){s!==u&&(n.flags|=4)};function Lo(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,n}function my(t,n,s){var u=n.pendingProps;switch(ku(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Ht(n.type)&&Ua(),Dt(n),null;case 3:return u=n.stateNode,_s(),$e($t),$e(kt),bu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&($a(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Cn!==null&&(vc(Cn),Cn=null))),ac(t,n),Dt(n),null;case 5:zu(n);var h=Ei(Vo.current);if(s=n.type,t!==null&&n.stateNode!=null)vd(t,n,s,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Dt(n),null}if(t=Ei(jn.current),$a(n)){u=n.stateNode,s=n.type;var d=n.memoizedProps;switch(u[Un]=n,u[Ao]=d,t=(n.mode&1)!==0,s){case"dialog":be("cancel",u),be("close",u);break;case"iframe":case"object":case"embed":be("load",u);break;case"video":case"audio":for(h=0;h<To.length;h++)be(To[h],u);break;case"source":be("error",u);break;case"img":case"image":case"link":be("error",u),be("load",u);break;case"details":be("toggle",u);break;case"input":Oi(u,d),be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},be("invalid",u);break;case"textarea":Mi(u,d),be("invalid",u)}eo(s,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var T=d[y];y==="children"?typeof T=="string"?u.textContent!==T&&(d.suppressHydrationWarning!==!0&&La(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(d.suppressHydrationWarning!==!0&&La(u.textContent,T,t),h=["children",""+T]):l.hasOwnProperty(y)&&T!=null&&y==="onScroll"&&be("scroll",u)}switch(s){case"input":Kn(u),aa(u,d,!0);break;case"textarea":Kn(u),Gs(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Ma)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(s,{is:u.is}):(t=y.createElement(s),s==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,s),t[Un]=n,t[Ao]=u,yd(t,n,!1,!1),n.stateNode=t;e:{switch(y=to(s,u),s){case"dialog":be("cancel",t),be("close",t),h=u;break;case"iframe":case"object":case"embed":be("load",t),h=u;break;case"video":case"audio":for(h=0;h<To.length;h++)be(To[h],t);h=u;break;case"source":be("error",t),h=u;break;case"img":case"image":case"link":be("error",t),be("load",t),h=u;break;case"details":be("toggle",t),h=u;break;case"input":Oi(t,u),h=Zr(t,u),be("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),be("invalid",t);break;case"textarea":Mi(t,u),h=Ks(t,u),be("invalid",t);break;default:h=u}eo(s,h),T=h;for(d in T)if(T.hasOwnProperty(d)){var C=T[d];d==="style"?Js(t,C):d==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Xs(t,C)):d==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&mr(t,C):typeof C=="number"&&mr(t,""+C):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?C!=null&&d==="onScroll"&&be("scroll",t):C!=null&&pe(t,d,C,y))}switch(s){case"input":Kn(t),aa(t,u,!1);break;case"textarea":Kn(t),Gs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?Xn(t,!!u.multiple,d,!1):u.defaultValue!=null&&Xn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ma)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(t&&n.stateNode!=null)_d(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=Ei(Vo.current),Ei(jn.current),$a(n)){if(u=n.stateNode,s=n.memoizedProps,u[Un]=n,(d=u.nodeValue!==s)&&(t=tn,t!==null))switch(t.tag){case 3:La(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&La(u.nodeValue,s,(t.mode&1)!==0)}d&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Un]=n,n.stateNode=u}return Dt(n),null;case 13:if($e(We),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&nn!==null&&n.mode&1&&!(n.flags&128))Tf(),ms(),n.flags|=98560,d=!1;else if(d=$a(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Un]=n}else ms(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Dt(n),d=!1}else Cn!==null&&(vc(Cn),Cn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(t===null||We.current&1?ht===0&&(ht=3):wc())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return _s(),ac(t,n),t===null&&So(n.stateNode.containerInfo),Dt(n),null;case 10:return Lu(n.type._context),Dt(n),null;case 17:return Ht(n.type)&&Ua(),Dt(n),null;case 19:if($e(We),d=n.memoizedState,d===null)return Dt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Lo(d,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(y=Ga(t),y!==null){for(n.flags|=128,Lo(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)d=s,t=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,t=y.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Be(We,We.current&1|2),n.child}t=t.sibling}d.tail!==null&&ze()>Ss&&(n.flags|=128,u=!0,Lo(d,!1),n.lanes=4194304)}else{if(!u)if(t=Ga(y),t!==null){if(n.flags|=128,u=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Lo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!qe)return Dt(n),null}else 2*ze()-d.renderingStartTime>Ss&&s!==1073741824&&(n.flags|=128,u=!0,Lo(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(s=d.last,s!==null?s.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,s=We.current,Be(We,u?s&1|2:s&1),n):(Dt(n),null);case 22:case 23:return Ec(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?rn&1073741824&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function gy(t,n){switch(ku(n),n.tag){case 1:return Ht(n.type)&&Ua(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _s(),$e($t),$e(kt),bu(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return zu(n),null;case 13:if($e(We),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ms()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $e(We),null;case 4:return _s(),null;case 10:return Lu(n.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var il=!1,Nt=!1,yy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ws(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Xe(t,n,u)}else s.current=null}function lc(t,n,s){try{s()}catch(u){Xe(t,n,u)}}var Ed=!1;function vy(t,n){if(Eu=Sr,t=Yh(),fu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,T=-1,C=-1,U=0,H=0,W=t,$=null;t:for(;;){for(var Z;W!==s||h!==0&&W.nodeType!==3||(T=y+h),W!==d||u!==0&&W.nodeType!==3||(C=y+u),W.nodeType===3&&(y+=W.nodeValue.length),(Z=W.firstChild)!==null;)$=W,W=Z;for(;;){if(W===t)break t;if($===s&&++U===h&&(T=y),$===d&&++H===u&&(C=y),(Z=W.nextSibling)!==null)break;W=$,$=W.parentNode}W=Z}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(wu={focusedElem:t,selectionRange:s},Sr=!1,ne=n;ne!==null;)if(n=ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ne=t;else for(;ne!==null;){n=ne;try{var re=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ze=re.memoizedState,M=n.stateNode,V=M.getSnapshotBeforeUpdate(n.elementType===n.type?ie:Rn(n.type,ie),Ze);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){Xe(n,n.return,K)}if(t=n.sibling,t!==null){t.return=n.return,ne=t;break}ne=n.return}return re=Ed,Ed=!1,re}function Mo(t,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var d=h.destroy;h.destroy=void 0,d!==void 0&&lc(n,s,d)}h=h.next}while(h!==u)}}function sl(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function uc(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function wd(t){var n=t.alternate;n!==null&&(t.alternate=null,wd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Un],delete n[Ao],delete n[Au],delete n[ey],delete n[ty])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Td(t){return t.tag===5||t.tag===3||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Td(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ma));else if(u!==4&&(t=t.child,t!==null))for(cc(t,n,s),t=t.sibling;t!==null;)cc(t,n,s),t=t.sibling}function hc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(hc(t,n,s),t=t.sibling;t!==null;)hc(t,n,s),t=t.sibling}var St=null,Pn=!1;function Nr(t,n,s){for(s=s.child;s!==null;)Id(t,n,s),s=s.sibling}function Id(t,n,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(li,s)}catch{}switch(s.tag){case 5:Nt||ws(s,n);case 6:var u=St,h=Pn;St=null,Nr(t,n,s),St=u,Pn=h,St!==null&&(Pn?(t=St,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):St.removeChild(s.stateNode));break;case 18:St!==null&&(Pn?(t=St,s=s.stateNode,t.nodeType===8?Iu(t.parentNode,s):t.nodeType===1&&Iu(t,s),Sn(t)):Iu(St,s.stateNode));break;case 4:u=St,h=Pn,St=s.stateNode.containerInfo,Pn=!0,Nr(t,n,s),St=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&lc(s,n,y),h=h.next}while(h!==u)}Nr(t,n,s);break;case 1:if(!Nt&&(ws(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(T){Xe(s,n,T)}Nr(t,n,s);break;case 21:Nr(t,n,s);break;case 22:s.mode&1?(Nt=(u=Nt)||s.memoizedState!==null,Nr(t,n,s),Nt=u):Nr(t,n,s);break;default:Nr(t,n,s)}}function Ad(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new yy),n.forEach(function(u){var h=Ry.bind(null,t,u);s.has(u)||(s.add(u),u.then(h,h))})}}function kn(t,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var d=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 5:St=T.stateNode,Pn=!1;break e;case 3:St=T.stateNode.containerInfo,Pn=!0;break e;case 4:St=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(St===null)throw Error(r(160));Id(d,y,h),St=null,Pn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(U){Xe(h,n,U)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Cd(n,t),n=n.sibling}function Cd(t,n){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(n,t),Bn(t),u&4){try{Mo(3,t,t.return),sl(3,t)}catch(ie){Xe(t,t.return,ie)}try{Mo(5,t,t.return)}catch(ie){Xe(t,t.return,ie)}}break;case 1:kn(n,t),Bn(t),u&512&&s!==null&&ws(s,s.return);break;case 5:if(kn(n,t),Bn(t),u&512&&s!==null&&ws(s,s.return),t.flags&32){var h=t.stateNode;try{mr(h,"")}catch(ie){Xe(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var d=t.memoizedProps,y=s!==null?s.memoizedProps:d,T=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{T==="input"&&d.type==="radio"&&d.name!=null&&Ws(h,d),to(T,y);var U=to(T,d);for(y=0;y<C.length;y+=2){var H=C[y],W=C[y+1];H==="style"?Js(h,W):H==="dangerouslySetInnerHTML"?Xs(h,W):H==="children"?mr(h,W):pe(h,H,W,U)}switch(T){case"input":Qs(h,d);break;case"textarea":Fi(h,d);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var Z=d.value;Z!=null?Xn(h,!!d.multiple,Z,!1):$!==!!d.multiple&&(d.defaultValue!=null?Xn(h,!!d.multiple,d.defaultValue,!0):Xn(h,!!d.multiple,d.multiple?[]:"",!1))}h[Ao]=d}catch(ie){Xe(t,t.return,ie)}}break;case 6:if(kn(n,t),Bn(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(ie){Xe(t,t.return,ie)}}break;case 3:if(kn(n,t),Bn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Sn(n.containerInfo)}catch(ie){Xe(t,t.return,ie)}break;case 4:kn(n,t),Bn(t);break;case 13:kn(n,t),Bn(t),h=t.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(pc=ze())),u&4&&Ad(t);break;case 22:if(H=s!==null&&s.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||H,kn(n,t),Nt=U):kn(n,t),Bn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!H&&t.mode&1)for(ne=t,H=t.child;H!==null;){for(W=ne=H;ne!==null;){switch($=ne,Z=$.child,$.tag){case 0:case 11:case 14:case 15:Mo(4,$,$.return);break;case 1:ws($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,s=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){Xe(u,s,ie)}}break;case 5:ws($,$.return);break;case 22:if($.memoizedState!==null){kd(W);continue}}Z!==null?(Z.return=$,ne=Z):kd(W)}H=H.sibling}e:for(H=null,W=t;;){if(W.tag===5){if(H===null){H=W;try{h=W.stateNode,U?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(T=W.stateNode,C=W.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,T.style.display=Ys("display",y))}catch(ie){Xe(t,t.return,ie)}}}else if(W.tag===6){if(H===null)try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(ie){Xe(t,t.return,ie)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;H===W&&(H=null),W=W.return}H===W&&(H=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:kn(n,t),Bn(t),u&4&&Ad(t);break;case 21:break;default:kn(n,t),Bn(t)}}function Bn(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(Td(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(mr(h,""),u.flags&=-33);var d=Sd(t);hc(t,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,T=Sd(t);cc(t,T,y);break;default:throw Error(r(161))}}catch(C){Xe(t,t.return,C)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t,n,s){ne=t,Rd(t)}function Rd(t,n,s){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||il;if(!y){var T=h.alternate,C=T!==null&&T.memoizedState!==null||Nt;T=il;var U=Nt;if(il=y,(Nt=C)&&!U)for(ne=h;ne!==null;)y=ne,C=y.child,y.tag===22&&y.memoizedState!==null?Vd(h):C!==null?(C.return=y,ne=C):Vd(h);for(;d!==null;)ne=d,Rd(d),d=d.sibling;ne=h,il=T,Nt=U}Pd(t)}else h.subtreeFlags&8772&&d!==null?(d.return=h,ne=d):Pd(t)}}function Pd(t){for(;ne!==null;){var n=ne;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Nt||sl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Nt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:Rn(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&kf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}kf(n,y,s)}break;case 5:var T=n.stateNode;if(s===null&&n.flags&4){s=T;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var U=n.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&Sn(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Nt||n.flags&512&&uc(n)}catch($){Xe(n,n.return,$)}}if(n===t){ne=null;break}if(s=n.sibling,s!==null){s.return=n.return,ne=s;break}ne=n.return}}function kd(t){for(;ne!==null;){var n=ne;if(n===t){ne=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ne=s;break}ne=n.return}}function Vd(t){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{sl(4,n)}catch(C){Xe(n,s,C)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(C){Xe(n,h,C)}}var d=n.return;try{uc(n)}catch(C){Xe(n,d,C)}break;case 5:var y=n.return;try{uc(n)}catch(C){Xe(n,y,C)}}}catch(C){Xe(n,n.return,C)}if(n===t){ne=null;break}var T=n.sibling;if(T!==null){T.return=n.return,ne=T;break}ne=n.return}}var Ey=Math.ceil,ol=ge.ReactCurrentDispatcher,fc=ge.ReactCurrentOwner,dn=ge.ReactCurrentBatchConfig,Ve=0,vt=null,rt=null,It=0,rn=0,Ts=Rr(0),ht=0,Fo=null,Ti=0,al=0,dc=0,Uo=null,Wt=null,pc=0,Ss=1/0,hr=null,ll=!1,mc=null,xr=null,ul=!1,Or=null,cl=0,jo=0,gc=null,hl=-1,fl=0;function jt(){return Ve&6?ze():hl!==-1?hl:hl=ze()}function Lr(t){return t.mode&1?Ve&2&&It!==0?It&-It:ry.transition!==null?(fl===0&&(fl=ci()),fl):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:fo(t.type)),t):1}function Vn(t,n,s,u){if(50<jo)throw jo=0,gc=null,Error(r(185));_r(t,s,u),(!(Ve&2)||t!==vt)&&(t===vt&&(!(Ve&2)&&(al|=s),ht===4&&Mr(t,It)),Qt(t,u),s===1&&Ve===0&&!(n.mode&1)&&(Ss=ze()+500,za&&kr()))}function Qt(t,n){var s=t.callbackNode;Zn(t,n);var u=ui(t,t===vt?It:0);if(u===0)s!==null&&ao(s),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(s!=null&&ao(s),n===1)t.tag===0?ny(Nd.bind(null,t)):yf(Nd.bind(null,t)),Jg(function(){!(Ve&6)&&kr()}),s=null;else{switch(wr(u)){case 1:s=ai;break;case 4:s=gr;break;case 16:s=on;break;case 536870912:s=fa;break;default:s=on}s=zd(s,Dd.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function Dd(t,n){if(hl=-1,fl=0,Ve&6)throw Error(r(327));var s=t.callbackNode;if(Is()&&t.callbackNode!==s)return null;var u=ui(t,t===vt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||n)n=dl(t,u);else{n=u;var h=Ve;Ve|=2;var d=Od();(vt!==t||It!==n)&&(hr=null,Ss=ze()+500,Ii(t,n));do try{Sy();break}catch(T){xd(t,T)}while(!0);Ou(),ol.current=d,Ve=h,rt!==null?n=0:(vt=null,It=0,n=ht)}if(n!==0){if(n===2&&(h=Jt(t),h!==0&&(u=h,n=yc(t,h))),n===1)throw s=Fo,Ii(t,0),Mr(t,u),Qt(t,ze()),s;if(n===6)Mr(t,u);else{if(h=t.current.alternate,!(u&30)&&!wy(h)&&(n=dl(t,u),n===2&&(d=Jt(t),d!==0&&(u=d,n=yc(t,d))),n===1))throw s=Fo,Ii(t,0),Mr(t,u),Qt(t,ze()),s;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Ai(t,Wt,hr);break;case 3:if(Mr(t,u),(u&130023424)===u&&(n=pc+500-ze(),10<n)){if(ui(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){jt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Su(Ai.bind(null,t,Wt,hr),n);break}Ai(t,Wt,hr);break;case 4:if(Mr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Mt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ey(u/1960))-u,10<u){t.timeoutHandle=Su(Ai.bind(null,t,Wt,hr),u);break}Ai(t,Wt,hr);break;case 5:Ai(t,Wt,hr);break;default:throw Error(r(329))}}}return Qt(t,ze()),t.callbackNode===s?Dd.bind(null,t):null}function yc(t,n){var s=Uo;return t.current.memoizedState.isDehydrated&&(Ii(t,n).flags|=256),t=dl(t,n),t!==2&&(n=Wt,Wt=s,n!==null&&vc(n)),t}function vc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function wy(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(t,n){for(n&=~dc,n&=~al,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Mt(n),u=1<<s;t[s]=-1,n&=~u}}function Nd(t){if(Ve&6)throw Error(r(327));Is();var n=ui(t,0);if(!(n&1))return Qt(t,ze()),null;var s=dl(t,n);if(t.tag!==0&&s===2){var u=Jt(t);u!==0&&(n=u,s=yc(t,u))}if(s===1)throw s=Fo,Ii(t,0),Mr(t,n),Qt(t,ze()),s;if(s===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ai(t,Wt,hr),Qt(t,ze()),null}function _c(t,n){var s=Ve;Ve|=1;try{return t(n)}finally{Ve=s,Ve===0&&(Ss=ze()+500,za&&kr())}}function Si(t){Or!==null&&Or.tag===0&&!(Ve&6)&&Is();var n=Ve;Ve|=1;var s=dn.transition,u=Ie;try{if(dn.transition=null,Ie=1,t)return t()}finally{Ie=u,dn.transition=s,Ve=n,!(Ve&6)&&kr()}}function Ec(){rn=Ts.current,$e(Ts)}function Ii(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,Yg(s)),rt!==null)for(s=rt.return;s!==null;){var u=s;switch(ku(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ua();break;case 3:_s(),$e($t),$e(kt),bu();break;case 5:zu(u);break;case 4:_s();break;case 13:$e(We);break;case 19:$e(We);break;case 10:Lu(u.type._context);break;case 22:case 23:Ec()}s=s.return}if(vt=t,rt=t=Fr(t.current,null),It=rn=n,ht=0,Fo=null,dc=al=Ti=0,Wt=Uo=null,_i!==null){for(n=0;n<_i.length;n++)if(s=_i[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,d=s.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}s.pending=u}_i=null}return t}function xd(t,n){do{var s=rt;try{if(Ou(),Xa.current=el,Ya){for(var u=Qe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ya=!1}if(wi=0,yt=ct=Qe=null,Do=!1,No=0,fc.current=null,s===null||s.return===null){ht=1,Fo=n,rt=null;break}e:{var d=t,y=s.return,T=s,C=n;if(n=It,T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var U=C,H=T,W=H.tag;if(!(H.mode&1)&&(W===0||W===11||W===15)){var $=H.alternate;$?(H.updateQueue=$.updateQueue,H.memoizedState=$.memoizedState,H.lanes=$.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=id(y);if(Z!==null){Z.flags&=-257,sd(Z,y,T,d,n),Z.mode&1&&rd(d,U,n),n=Z,C=U;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(C),n.updateQueue=ie}else re.add(C);break e}else{if(!(n&1)){rd(d,U,n),wc();break e}C=Error(r(426))}}else if(qe&&T.mode&1){var Ze=id(y);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),sd(Ze,y,T,d,n),Nu(Es(C,T));break e}}d=C=Es(C,T),ht!==4&&(ht=2),Uo===null?Uo=[d]:Uo.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var M=td(d,C,n);Pf(d,M);break e;case 1:T=C;var V=d.type,F=d.stateNode;if(!(d.flags&128)&&(typeof V.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(xr===null||!xr.has(F)))){d.flags|=65536,n&=-n,d.lanes|=n;var K=nd(d,T,n);Pf(d,K);break e}}d=d.return}while(d!==null)}Md(s)}catch(se){n=se,rt===s&&s!==null&&(rt=s=s.return);continue}break}while(!0)}function Od(){var t=ol.current;return ol.current=el,t===null?el:t}function wc(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(Ti&268435455)&&!(al&268435455)||Mr(vt,It)}function dl(t,n){var s=Ve;Ve|=2;var u=Od();(vt!==t||It!==n)&&(hr=null,Ii(t,n));do try{Ty();break}catch(h){xd(t,h)}while(!0);if(Ou(),Ve=s,ol.current=u,rt!==null)throw Error(r(261));return vt=null,It=0,ht}function Ty(){for(;rt!==null;)Ld(rt)}function Sy(){for(;rt!==null&&!ca();)Ld(rt)}function Ld(t){var n=jd(t.alternate,t,rn);t.memoizedProps=t.pendingProps,n===null?Md(t):rt=n,fc.current=null}function Md(t){var n=t;do{var s=n.alternate;if(t=n.return,n.flags&32768){if(s=gy(s,n),s!==null){s.flags&=32767,rt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,rt=null;return}}else if(s=my(s,n,rn),s!==null){rt=s;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=t}while(n!==null);ht===0&&(ht=5)}function Ai(t,n,s){var u=Ie,h=dn.transition;try{dn.transition=null,Ie=1,Iy(t,n,s,u)}finally{dn.transition=h,Ie=u}return null}function Iy(t,n,s,u){do Is();while(Or!==null);if(Ve&6)throw Error(r(327));s=t.finishedWork;var h=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var d=s.lanes|s.childLanes;if(Ue(t,d),t===vt&&(rt=vt=null,It=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ul||(ul=!0,zd(on,function(){return Is(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=dn.transition,dn.transition=null;var y=Ie;Ie=1;var T=Ve;Ve|=4,fc.current=null,vy(t,s),Cd(s,t),Hg(wu),Sr=!!Eu,wu=Eu=null,t.current=s,_y(s),iu(),Ve=T,Ie=y,dn.transition=d}else t.current=s;if(ul&&(ul=!1,Or=t,cl=h),d=t.pendingLanes,d===0&&(xr=null),da(s.stateNode),Qt(t,ze()),n!==null)for(u=t.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(ll)throw ll=!1,t=mc,mc=null,t;return cl&1&&t.tag!==0&&Is(),d=t.pendingLanes,d&1?t===gc?jo++:(jo=0,gc=t):jo=0,kr(),null}function Is(){if(Or!==null){var t=wr(cl),n=dn.transition,s=Ie;try{if(dn.transition=null,Ie=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,cl=0,Ve&6)throw Error(r(331));var h=Ve;for(Ve|=4,ne=t.current;ne!==null;){var d=ne,y=d.child;if(ne.flags&16){var T=d.deletions;if(T!==null){for(var C=0;C<T.length;C++){var U=T[C];for(ne=U;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:Mo(8,H,d)}var W=H.child;if(W!==null)W.return=H,ne=W;else for(;ne!==null;){H=ne;var $=H.sibling,Z=H.return;if(wd(H),H===U){ne=null;break}if($!==null){$.return=Z,ne=$;break}ne=Z}}}var re=d.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ze=ie.sibling;ie.sibling=null,ie=Ze}while(ie!==null)}}ne=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Mo(9,d,d.return)}var M=d.sibling;if(M!==null){M.return=d.return,ne=M;break e}ne=d.return}}var V=t.current;for(ne=V;ne!==null;){y=ne;var F=y.child;if(y.subtreeFlags&2064&&F!==null)F.return=y,ne=F;else e:for(y=V;ne!==null;){if(T=ne,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:sl(9,T)}}catch(se){Xe(T,T.return,se)}if(T===y){ne=null;break e}var K=T.sibling;if(K!==null){K.return=T.return,ne=K;break e}ne=T.return}}if(Ve=h,kr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(li,t)}catch{}u=!0}return u}finally{Ie=s,dn.transition=n}}return!1}function Fd(t,n,s){n=Es(s,n),n=td(t,n,1),t=Dr(t,n,1),n=jt(),t!==null&&(_r(t,1,n),Qt(t,n))}function Xe(t,n,s){if(t.tag===3)Fd(t,t,s);else for(;n!==null;){if(n.tag===3){Fd(n,t,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xr===null||!xr.has(u))){t=Es(s,t),t=nd(n,t,1),n=Dr(n,t,1),t=jt(),n!==null&&(_r(n,1,t),Qt(n,t));break}}n=n.return}}function Ay(t,n,s){var u=t.pingCache;u!==null&&u.delete(n),n=jt(),t.pingedLanes|=t.suspendedLanes&s,vt===t&&(It&s)===s&&(ht===4||ht===3&&(It&130023424)===It&&500>ze()-pc?Ii(t,0):dc|=s),Qt(t,n)}function Ud(t,n){n===0&&(t.mode&1?(n=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):n=1);var s=jt();t=lr(t,n),t!==null&&(_r(t,n,s),Qt(t,s))}function Cy(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Ud(t,s)}function Ry(t,n){var s=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Ud(t,s)}var jd;jd=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||$t.current)qt=!0;else{if(!(t.lanes&s)&&!(n.flags&128))return qt=!1,py(t,n,s);qt=!!(t.flags&131072)}else qt=!1,qe&&n.flags&1048576&&vf(n,ba,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;rl(t,n),t=n.pendingProps;var h=fs(n,kt.current);vs(n,s),h=qu(null,n,u,t,h,s);var d=Wu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ht(u)?(d=!0,ja(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Uu(n),h.updater=tl,n.stateNode=h,h._reactInternals=n,Ju(n,u,t,s),n=nc(null,n,u,!0,d,s)):(n.tag=0,qe&&d&&Pu(n),Ut(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(rl(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=ky(u),t=Rn(u,t),h){case 0:n=tc(null,n,u,t,s);break e;case 1:n=hd(null,n,u,t,s);break e;case 11:n=od(null,n,u,t,s);break e;case 14:n=ad(null,n,u,Rn(u.type,t),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),tc(t,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),hd(t,n,u,h,s);case 3:e:{if(fd(n),t===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,Rf(t,n),Ka(n,u,null,s);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=Es(Error(r(423)),n),n=dd(t,n,u,s,h);break e}else if(u!==h){h=Es(Error(r(424)),n),n=dd(t,n,u,s,h);break e}else for(nn=Cr(n.stateNode.containerInfo.firstChild),tn=n,qe=!0,Cn=null,s=Af(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ms(),u===h){n=cr(t,n,s);break e}Ut(t,n,u,s)}n=n.child}return n;case 5:return Vf(n),t===null&&Du(n),u=n.type,h=n.pendingProps,d=t!==null?t.memoizedProps:null,y=h.children,Tu(u,h)?y=null:d!==null&&Tu(u,d)&&(n.flags|=32),cd(t,n),Ut(t,n,y,s),n.child;case 6:return t===null&&Du(n),null;case 13:return pd(t,n,s);case 4:return ju(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=gs(n,null,u,s):Ut(t,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),od(t,n,u,h,s);case 7:return Ut(t,n,n.pendingProps,s),n.child;case 8:return Ut(t,n,n.pendingProps.children,s),n.child;case 12:return Ut(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Be(qa,u._currentValue),u._currentValue=y,d!==null)if(An(d.value,y)){if(d.children===h.children&&!$t.current){n=cr(t,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var T=d.dependencies;if(T!==null){y=d.child;for(var C=T.firstContext;C!==null;){if(C.context===u){if(d.tag===1){C=ur(-1,s&-s),C.tag=2;var U=d.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?C.next=C:(C.next=H.next,H.next=C),U.pending=C}}d.lanes|=s,C=d.alternate,C!==null&&(C.lanes|=s),Mu(d.return,s,n),T.lanes|=s;break}C=C.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=s,T=y.alternate,T!==null&&(T.lanes|=s),Mu(y,s,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Ut(t,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,vs(n,s),h=hn(h),u=u(h),n.flags|=1,Ut(t,n,u,s),n.child;case 14:return u=n.type,h=Rn(u,n.pendingProps),h=Rn(u.type,h),ad(t,n,u,h,s);case 15:return ld(t,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),rl(t,n),n.tag=1,Ht(u)?(t=!0,ja(n)):t=!1,vs(n,s),Zf(n,u,h),Ju(n,u,h,s),nc(null,n,u,!0,t,s);case 19:return gd(t,n,s);case 22:return ud(t,n,s)}throw Error(r(156,n.tag))};function zd(t,n){return qi(t,n)}function Py(t,n,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,u){return new Py(t,n,s,u)}function Tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ky(t){if(typeof t=="function")return Tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===Rt)return 14}return 2}function Fr(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function pl(t,n,s,u,h,d){var y=2;if(u=t,typeof t=="function")Tc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case D:return Ci(s.children,h,d,n);case S:y=8,h|=8;break;case A:return t=pn(12,s,n,h|2),t.elementType=A,t.lanes=d,t;case I:return t=pn(13,s,n,h),t.elementType=I,t.lanes=d,t;case Ye:return t=pn(19,s,n,h),t.elementType=Ye,t.lanes=d,t;case Me:return ml(s,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:y=10;break e;case N:y=9;break e;case O:y=11;break e;case Rt:y=14;break e;case Pt:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=pn(y,s,n,h),n.elementType=t,n.type=u,n.lanes=d,n}function Ci(t,n,s,u){return t=pn(7,t,u,n),t.lanes=s,t}function ml(t,n,s,u){return t=pn(22,t,u,n),t.elementType=Me,t.lanes=s,t.stateNode={isHidden:!1},t}function Sc(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function Ic(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Vy(t,n,s,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ac(t,n,s,u,h,d,y,T,C){return t=new Vy(t,n,s,T,C),n===1?(n=1,d===!0&&(n|=8)):n=0,d=pn(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(d),t}function Dy(t,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:u==null?null:""+u,children:t,containerInfo:n,implementation:s}}function Bd(t){if(!t)return Pr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ht(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var s=t.type;if(Ht(s))return mf(t,s,n)}return n}function bd(t,n,s,u,h,d,y,T,C){return t=Ac(s,u,!0,t,h,d,y,T,C),t.context=Bd(null),s=t.current,u=jt(),h=Lr(s),d=ur(u,h),d.callback=n??null,Dr(s,d,h),t.current.lanes=h,_r(t,h,u),Qt(t,u),t}function gl(t,n,s,u){var h=n.current,d=jt(),y=Lr(h);return s=Bd(s),n.context===null?n.context=s:n.pendingContext=s,n=ur(d,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Dr(h,n,y),t!==null&&(Vn(t,h,y,d),Qa(t,h,y)),y}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $d(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cc(t,n){$d(t,n),(t=t.alternate)&&$d(t,n)}var Hd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rc(t){this._internalRoot=t}vl.prototype.render=Rc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));gl(t,n,null,null)},vl.prototype.unmount=Rc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Si(function(){gl(null,t,null,null)}),n[ir]=null}};function vl(t){this._internalRoot=t}vl.prototype.unstable_scheduleHydration=function(t){if(t){var n=va();t={blockedOn:null,target:t,priority:n};for(var s=0;s<On.length&&n!==0&&n<On[s].priority;s++);On.splice(s,0,t),s===0&&wa(t)}};function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qd(){}function Ny(t,n,s,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var U=yl(y);d.call(U)}}var y=bd(n,u,t,0,null,!1,!1,"",qd);return t._reactRootContainer=y,t[ir]=y.current,So(t.nodeType===8?t.parentNode:t),Si(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=yl(C);T.call(U)}}var C=Ac(t,0,!1,null,null,!1,!1,"",qd);return t._reactRootContainer=C,t[ir]=C.current,So(t.nodeType===8?t.parentNode:t),Si(function(){gl(n,C,s,u)}),C}function El(t,n,s,u,h){var d=s._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var T=h;h=function(){var C=yl(y);T.call(C)}}gl(n,y,t,h)}else y=Ny(s,n,t,h,u);return yl(y)}ga=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=yr(n.pendingLanes);s!==0&&(Er(n,s|1),Qt(n,ze()),!(Ve&6)&&(Ss=ze()+500,kr()))}break;case 13:Si(function(){var u=lr(t,1);if(u!==null){var h=jt();Vn(u,t,1,h)}}),Cc(t,1)}},Ki=function(t){if(t.tag===13){var n=lr(t,134217728);if(n!==null){var s=jt();Vn(n,t,134217728,s)}Cc(t,134217728)}},ya=function(t){if(t.tag===13){var n=Lr(t),s=lr(t,n);if(s!==null){var u=jt();Vn(s,t,n,u)}Cc(t,n)}},va=function(){return Ie},_a=function(t,n){var s=Ie;try{return Ie=t,n()}finally{Ie=s}},ji=function(t,n,s){switch(n){case"input":if(Qs(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==t&&u.form===t.form){var h=Fa(u);if(!h)throw Error(r(90));xi(u),Qs(u,h)}}}break;case"textarea":Fi(t,s);break;case"select":n=s.value,n!=null&&Xn(t,!!s.multiple,n,!1)}},ri=_c,ro=Si;var xy={usingClientEntryPoint:!1,Events:[Co,cs,Fa,Nn,no,_c]},zo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oy={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oo(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{li=wl.inject(Oy),Yt=wl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xy,Kt.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(n))throw Error(r(200));return Dy(t,n,null,s)},Kt.createRoot=function(t,n){if(!Pc(t))throw Error(r(299));var s=!1,u="",h=Hd;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Ac(t,1,!1,null,null,s,!1,u,h),t[ir]=n.current,So(t.nodeType===8?t.parentNode:t),new Rc(n)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=oo(n),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return Si(t)},Kt.hydrate=function(t,n,s){if(!_l(n))throw Error(r(200));return El(null,t,n,!0,s)},Kt.hydrateRoot=function(t,n,s){if(!Pc(t))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,d="",y=Hd;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=bd(n,null,t,1,s??null,h,!1,d,y),t[ir]=n.current,So(t),u)for(t=0;t<u.length;t++)s=u[t],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new vl(n)},Kt.render=function(t,n,s){if(!_l(n))throw Error(r(200));return El(null,t,n,!1,s)},Kt.unmountComponentAtNode=function(t){if(!_l(t))throw Error(r(40));return t._reactRootContainer?(Si(function(){El(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Kt.unstable_batchedUpdates=_c,Kt.unstable_renderSubtreeIntoContainer=function(t,n,s,u){if(!_l(s))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return El(t,n,s,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Zd;function by(){if(Zd)return Dc.exports;Zd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Dc.exports=By(),Dc.exports}var ep;function $y(){if(ep)return Tl;ep=1;var i=by();return Tl.createRoot=i.createRoot,Tl.hydrateRoot=i.hydrateRoot,Tl}var Hy=$y();function qy({messages:i,currentIndex:e,setIndex:r}){const o=Xt.useRef(null),l=Xt.useRef(null);Xt.useEffect(()=>{if(!i[e])return;const g=new Date;if(i[e].date>g){o.current&&(o.current.textContent="You have to wait for tomorrow"),l.current&&(l.current.textContent="Till Next Time");return}o.current&&(o.current.textContent=i[e].message),l.current&&(l.current.textContent=i[e].date.toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}))},[e,i]);const c=()=>{e>0&&r(e-1)},p=()=>{e<i.length&&r(e+1)};return ft.jsxs("div",{className:"message-box-container",children:[ft.jsx("div",{className:"flag",children:ft.jsx("h1",{children:"Yasmin Month 2026"})}),ft.jsx("h3",{className:"date-header",ref:l}),ft.jsx("div",{className:"message-block",children:ft.jsx("div",{className:"message-box",children:ft.jsx("p",{ref:o,onMouseDown:g=>g.stopPropagation(),onTouchStart:g=>g.stopPropagation(),className:"scrollable-text"})})}),ft.jsxs("div",{className:"holdButtons",children:[ft.jsx("button",{onTouchStartCapture:g=>g.stopPropagation(),onMouseDownCapture:g=>g.stopPropagation(),onClick:c,disabled:e<=0,className:e<=0?"button-disabled":"button-enabled",children:"Past Day"}),ft.jsx("button",{onTouchStartCapture:g=>g.stopPropagation(),onMouseDownCapture:g=>g.stopPropagation(),onClick:p,disabled:e>=i.length-1,className:e>=i.length-1?"button-disabled":"button-enabled",children:"Next Day"})]})]})}const Wy="Left",Qy="Right",Ky="Up",Gy="Down",ks={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},$c={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},tp="mousemove",np="mouseup",Xy="touchend",Yy="touchmove",Jy="touchstart";function Zy(i,e,r,o){return i>e?r>0?Qy:Wy:o>0?Gy:Ky}function rp(i,e){if(e===0)return i;const r=Math.PI/180*e,o=i[0]*Math.cos(r)+i[1]*Math.sin(r),l=i[1]*Math.cos(r)-i[0]*Math.sin(r);return[o,l]}function ev(i,e){const r=w=>{const P="touches"in w;P&&w.touches.length>1||i((R,z)=>{z.trackMouse&&!P&&(document.addEventListener(tp,o),document.addEventListener(np,p));const{clientX:Q,clientY:X}=P?w.touches[0]:w,q=rp([Q,X],z.rotationAngle);return z.onTouchStartOrOnMouseDown&&z.onTouchStartOrOnMouseDown({event:w}),Object.assign(Object.assign(Object.assign({},R),$c),{initial:q.slice(),xy:q,start:w.timeStamp||0})})},o=w=>{i((P,R)=>{const z="touches"in w;if(z&&w.touches.length>1)return P;if(w.timeStamp-P.start>R.swipeDuration)return P.swiping?Object.assign(Object.assign({},P),{swiping:!1}):P;const{clientX:Q,clientY:X}=z?w.touches[0]:w,[q,Te]=rp([Q,X],R.rotationAngle),fe=q-P.xy[0],pe=Te-P.xy[1],ge=Math.abs(fe),Fe=Math.abs(pe),Se=(w.timeStamp||0)-P.start,D=Math.sqrt(ge*ge+Fe*Fe)/(Se||1),S=[fe/(Se||1),pe/(Se||1)],A=Zy(ge,Fe,fe,pe),k=typeof R.delta=="number"?R.delta:R.delta[A.toLowerCase()]||ks.delta;if(ge<k&&Fe<k&&!P.swiping)return P;const N={absX:ge,absY:Fe,deltaX:fe,deltaY:pe,dir:A,event:w,first:P.first,initial:P.initial,velocity:D,vxvy:S};N.first&&R.onSwipeStart&&R.onSwipeStart(N),R.onSwiping&&R.onSwiping(N);let O=!1;return(R.onSwiping||R.onSwiped||R[`onSwiped${A}`])&&(O=!0),O&&R.preventScrollOnSwipe&&R.trackTouch&&w.cancelable&&w.preventDefault(),Object.assign(Object.assign({},P),{first:!1,eventData:N,swiping:!0})})},l=w=>{i((P,R)=>{let z;if(P.swiping&&P.eventData){if(w.timeStamp-P.start<R.swipeDuration){z=Object.assign(Object.assign({},P.eventData),{event:w}),R.onSwiped&&R.onSwiped(z);const Q=R[`onSwiped${z.dir}`];Q&&Q(z)}}else R.onTap&&R.onTap({event:w});return R.onTouchEndOrOnMouseUp&&R.onTouchEndOrOnMouseUp({event:w}),Object.assign(Object.assign(Object.assign({},P),$c),{eventData:z})})},c=()=>{document.removeEventListener(tp,o),document.removeEventListener(np,p)},p=w=>{c(),l(w)},g=(w,P)=>{let R=()=>{};if(w&&w.addEventListener){const z=Object.assign(Object.assign({},ks.touchEventOptions),P.touchEventOptions),Q=[[Jy,r,z],[Yy,o,Object.assign(Object.assign({},z),P.preventScrollOnSwipe?{passive:!1}:{})],[Xy,l,z]];Q.forEach(([X,q,Te])=>w.addEventListener(X,q,Te)),R=()=>Q.forEach(([X,q])=>w.removeEventListener(X,q))}return R},E={ref:w=>{w!==null&&i((P,R)=>{if(P.el===w)return P;const z={};return P.el&&P.el!==w&&P.cleanUpTouch&&(P.cleanUpTouch(),z.cleanUpTouch=void 0),R.trackTouch&&w&&(z.cleanUpTouch=g(w,R)),Object.assign(Object.assign(Object.assign({},P),{el:w}),z)})}};return e.trackMouse&&(E.onMouseDown=r),[E,g]}function tv(i,e,r,o){return!e.trackTouch||!i.el?(i.cleanUpTouch&&i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:void 0})):i.cleanUpTouch?e.preventScrollOnSwipe!==r.preventScrollOnSwipe||e.touchEventOptions.passive!==r.touchEventOptions.passive?(i.cleanUpTouch(),Object.assign(Object.assign({},i),{cleanUpTouch:o(i.el,e)})):i:Object.assign(Object.assign({},i),{cleanUpTouch:o(i.el,e)})}function nv(i){const{trackMouse:e}=i,r=Xt.useRef(Object.assign({},$c)),o=Xt.useRef(Object.assign({},ks)),l=Xt.useRef(Object.assign({},o.current));l.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},ks),i);let c;for(c in ks)o.current[c]===void 0&&(o.current[c]=ks[c]);const[p,g]=Xt.useMemo(()=>ev(v=>r.current=v(r.current,o.current),{trackMouse:e}),[e]);return r.current=tv(r.current,o.current,l.current,g),p}const rv=()=>{};var ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=function(i){const e=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},iv=function(i){const e=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],p=i[r++],g=i[r++],v=((l&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const c=i[r++],p=i[r++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},pm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const c=i[l],p=l+1<i.length,g=p?i[l+1]:0,v=l+2<i.length,E=v?i[l+2]:0,w=c>>2,P=(c&3)<<4|g>>4;let R=(g&15)<<2|E>>6,z=E&63;v||(z=64,p||(R=64)),o.push(r[w],r[P],r[R],r[z])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(dm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):iv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],g=l<i.length?r[i.charAt(l)]:0;++l;const E=l<i.length?r[i.charAt(l)]:64;++l;const P=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||g==null||E==null||P==null)throw new sv;const R=c<<2|g>>4;if(o.push(R),E!==64){const z=g<<4&240|E>>2;if(o.push(z),P!==64){const Q=E<<6&192|P;o.push(Q)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ov=function(i){const e=dm(i);return pm.encodeByteArray(e,!0)},Ol=function(i){return ov(i).replace(/\./g,"")},av=function(i){try{return pm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=()=>lv().__FIREBASE_DEFAULTS__,cv=()=>{if(typeof process>"u"||typeof ip>"u")return;const i=ip.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&av(i[1]);return e&&JSON.parse(e)},mh=()=>{try{return rv()||uv()||cv()||hv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},fv=i=>{var e,r;return(r=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},dv=i=>{const e=fv(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},mm=()=>{var i;return(i=mh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ol(JSON.stringify(r)),Ol(JSON.stringify(p)),""].join(".")}const qo={};function yv(){const i={prod:[],emulator:[]};for(const e of Object.keys(qo))qo[e]?i.emulator.push(e):i.prod.push(e);return i}function vv(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let sp=!1;function _v(i,e){if(typeof window>"u"||typeof document>"u"||!gh(window.location.host)||qo[i]===e||qo[i]||sp)return;qo[i]=e;function r(R){return`__firebase__banner__${R}`}const o="__firebase__banner",c=yv().prod.length>0;function p(){const R=document.getElementById(o);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,z){R.setAttribute("width","24"),R.setAttribute("id",z),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function E(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{sp=!0,p()},R}function w(R,z){R.setAttribute("id",z),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function P(){const R=vv(o),z=r("text"),Q=document.getElementById(z)||document.createElement("span"),X=r("learnmore"),q=document.getElementById(X)||document.createElement("a"),Te=r("preprendIcon"),fe=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const pe=R.element;g(pe),w(q,X);const ge=E();v(fe,Te),pe.append(fe,Q,q,ge),document.body.appendChild(pe)}c?(Q.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",P):P()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wv(){var i;const e=(i=mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tv(){return!wv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sv(){try{return typeof indexedDB=="object"}catch{return!1}}function Iv(){return new Promise((i,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="FirebaseError";class bs extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=Av,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gm.prototype.create)}}class gm{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?Cv(c,o):"Error",g=`${this.serviceName}: ${p} (${l}).`;return new bs(l,g,o)}}function Cv(i,e){return i.replace(Rv,(r,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const Rv=/\{\$([^}]+)}/g;function Ll(i,e){if(i===e)return!0;const r=Object.keys(i),o=Object.keys(e);for(const l of r){if(!o.includes(l))return!1;const c=i[l],p=e[l];if(op(c)&&op(p)){if(!Ll(c,p))return!1}else if(c!==p)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function op(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(i){return i&&i._delegate?i._delegate:i}class Xo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new pv;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dv(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(l)}return l}onInit(e,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const p=this.instances.get(l);return p&&e(p,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Vv(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vv(i){return i===Ri?void 0:i}function Dv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new kv(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const xv={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Ov=Pe.INFO,Lv={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Mv=(i,e,...r)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),l=Lv[e];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ym{constructor(e){this.name=e,this._logLevel=Ov,this._logHandler=Mv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Fv=(i,e)=>e.some(r=>i instanceof r);let ap,lp;function Uv(){return ap||(ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jv(){return lp||(lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vm=new WeakMap,Hc=new WeakMap,_m=new WeakMap,Oc=new WeakMap,yh=new WeakMap;function zv(i){const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",p)},c=()=>{r(Br(i.result)),l()},p=()=>{o(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&vm.set(r,i)}).catch(()=>{}),yh.set(e,i),e}function Bv(i){if(Hc.has(i))return;const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",p),i.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",p),i.addEventListener("abort",p)});Hc.set(i,e)}let qc={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return Hc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||_m.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Br(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bv(i){qc=i(qc)}function $v(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=i.call(Lc(this),e,...r);return _m.set(o,e.sort?e.sort():[e]),Br(o)}:jv().includes(i)?function(...e){return i.apply(Lc(this),e),Br(vm.get(this))}:function(...e){return Br(i.apply(Lc(this),e))}}function Hv(i){return typeof i=="function"?$v(i):(i instanceof IDBTransaction&&Bv(i),Fv(i,Uv())?new Proxy(i,qc):i)}function Br(i){if(i instanceof IDBRequest)return zv(i);if(Oc.has(i))return Oc.get(i);const e=Hv(i);return e!==i&&(Oc.set(i,e),yh.set(e,i)),e}const Lc=i=>yh.get(i);function qv(i,e,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const p=indexedDB.open(i,e),g=Br(p);return o&&p.addEventListener("upgradeneeded",v=>{o(Br(p.result),v.oldVersion,v.newVersion,Br(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Wv=["get","getKey","getAll","getAllKeys","count"],Qv=["put","add","delete","clear"],Mc=new Map;function up(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Mc.get(e))return Mc.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,l=Qv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||Wv.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,l?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),l&&v.done]))[0]};return Mc.set(e,c),c}bv(i=>({...i,get:(e,r,o)=>up(e,r)||i.get(e,r,o),has:(e,r)=>!!up(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Gv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Gv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wc="@firebase/app",cp="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new ym("@firebase/app"),Xv="@firebase/app-compat",Yv="@firebase/analytics-compat",Jv="@firebase/analytics",Zv="@firebase/app-check-compat",e_="@firebase/app-check",t_="@firebase/auth",n_="@firebase/auth-compat",r_="@firebase/database",i_="@firebase/data-connect",s_="@firebase/database-compat",o_="@firebase/functions",a_="@firebase/functions-compat",l_="@firebase/installations",u_="@firebase/installations-compat",c_="@firebase/messaging",h_="@firebase/messaging-compat",f_="@firebase/performance",d_="@firebase/performance-compat",p_="@firebase/remote-config",m_="@firebase/remote-config-compat",g_="@firebase/storage",y_="@firebase/storage-compat",v_="@firebase/firestore",__="@firebase/ai",E_="@firebase/firestore-compat",w_="firebase",T_="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="[DEFAULT]",S_={[Wc]:"fire-core",[Xv]:"fire-core-compat",[Jv]:"fire-analytics",[Yv]:"fire-analytics-compat",[e_]:"fire-app-check",[Zv]:"fire-app-check-compat",[t_]:"fire-auth",[n_]:"fire-auth-compat",[r_]:"fire-rtdb",[i_]:"fire-data-connect",[s_]:"fire-rtdb-compat",[o_]:"fire-fn",[a_]:"fire-fn-compat",[l_]:"fire-iid",[u_]:"fire-iid-compat",[c_]:"fire-fcm",[h_]:"fire-fcm-compat",[f_]:"fire-perf",[d_]:"fire-perf-compat",[p_]:"fire-rc",[m_]:"fire-rc-compat",[g_]:"fire-gcs",[y_]:"fire-gcs-compat",[v_]:"fire-fst",[E_]:"fire-fst-compat",[__]:"fire-vertex","fire-js":"fire-js",[w_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Map,I_=new Map,Kc=new Map;function hp(i,e){try{i.container.addComponent(e)}catch(r){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Fl(i){const e=i.name;if(Kc.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Kc.set(e,i);for(const r of Ml.values())hp(r,i);for(const r of I_.values())hp(r,i);return!0}function A_(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function C_(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new gm("app","Firebase",R_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=T_;function Em(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Qc,automaticDataCollectionEnabled:!0},e),l=o.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(r||(r=mm()),!r)throw br.create("no-options");const c=Ml.get(l);if(c){if(Ll(r,c.options)&&Ll(o,c.config))return c;throw br.create("duplicate-app",{appName:l})}const p=new Nv(l);for(const v of Kc.values())p.addComponent(v);const g=new P_(r,o,p);return Ml.set(l,g),g}function V_(i=Qc){const e=Ml.get(i);if(!e&&i===Qc&&mm())return Em();if(!e)throw br.create("no-app",{appName:i});return e}function Vs(i,e,r){var o;let l=(o=S_[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const c=l.match(/\s|\//),p=e.match(/\s|\//);if(c||p){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(g.join(" "));return}Fl(new Xo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="firebase-heartbeat-database",N_=1,Yo="firebase-heartbeat-store";let Fc=null;function wm(){return Fc||(Fc=qv(D_,N_,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Yo)}catch(r){console.warn(r)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),Fc}async function x_(i){try{const r=(await wm()).transaction(Yo),o=await r.objectStore(Yo).get(Tm(i));return await r.done,o}catch(e){if(e instanceof bs)fr.warn(e.message);else{const r=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(r.message)}}}async function fp(i,e){try{const o=(await wm()).transaction(Yo,"readwrite");await o.objectStore(Yo).put(e,Tm(i)),await o.done}catch(r){if(r instanceof bs)fr.warn(r.message);else{const o=br.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fr.warn(o.message)}}}function Tm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=1024,L_=30;class M_{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new U_(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=dp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>L_){const p=j_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(p,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){fr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=dp(),{heartbeatsToSend:o,unsentEntries:l}=F_(this._heartbeatsCache.heartbeats),c=Ol(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return fr.warn(r),""}}}function dp(){return new Date().toISOString().substring(0,10)}function F_(i,e=O_){const r=[];let o=i.slice();for(const l of i){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),pp(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),pp(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class U_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sv()?Iv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await x_(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return fp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return fp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function pp(i){return Ol(JSON.stringify({version:2,heartbeats:i})).length}function j_(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let o=1;o<i.length;o++)i[o].date<r&&(r=i[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(i){Fl(new Xo("platform-logger",e=>new Kv(e),"PRIVATE")),Fl(new Xo("heartbeat",e=>new M_(e),"PRIVATE")),Vs(Wc,cp,i),Vs(Wc,cp,"esm2017"),Vs("fire-js","")}z_("");var B_="firebase",b_="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(B_,b_,"app");var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,Sm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function A(){}A.prototype=S.prototype,D.D=S.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(k,N,O){for(var I=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)I[Ye-2]=arguments[Ye];return S.prototype[N].apply(k,I)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,S,A){A||(A=0);var k=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)k[N]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(N=0;16>N;++N)k[N]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=D.g[0],A=D.g[1],N=D.g[2];var O=D.g[3],I=S+(O^A&(N^O))+k[0]+3614090360&4294967295;S=A+(I<<7&4294967295|I>>>25),I=O+(N^S&(A^N))+k[1]+3905402710&4294967295,O=S+(I<<12&4294967295|I>>>20),I=N+(A^O&(S^A))+k[2]+606105819&4294967295,N=O+(I<<17&4294967295|I>>>15),I=A+(S^N&(O^S))+k[3]+3250441966&4294967295,A=N+(I<<22&4294967295|I>>>10),I=S+(O^A&(N^O))+k[4]+4118548399&4294967295,S=A+(I<<7&4294967295|I>>>25),I=O+(N^S&(A^N))+k[5]+1200080426&4294967295,O=S+(I<<12&4294967295|I>>>20),I=N+(A^O&(S^A))+k[6]+2821735955&4294967295,N=O+(I<<17&4294967295|I>>>15),I=A+(S^N&(O^S))+k[7]+4249261313&4294967295,A=N+(I<<22&4294967295|I>>>10),I=S+(O^A&(N^O))+k[8]+1770035416&4294967295,S=A+(I<<7&4294967295|I>>>25),I=O+(N^S&(A^N))+k[9]+2336552879&4294967295,O=S+(I<<12&4294967295|I>>>20),I=N+(A^O&(S^A))+k[10]+4294925233&4294967295,N=O+(I<<17&4294967295|I>>>15),I=A+(S^N&(O^S))+k[11]+2304563134&4294967295,A=N+(I<<22&4294967295|I>>>10),I=S+(O^A&(N^O))+k[12]+1804603682&4294967295,S=A+(I<<7&4294967295|I>>>25),I=O+(N^S&(A^N))+k[13]+4254626195&4294967295,O=S+(I<<12&4294967295|I>>>20),I=N+(A^O&(S^A))+k[14]+2792965006&4294967295,N=O+(I<<17&4294967295|I>>>15),I=A+(S^N&(O^S))+k[15]+1236535329&4294967295,A=N+(I<<22&4294967295|I>>>10),I=S+(N^O&(A^N))+k[1]+4129170786&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^N&(S^A))+k[6]+3225465664&4294967295,O=S+(I<<9&4294967295|I>>>23),I=N+(S^A&(O^S))+k[11]+643717713&4294967295,N=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(N^O))+k[0]+3921069994&4294967295,A=N+(I<<20&4294967295|I>>>12),I=S+(N^O&(A^N))+k[5]+3593408605&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^N&(S^A))+k[10]+38016083&4294967295,O=S+(I<<9&4294967295|I>>>23),I=N+(S^A&(O^S))+k[15]+3634488961&4294967295,N=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(N^O))+k[4]+3889429448&4294967295,A=N+(I<<20&4294967295|I>>>12),I=S+(N^O&(A^N))+k[9]+568446438&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^N&(S^A))+k[14]+3275163606&4294967295,O=S+(I<<9&4294967295|I>>>23),I=N+(S^A&(O^S))+k[3]+4107603335&4294967295,N=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(N^O))+k[8]+1163531501&4294967295,A=N+(I<<20&4294967295|I>>>12),I=S+(N^O&(A^N))+k[13]+2850285829&4294967295,S=A+(I<<5&4294967295|I>>>27),I=O+(A^N&(S^A))+k[2]+4243563512&4294967295,O=S+(I<<9&4294967295|I>>>23),I=N+(S^A&(O^S))+k[7]+1735328473&4294967295,N=O+(I<<14&4294967295|I>>>18),I=A+(O^S&(N^O))+k[12]+2368359562&4294967295,A=N+(I<<20&4294967295|I>>>12),I=S+(A^N^O)+k[5]+4294588738&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^N)+k[8]+2272392833&4294967295,O=S+(I<<11&4294967295|I>>>21),I=N+(O^S^A)+k[11]+1839030562&4294967295,N=O+(I<<16&4294967295|I>>>16),I=A+(N^O^S)+k[14]+4259657740&4294967295,A=N+(I<<23&4294967295|I>>>9),I=S+(A^N^O)+k[1]+2763975236&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^N)+k[4]+1272893353&4294967295,O=S+(I<<11&4294967295|I>>>21),I=N+(O^S^A)+k[7]+4139469664&4294967295,N=O+(I<<16&4294967295|I>>>16),I=A+(N^O^S)+k[10]+3200236656&4294967295,A=N+(I<<23&4294967295|I>>>9),I=S+(A^N^O)+k[13]+681279174&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^N)+k[0]+3936430074&4294967295,O=S+(I<<11&4294967295|I>>>21),I=N+(O^S^A)+k[3]+3572445317&4294967295,N=O+(I<<16&4294967295|I>>>16),I=A+(N^O^S)+k[6]+76029189&4294967295,A=N+(I<<23&4294967295|I>>>9),I=S+(A^N^O)+k[9]+3654602809&4294967295,S=A+(I<<4&4294967295|I>>>28),I=O+(S^A^N)+k[12]+3873151461&4294967295,O=S+(I<<11&4294967295|I>>>21),I=N+(O^S^A)+k[15]+530742520&4294967295,N=O+(I<<16&4294967295|I>>>16),I=A+(N^O^S)+k[2]+3299628645&4294967295,A=N+(I<<23&4294967295|I>>>9),I=S+(N^(A|~O))+k[0]+4096336452&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~N))+k[7]+1126891415&4294967295,O=S+(I<<10&4294967295|I>>>22),I=N+(S^(O|~A))+k[14]+2878612391&4294967295,N=O+(I<<15&4294967295|I>>>17),I=A+(O^(N|~S))+k[5]+4237533241&4294967295,A=N+(I<<21&4294967295|I>>>11),I=S+(N^(A|~O))+k[12]+1700485571&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~N))+k[3]+2399980690&4294967295,O=S+(I<<10&4294967295|I>>>22),I=N+(S^(O|~A))+k[10]+4293915773&4294967295,N=O+(I<<15&4294967295|I>>>17),I=A+(O^(N|~S))+k[1]+2240044497&4294967295,A=N+(I<<21&4294967295|I>>>11),I=S+(N^(A|~O))+k[8]+1873313359&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~N))+k[15]+4264355552&4294967295,O=S+(I<<10&4294967295|I>>>22),I=N+(S^(O|~A))+k[6]+2734768916&4294967295,N=O+(I<<15&4294967295|I>>>17),I=A+(O^(N|~S))+k[13]+1309151649&4294967295,A=N+(I<<21&4294967295|I>>>11),I=S+(N^(A|~O))+k[4]+4149444226&4294967295,S=A+(I<<6&4294967295|I>>>26),I=O+(A^(S|~N))+k[11]+3174756917&4294967295,O=S+(I<<10&4294967295|I>>>22),I=N+(S^(O|~A))+k[2]+718787259&4294967295,N=O+(I<<15&4294967295|I>>>17),I=A+(O^(N|~S))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+O&4294967295}o.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var A=S-this.blockSize,k=this.B,N=this.h,O=0;O<S;){if(N==0)for(;O<=A;)l(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<S;)if(k[N++]=D.charCodeAt(O++),N==this.blockSize){l(this,k),N=0;break}}else for(;O<S;)if(k[N++]=D[O++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=S},o.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var A=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=A&255,A/=256;for(this.u(D),D=Array(16),S=A=0;4>S;++S)for(var k=0;32>k;k+=8)D[A++]=this.g[S]>>>k&255;return D};function c(D,S){var A=g;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=S(D)}function p(D,S){this.h=S;for(var A=[],k=!0,N=D.length-1;0<=N;N--){var O=D[N]|0;k&&O==S||(A[N]=O,k=!1)}this.g=A}var g={};function v(D){return-128<=D&&128>D?c(D,function(S){return new p([S|0],0>S?-1:0)}):new p([D|0],0>D?-1:0)}function E(D){if(isNaN(D)||!isFinite(D))return P;if(0>D)return q(E(-D));for(var S=[],A=1,k=0;D>=A;k++)S[k]=D/A|0,A*=4294967296;return new p(S,0)}function w(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return q(w(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(S,8)),k=P,N=0;N<D.length;N+=8){var O=Math.min(8,D.length-N),I=parseInt(D.substring(N,N+O),S);8>O?(O=E(Math.pow(S,O)),k=k.j(O).add(E(I))):(k=k.j(A),k=k.add(E(I)))}return k}var P=v(0),R=v(1),z=v(16777216);i=p.prototype,i.m=function(){if(X(this))return-q(this).m();for(var D=0,S=1,A=0;A<this.g.length;A++){var k=this.i(A);D+=(0<=k?k:4294967296+k)*S,S*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(Q(this))return"0";if(X(this))return"-"+q(this).toString(D);for(var S=E(Math.pow(D,6)),A=this,k="";;){var N=ge(A,S).g;A=Te(A,N.j(S));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=N,Q(A))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function Q(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function X(D){return D.h==-1}i.l=function(D){return D=Te(this,D),X(D)?-1:Q(D)?0:1};function q(D){for(var S=D.g.length,A=[],k=0;k<S;k++)A[k]=~D.g[k];return new p(A,~D.h).add(R)}i.abs=function(){return X(this)?q(this):this},i.add=function(D){for(var S=Math.max(this.g.length,D.g.length),A=[],k=0,N=0;N<=S;N++){var O=k+(this.i(N)&65535)+(D.i(N)&65535),I=(O>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);k=I>>>16,O&=65535,I&=65535,A[N]=I<<16|O}return new p(A,A[A.length-1]&-2147483648?-1:0)};function Te(D,S){return D.add(q(S))}i.j=function(D){if(Q(this)||Q(D))return P;if(X(this))return X(D)?q(this).j(q(D)):q(q(this).j(D));if(X(D))return q(this.j(q(D)));if(0>this.l(z)&&0>D.l(z))return E(this.m()*D.m());for(var S=this.g.length+D.g.length,A=[],k=0;k<2*S;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<D.g.length;N++){var O=this.i(k)>>>16,I=this.i(k)&65535,Ye=D.i(N)>>>16,Rt=D.i(N)&65535;A[2*k+2*N]+=I*Rt,fe(A,2*k+2*N),A[2*k+2*N+1]+=O*Rt,fe(A,2*k+2*N+1),A[2*k+2*N+1]+=I*Ye,fe(A,2*k+2*N+1),A[2*k+2*N+2]+=O*Ye,fe(A,2*k+2*N+2)}for(k=0;k<S;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=S;k<2*S;k++)A[k]=0;return new p(A,0)};function fe(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function pe(D,S){this.g=D,this.h=S}function ge(D,S){if(Q(S))throw Error("division by zero");if(Q(D))return new pe(P,P);if(X(D))return S=ge(q(D),S),new pe(q(S.g),q(S.h));if(X(S))return S=ge(D,q(S)),new pe(q(S.g),S.h);if(30<D.g.length){if(X(D)||X(S))throw Error("slowDivide_ only works with positive integers.");for(var A=R,k=S;0>=k.l(D);)A=Fe(A),k=Fe(k);var N=Se(A,1),O=Se(k,1);for(k=Se(k,2),A=Se(A,2);!Q(k);){var I=O.add(k);0>=I.l(D)&&(N=N.add(A),O=I),k=Se(k,1),A=Se(A,1)}return S=Te(D,N.j(S)),new pe(N,S)}for(N=P;0<=D.l(S);){for(A=Math.max(1,Math.floor(D.m()/S.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=E(A),I=O.j(S);X(I)||0<I.l(D);)A-=k,O=E(A),I=O.j(S);Q(O)&&(O=R),N=N.add(O),D=Te(D,I)}return new pe(N,D)}i.A=function(D){return ge(this,D).h},i.and=function(D){for(var S=Math.max(this.g.length,D.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)&D.i(k);return new p(A,this.h&D.h)},i.or=function(D){for(var S=Math.max(this.g.length,D.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)|D.i(k);return new p(A,this.h|D.h)},i.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)^D.i(k);return new p(A,this.h^D.h)};function Fe(D){for(var S=D.g.length+1,A=[],k=0;k<S;k++)A[k]=D.i(k)<<1|D.i(k-1)>>>31;return new p(A,D.h)}function Se(D,S){var A=S>>5;S%=32;for(var k=D.g.length-A,N=[],O=0;O<k;O++)N[O]=0<S?D.i(O+A)>>>S|D.i(O+A+1)<<32-S:D.i(O+A);return new p(N,D.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Sm=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=w,$r=p}).apply(typeof mp<"u"?mp:typeof self<"u"?self:typeof window<"u"?window:{});var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Im,bo,Am,kl,Gc,Cm,Rm,Pm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sl=="object"&&Sl];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function l(a,f){if(f)e:{var m=o;a=a.split(".");for(var _=0;_<a.length-1;_++){var L=a[_];if(!(L in m))break e;m=m[L]}a=a[a.length-1],_=m[a],f=f(_),f!=_&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function c(a,f){a instanceof String&&(a+="");var m=0,_=!1,L={next:function(){if(!_&&m<a.length){var j=m++;return{value:f(j,a[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(a){return a||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function E(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function w(a,f,m){return a.call.apply(a.bind,arguments)}function P(a,f,m){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),a.apply(f,L)}}return function(){return a.apply(f,arguments)}}function R(a,f,m){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:P,R.apply(null,arguments)}function z(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function Q(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(_,L,j){for(var G=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)G[Le-2]=arguments[Le];return f.prototype[L].apply(_,G)}}function X(a){const f=a.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=a[_];return m}return[]}function q(a,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const L=a.length||0,j=_.length||0;a.length=L+j;for(let G=0;G<j;G++)a[L+G]=_[G]}else a.push(_)}}class Te{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function fe(a){return/^[\s\xa0]*$/.test(a)}function pe(){var a=g.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var Fe=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function Se(a,f,m){for(const _ in a)f.call(m,a[_],_,a)}function D(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function S(a){const f={};for(const m in a)f[m]=a[m];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(a,f){let m,_;for(let L=1;L<arguments.length;L++){_=arguments[L];for(m in _)a[m]=_[m];for(let j=0;j<A.length;j++)m=A[j],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function N(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function O(a){g.setTimeout(()=>{throw a},0)}function I(){var a=le;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Ye{constructor(){this.h=this.g=null}add(f,m){const _=Rt.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Rt=new Te(()=>new Pt,a=>a.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,J=!1,le=new Ye,ee=()=>{const a=g.Promise.resolve(void 0);Me=()=>{a.then(x)}};var x=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(m){O(m)}var f=Rt;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}J=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return a}();function _e(a,f){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Fe){e:{try{ge(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ae[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&_e.aa.h.call(this)}}Q(_e,oe);var Ae={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function je(a,f,m,_,L){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=L,this.key=++Oe,this.da=this.fa=!1}function mt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kn(a){this.src=a,this.g={},this.h=0}Kn.prototype.add=function(a,f,m,_,L){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var G=pr(a,f,_,L);return-1<G?(f=a[G],m||(f.fa=!1)):(f=new je(f,this.src,j,!!_,L),f.fa=m,a.push(f)),f};function xi(a,f){var m=f.type;if(m in a.g){var _=a.g[m],L=Array.prototype.indexOf.call(_,f,void 0),j;(j=0<=L)&&Array.prototype.splice.call(_,L,1),j&&(mt(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function pr(a,f,m,_){for(var L=0;L<a.length;++L){var j=a[L];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==_)return L}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),Oi={};function Ws(a,f,m,_,L){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Ws(a,f[j],m,_,L);return null}return m=Gs(m),a&&a[xe]?a.K(f,m,E(_)?!!_.capture:!!_,L):Qs(a,f,m,!1,_,L)}function Qs(a,f,m,_,L,j){if(!f)throw Error("Invalid event type");var G=E(L)?!!L.capture:!!L,Le=Mi(a);if(Le||(a[Zr]=Le=new Kn(a)),m=Le.add(f,m,_,G,j),m.proxy)return m;if(_=aa(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)ve||(L=G),L===void 0&&(L=!1),a.addEventListener(f.toString(),_,L);else if(a.attachEvent)a.attachEvent(Xn(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function aa(){function a(m){return f.call(a.src,a.listener,m)}const f=Ks;return a}function Li(a,f,m,_,L){if(Array.isArray(f))for(var j=0;j<f.length;j++)Li(a,f[j],m,_,L);else _=E(_)?!!_.capture:!!_,m=Gs(m),a&&a[xe]?(a=a.i,f=String(f).toString(),f in a.g&&(j=a.g[f],m=pr(j,m,_,L),-1<m&&(mt(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete a.g[f],a.h--)))):a&&(a=Mi(a))&&(f=a.g[f.toString()],a=-1,f&&(a=pr(f,m,_,L)),(m=-1<a?f[a]:null)&&Gn(m))}function Gn(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[xe])xi(f.i,a);else{var m=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(m,_,a.capture):f.detachEvent?f.detachEvent(Xn(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=Mi(f))?(xi(m,a),m.h==0&&(m.src=null,f[Zr]=null)):mt(a)}}}function Xn(a){return a in Oi?Oi[a]:Oi[a]="on"+a}function Ks(a,f){if(a.da)a=!0;else{f=new _e(f,this);var m=a.listener,_=a.ha||a.src;a.fa&&Gn(a),a=m.call(_,f)}return a}function Mi(a){return a=a[Zr],a instanceof Kn?a:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(a){return typeof a=="function"?a:(a[Fi]||(a[Fi]=function(f){return a.handleEvent(f)}),a[Fi])}function at(){B.call(this),this.i=new Kn(this),this.M=this,this.F=null}Q(at,B),at.prototype[xe]=!0,at.prototype.removeEventListener=function(a,f,m,_){Li(this,a,f,m,_)};function lt(a,f){var m,_=a.F;if(_)for(m=[];_;_=_.F)m.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new oe(f,a);else if(f instanceof oe)f.target=f.target||a;else{var L=f;f=new oe(_,a),k(f,L)}if(L=!0,m)for(var j=m.length-1;0<=j;j--){var G=f.g=m[j];L=Yn(G,_,!0,f)&&L}if(G=f.g=a,L=Yn(G,_,!0,f)&&L,L=Yn(G,_,!1,f)&&L,m)for(j=0;j<m.length;j++)G=f.g=m[j],L=Yn(G,_,!1,f)&&L}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],_=0;_<m.length;_++)mt(m[_]);delete a.g[f],a.h--}}this.F=null},at.prototype.K=function(a,f,m,_){return this.i.add(String(a),f,!1,m,_)},at.prototype.L=function(a,f,m,_){return this.i.add(String(a),f,!0,m,_)};function Yn(a,f,m,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,j=0;j<f.length;++j){var G=f[j];if(G&&!G.da&&G.capture==m){var Le=G.listener,ut=G.ha||G.src;G.fa&&xi(a.i,G),L=Le.call(ut,_)!==!1&&L}}return L&&!_.defaultPrevented}function Xs(a,f,m){if(typeof a=="function")m&&(a=R(a,m));else if(a&&typeof a.handleEvent=="function")a=R(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(a,f||0)}function mr(a){a.g=Xs(()=>{a.g=null,a.i&&(a.i=!1,mr(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class ei extends B{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(a){B.call(this),this.h=a,this.g={}}Q(ti,B);var Ys=[];function Js(a){Se(a.g,function(f,m){this.g.hasOwnProperty(m)&&Gn(f)},a),a.g={}}ti.prototype.N=function(){ti.aa.N.call(this),Js(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=g.JSON.stringify,eo=g.JSON.parse,to=class{stringify(a){return g.JSON.stringify(a,void 0)}parse(a){return g.JSON.parse(a,void 0)}};function ni(){}ni.prototype.h=null;function Ui(a){return a.h||(a.h=a.i())}function ji(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){oe.call(this,"d")}Q(Dn,oe);function zi(){oe.call(this,"c")}Q(zi,oe);var Nn={},no=null;function ri(){return no=no||new at}Nn.La="serverreachability";function ro(a){oe.call(this,Nn.La,a)}Q(ro,oe);function Jn(a){const f=ri();lt(f,new ro(f))}Nn.STAT_EVENT="statevent";function io(a,f){oe.call(this,Nn.STAT_EVENT,a),this.stat=f}Q(io,oe);function Je(a){const f=ri();lt(f,new io(f,a))}Nn.Ma="timingevent";function Bi(a,f){oe.call(this,Nn.Ma,a),this.size=f}Q(Bi,oe);function gn(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){a()},f)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function si(a,f,m,_,L,j){a.info(function(){if(a.g)if(j)for(var G="",Le=j.split("&"),ut=0;ut<Le.length;ut++){var Ce=Le[ut].split("=");if(1<Ce.length){var gt=Ce[0];Ce=Ce[1];var nt=gt.split("_");G=2<=nt.length&&nt[1]=="type"?G+(gt+"="+Ce+"&"):G+(gt+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+f+`
`+m+`
`+G})}function bi(a,f,m,_,L,j,G){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+f+`
`+m+`
`+j+" "+G})}function yn(a,f,m,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+ru(a,m)+(_?" "+_:"")})}function so(a,f){a.info(function(){return"TIMEOUT: "+f})}ii.prototype.info=function(){};function ru(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var _=m[a];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return Zs(m)}catch{return f}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},la={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function oi(){}Q(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},vn=new oi;function _n(a,f,m,_){this.j=a,this.i=f,this.l=m,this.R=_||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ua}function ua(){this.i=null,this.g="",this.h=!1}var oo={},Hi={};function qi(a,f,m){a.L=1,a.v=Er(Jt(f)),a.m=m,a.P=!0,ao(a,null)}function ao(a,f){a.F=Date.now(),ze(a),a.A=Jt(a.v);var m=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Tr(m.i,"t",_),a.C=0,m=a.j.J,a.h=new ua,a.g=Ra(a.j,m?f:null,!a.m),0<a.O&&(a.M=new ei(R(a.Y,a,a.g),a.O)),f=a.U,m=a.g,_=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ys[0]=L.toString()),L=Ys);for(var j=0;j<L.length;j++){var G=Ws(m,L[j],_||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=a.H?S(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Jn(),si(a.i,a.u,a.A,a.l,a.R,a.m)}_n.prototype.ca=function(a){a=a.target;const f=this.M;f&&bt(a)==3?f.j():this.Y(a)},_n.prototype.Y=function(a){try{if(a==this.g)e:{const nt=bt(this.g);var f=this.g.Ba();const ln=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||nt!=4||f==7||(f==8||0>=ln?Jn(3):Jn(2)),ai(this);var m=this.g.Z();this.X=m;t:if(ca(this)){var _=po(this.g);a="";var L=_.length,j=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),gr(this);var G="";break t}this.h.i=new g.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(j&&f==L-1)});_.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,bi(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,ut=this.g;if((Le=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fe(Le)){var Ce=Le;break t}}Ce=null}if(m=Ce)yn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,m);else{this.o=!1,this.s=3,Je(12),on(this),gr(this);break e}}if(this.P){m=!0;let en;for(;!this.J&&this.C<G.length;)if(en=iu(this,G),en==Hi){nt==4&&(this.s=4,Je(14),m=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==oo){this.s=4,Je(15),yn(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else yn(this.i,this.l,en,null),lo(this,en);if(ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||G.length!=0||this.h.h||(this.s=1,Je(16),m=!1),this.o=this.o&&m,!m)yn(this.i,this.l,G,"[Invalid Chunked Response]"),on(this),gr(this);else if(0<G.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),go(gt),gt.M=!0,Je(11))}}else yn(this.i,this.l,G,null),lo(this,G);nt==4&&on(this),this.o&&!this.J&&(nt==4?ns(this.j,this):(this.o=!1,ze(this)))}else Yi(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),on(this),gr(this)}}}catch{}finally{}};function ca(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function iu(a,f){var m=a.C,_=f.indexOf(`
`,m);return _==-1?Hi:(m=Number(f.substring(m,_)),isNaN(m)?oo:(_+=1,_+m>f.length?Hi:(f=f.slice(_,_+m),a.C=_+m,f)))}_n.prototype.cancel=function(){this.J=!0,on(this)};function ze(a){a.S=Date.now()+a.I,ha(a,a.I)}function ha(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=gn(R(a.ba,a),f)}function ai(a){a.B&&(g.clearTimeout(a.B),a.B=null)}_n.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(so(this.i,this.A),this.L!=2&&(Jn(),Je(17)),on(this),this.s=2,gr(this)):ha(this,this.S-a)};function gr(a){a.j.G==0||a.J||ns(a.j,a)}function on(a){ai(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Js(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function lo(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||Mt(m.h,a))){if(!a.K&&Mt(m.h,a)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var L=_;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)ts(m),In(m);else break e;es(m),Je(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=gn(R(m.Za,m),6e3));if(1>=da(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else rr(m,11)}else if((a.K||m.g==a)&&ts(m),!fe(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let Ce=L[f];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];const gt=Ce[3];gt!=null&&(m.la=gt,m.j.info("VER="+m.la));const nt=Ce[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const ln=Ce[5];ln!=null&&typeof ln=="number"&&0<ln&&(_=1.5*ln,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const en=a.g;if(en){const pi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var j=_.h;j.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(uo(j,j.h),j.h=null))}if(_.D){const is=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(_.ya=is,Ue(_.I,_.D,is))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var G=a;if(_.qa=Ca(_,_.J?_.ia:null,_.W),G.K){pa(_.h,G);var Le=G,ut=_.L;ut&&(Le.I=ut),Le.B&&(ai(Le),ze(Le)),_.g=G}else di(_);0<m.i.length&&Mn(m)}else Ce[0]!="stop"&&Ce[0]!="close"||rr(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?rr(m,7):Tt(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}Jn(4)}catch{}}var fa=class{constructor(a,f){this.g=a,this.map=f}};function li(a){this.l=a||10,g.PerformanceNavigationTiming?(a=g.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function da(a){return a.h?1:a.g?a.g.size:0}function Mt(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function uo(a,f){a.g?a.g.add(f):a.h=f}function pa(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}li.prototype.cancel=function(){if(this.i=ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ma(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return X(a.i)}function Wi(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(v(a)){for(var f=[],m=a.length,_=0;_<m;_++)f.push(a[_]);return f}f=[],m=0;for(_ in a)f[m++]=a[_];return f}function Qi(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(v(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const _ in a)f[m++]=_;return f}}}function yr(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(v(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=Qi(a),_=Wi(a),L=_.length,j=0;j<L;j++)f.call(void 0,_[j],m&&m[j],a)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function su(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var _=a[m].indexOf("="),L=null;if(0<=_){var j=a[m].substring(0,_);L=a[m].substring(_+1)}else j=a[m];f(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Zn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Zn){this.h=a.h,ci(this,a.j),this.o=a.o,this.g=a.g,vr(this,a.s),this.l=a.l;var f=a.i,m=new xn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),_r(this,m),this.m=a.m}else a&&(f=String(a).match(ui))?(this.h=!1,ci(this,f[1]||"",!0),this.o=Ie(f[2]||""),this.g=Ie(f[3]||"",!0),vr(this,f[4]),this.l=Ie(f[5]||"",!0),_r(this,f[6]||"",!0),this.m=Ie(f[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}Zn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(wr(f,Ki,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(wr(f,Ki,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(wr(m,m.charAt(0)=="/"?va:ya,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",wr(m,co)),a.join("")};function Jt(a){return new Zn(a)}function ci(a,f,m){a.j=m?Ie(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function vr(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function _r(a,f,m){f instanceof xn?(a.i=f,On(a.i,a.h)):(m||(f=wr(f,_a)),a.i=new xn(f,a.h))}function Ue(a,f,m){a.i.set(f,m)}function Er(a){return Ue(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ie(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wr(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,ga),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ga(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ki=/[#\/\?@]/g,ya=/[#\?:]/g,va=/[#\?]/g,_a=/[#\?@]/g,co=/#/g;function xn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function wt(a){a.g||(a.g=new Map,a.h=0,a.i&&su(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}i=xn.prototype,i.add=function(a,f){wt(this),this.i=null,a=an(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function En(a,f){wt(a),f=an(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function wn(a,f){return wt(a),f=an(a,f),a.g.has(f)}i.forEach=function(a,f){wt(this),this.g.forEach(function(m,_){m.forEach(function(L){a.call(f,L,_,this)},this)},this)},i.na=function(){wt(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const L=a[_];for(let j=0;j<L.length;j++)m.push(f[_])}return m},i.V=function(a){wt(this);let f=[];if(typeof a=="string")wn(this,a)&&(f=f.concat(this.g.get(an(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},i.set=function(a,f){return wt(this),this.i=null,a=an(this,a),wn(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},i.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Tr(a,f,m){En(a,f),0<m.length&&(a.i=null,a.g.set(an(a,f),X(m)),a.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const j=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var L=j;G[_]!==""&&(L+="="+encodeURIComponent(String(G[_]))),a.push(L)}}return this.i=a.join("&")};function an(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function On(a,f){f&&!a.j&&(wt(a),a.i=null,a.g.forEach(function(m,_){var L=_.toLowerCase();_!=L&&(En(this,_),Tr(this,L,m))},a)),a.j=f}function ou(a,f){const m=new ii;if(g.Image){const _=new Image;_.onload=z(Bt,m,"TestLoadImage: loaded",!0,f,_),_.onerror=z(Bt,m,"TestLoadImage: error",!1,f,_),_.onabort=z(Bt,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=z(Bt,m,"TestLoadImage: timeout",!1,f,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function Ea(a,f){const m=new ii,_=new AbortController,L=setTimeout(()=>{_.abort(),Bt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(j=>{clearTimeout(L),j.ok?Bt(m,"TestPingServer: ok",!0,f):Bt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Bt(m,"TestPingServer: error",!1,f)})}function Bt(a,f,m,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(m)}catch{}}function au(){this.g=new to}function wa(a,f,m){const _=m||"";try{yr(a,function(L,j){let G=L;E(L)&&(G=Zs(L)),f.push(_+j+"="+encodeURIComponent(G))})}catch(L){throw f.push(_+"type="+encodeURIComponent("_badmap")),L}}function er(a){this.l=a.Ub||null,this.j=a.eb||!1}Q(er,ni),er.prototype.g=function(){return new hi(this.l,this.j)},er.prototype.i=function(a){return function(){return a}}({});function hi(a,f){at.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(hi,at),i=hi.prototype,i.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Sn(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ta(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ta(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Tn(this):Sn(this),this.readyState==3&&Ta(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,Tn(this))},i.Qa=function(a){this.g&&(this.response=a,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Sn(a)}i.setRequestHeader=function(a,f){this.u.append(a,f)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function Sn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tr(a){let f="";return Se(a,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function Sr(a,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=tr(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Ue(a,f,m))}function He(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(He,at);var lu=/^https?$/i,ho=["POST","PUT"];i=He.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?Ui(this.o):Ui(vn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(j){fi(this,j);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)m.set(L,_[L]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const j of _.keys())m.set(j,_.get(j));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&a instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ho,f,void 0))||_||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of m)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){fi(this,j)}};function fi(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Gi(a),Zt(a)}function Gi(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},i.bb=function(){fo(this)};function fo(a){if(a.h&&typeof p<"u"&&(!a.v[1]||bt(a)!=4||a.Z()!=2)){if(a.u&&bt(a)==4)Xs(a.Ea,0,a);else if(lt(a,"readystatechange"),bt(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=G===0){var L=String(a.D).match(ui)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),_=!lu.test(L?L.toLowerCase():"")}m=_}if(m)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var j=2<bt(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Gi(a)}}finally{Zt(a)}}}}function Zt(a,f){if(a.g){Xi(a);const m=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||lt(a,"ready");try{m.onreadystatechange=_}catch{}}}function Xi(a){a.I&&(g.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function bt(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),eo(f)}};function po(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(a){const f={};a=(a.g&&2<=bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(fe(a[_]))continue;var m=N(a[_]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[L]||[];f[L]=j,j.push(m)}D(f,function(_){return _.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function mo(a){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,a),this.cb=Ln("retryDelaySeedMs",1e4,a),this.Wa=Ln("forwardChannelMaxRetries",2,a),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new li(a&&a.concurrentRequestLimit),this.Da=new au,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=mo.prototype,i.la=8,i.G=1,i.connect=function(a,f,m,_){Je(0),this.W=a,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=Ca(this,null,this.W),Mn(this)};function Tt(a){if(Ji(a),a.G==3){var f=a.U++,m=Jt(a.I);if(Ue(m,"SID",a.K),Ue(m,"RID",f),Ue(m,"TYPE","terminate"),nr(a,m),f=new _n(a,a.j,f),f.L=2,f.v=Er(Jt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=Ra(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}Aa(a)}function In(a){a.g&&(go(a),a.g.cancel(),a.g=null)}function Ji(a){In(a),a.u&&(g.clearTimeout(a.u),a.u=null),ts(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&g.clearTimeout(a.s),a.s=null)}function Mn(a){if(!Yt(a.h)&&!a.s){a.s=!0;var f=a.Ga;Me||ee(),J||(Me(),J=!0),le.add(f,a),a.B=0}}function uu(a,f){return da(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=gn(R(a.Ga,a,f),Ia(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new _n(this,this.j,a);let j=this.o;if(this.S&&(j?(j=S(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ir(this,L,f),m=Jt(this.I),Ue(m,"RID",a),Ue(m,"CVER",22),this.D&&Ue(m,"X-HTTP-Session-Id",this.D),nr(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(tr(j)))+"&"+f:this.m&&Sr(m,this.m,j)),uo(this.h,L),this.Ua&&Ue(m,"TYPE","init"),this.P?(Ue(m,"$req",f),Ue(m,"SID","null"),L.T=!0,qi(L,m,null)):qi(L,m,f),this.G=2}}else this.G==3&&(a?Zi(this,a):this.i.length==0||Yt(this.h)||Zi(this))};function Zi(a,f){var m;f?m=f.l:m=a.U++;const _=Jt(a.I);Ue(_,"SID",a.K),Ue(_,"RID",m),Ue(_,"AID",a.T),nr(a,_),a.m&&a.o&&Sr(_,a.m,a.o),m=new _n(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Ir(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),uo(a.h,m),qi(m,_,f)}function nr(a,f){a.H&&Se(a.H,function(m,_){Ue(f,_,m)}),a.l&&yr({},function(m,_){Ue(f,_,m)})}function Ir(a,f,m){m=Math.min(a.i.length,m);var _=a.l?R(a.l.Na,a.l,a):null;e:{var L=a.i;let j=-1;for(;;){const G=["count="+m];j==-1?0<m?(j=L[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let Le=!0;for(let ut=0;ut<m;ut++){let Ce=L[ut].g;const gt=L[ut].map;if(Ce-=j,0>Ce)j=Math.max(0,L[ut].g-100),Le=!1;else try{wa(gt,G,"req"+Ce+"_")}catch{_&&_(gt)}}if(Le){_=G.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,_}function di(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Me||ee(),J||(Me(),J=!0),le.add(f,a),a.v=0}}function es(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=gn(R(a.Fa,a),Ia(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,Sa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=gn(R(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),In(this),Sa(this))};function go(a){a.A!=null&&(g.clearTimeout(a.A),a.A=null)}function Sa(a){a.g=new _n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Jt(a.qa);Ue(f,"RID","rpc"),Ue(f,"SID",a.K),Ue(f,"AID",a.T),Ue(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ue(f,"TO",a.ja),Ue(f,"TYPE","xmlhttp"),nr(a,f),a.m&&a.o&&Sr(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Er(Jt(f)),m.m=null,m.P=!0,ao(m,a)}i.Za=function(){this.C!=null&&(this.C=null,In(this),es(this),Je(19))};function ts(a){a.C!=null&&(g.clearTimeout(a.C),a.C=null)}function ns(a,f){var m=null;if(a.g==f){ts(a),go(a),a.g=null;var _=2}else if(Mt(a.h,f))m=f.D,pa(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=a.B;_=ri(),lt(_,new Bi(_,m)),Mn(a)}else di(a);else if(L=f.s,L==3||L==0&&0<f.X||!(_==1&&uu(a,f)||_==2&&es(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),L){case 1:rr(a,5);break;case 4:rr(a,10);break;case 3:rr(a,6);break;default:rr(a,2)}}}function Ia(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function rr(a,f){if(a.j.info("Error code "+f),f==2){var m=R(a.fb,a),_=a.Xa;const L=!_;_=new Zn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ci(_,"https"),Er(_),L?ou(_.toString(),m):Ea(_.toString(),m)}else Je(2);a.G=0,a.l&&a.l.sa(f),Aa(a),Ji(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function Aa(a){if(a.G=0,a.ka=[],a.l){const f=ma(a.h);(f.length!=0||a.i.length!=0)&&(q(a.ka,f),q(a.ka,a.i),a.h.i.length=0,X(a.i),a.i.length=0),a.l.ra()}}function Ca(a,f,m){var _=m instanceof Zn?Jt(m):new Zn(m);if(_.g!="")f&&(_.g=f+"."+_.g),vr(_,_.s);else{var L=g.location;_=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var j=new Zn(null);_&&ci(j,_),f&&(j.g=f),L&&vr(j,L),m&&(j.l=m),_=j}return m=a.D,f=a.ya,m&&f&&Ue(_,m,f),Ue(_,"VER",a.la),nr(a,_),_}function Ra(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new He(new er({eb:m})):new He(a.pa),f.Ha(a.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}i=yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(a,f){return new Ft(a,f)};function Ft(a,f){at.call(this),this.g=new mo(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!fe(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!fe(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Fn(this)}Q(Ft,at),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Tt(this.g)},Ft.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Zs(a),a=m);f.i.push(new fa(f.Ya++,a)),f.G==3&&Mn(f)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Ft.aa.N.call(this)};function Pa(a){Dn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}Q(Pa,Dn);function ka(){zi.call(this),this.status=1}Q(ka,zi);function Fn(a){this.g=a}Q(Fn,yo),Fn.prototype.ua=function(){lt(this.g,"a")},Fn.prototype.ta=function(a){lt(this.g,new Pa(a))},Fn.prototype.sa=function(a){lt(this.g,new ka)},Fn.prototype.ra=function(){lt(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Pm=function(){return new rs},Rm=function(){return ri()},Cm=Nn,Gc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,kl=$i,la.COMPLETE="complete",Am=la,ji.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",at.prototype.listen=at.prototype.K,bo=ji,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Im=He}).apply(typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{});const gp="@firebase/firestore",yp="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new ym("@firebase/firestore");function As(){return Di.logLevel}function te(i,...e){if(Di.logLevel<=Pe.DEBUG){const r=e.map(vh);Di.debug(`Firestore (${$s}): ${i}`,...r)}}function dr(i,...e){if(Di.logLevel<=Pe.ERROR){const r=e.map(vh);Di.error(`Firestore (${$s}): ${i}`,...r)}}function Wr(i,...e){if(Di.logLevel<=Pe.WARN){const r=e.map(vh);Di.warn(`Firestore (${$s}): ${i}`,...r)}}function vh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,km(i,o,r)}function km(i,e,r){let o=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{o+=" CONTEXT: "+JSON.stringify(r)}catch{o+=" CONTEXT: "+r}throw dr(o),new Error(o)}function Ge(i,e,r,o){let l="Unexpected state";typeof r=="string"?l=r:o=r,i||km(e,l,o)}function ke(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends bs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ot.UNAUTHENTICATED))}shutdown(){}}class H_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class q_{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ge(this.o===void 0,42304);let o=this.i;const l=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const v=c;e.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},g=v=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}},0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ge(typeof o.accessToken=="string",31837,{l:o}),new Vm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class W_{constructor(e,r,o){this.P=e,this.T=r,this.I=o,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q_{constructor(e,r,o){this.P=e,this.T=r,this.I=o}getToken(){return Promise.resolve(new W_(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K_{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,C_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ge(this.o===void 0,3512);const o=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.m;return this.m=c.token,te("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const l=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ge(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new vp(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=G_(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=e.charAt(l[c]%62))}return o}}function we(i,e){return i<e?-1:i>e?1:0}function Xc(i,e){let r=0;for(;r<i.length&&r<e.length;){const o=i.codePointAt(r),l=e.codePointAt(r);if(o!==l){if(o<128&&l<128)return we(o,l);{const c=Dm(),p=X_(c.encode(_p(i,r)),c.encode(_p(e,r)));return p!==0?p:we(o,l)}}r+=o>65535?2:1}return we(i.length,e.length)}function _p(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function X_(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return we(i[r],e[r]);return we(i.length,e.length)}function Ms(i,e,r){return i.length===e.length&&i.every((o,l)=>r(o,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="__name__";class bn{constructor(e,r,o){r===void 0?r=0:r>e.length&&ye(637,{offset:r,range:e.length}),o===void 0?o=e.length-r:o>e.length-r&&ye(1746,{length:o,range:e.length-r}),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const c=bn.compareSegments(e.get(l),r.get(l));if(c!==0)return c}return we(e.length,r.length)}static compareSegments(e,r){const o=bn.isNumericId(e),l=bn.isNumericId(r);return o&&!l?-1:!o&&l?1:o&&l?bn.extractNumericId(e).compare(bn.extractNumericId(r)):Xc(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class Ke extends bn{construct(e,r,o){return new Ke(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Ke(r)}static emptyPath(){return new Ke([])}}const Y_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends bn{construct(e,r,o){return new zt(e,r,o)}static isValidIdentifier(e){return Y_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ep}static keyField(){return new zt([Ep])}static fromServerFormat(e){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,l+=2}else g==="`"?(p=!p,l++):g!=="."||p?(o+=g,l++):(c(),l++)}if(c(),p)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ke.fromString(e))}static fromName(e){return new he(Ke.fromString(e).popFirst(5))}static empty(){return new he(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ke.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ke(e.slice()))}}function J_(i,e,r,o){if(e===!0&&o===!0)throw new ae(Y.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function wp(i){if(he.isDocumentKey(i))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Z_(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function e0(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function Yc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=e0(i);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(i,e){const r={typeString:i};return e&&(r.value=e),r}function na(i,e){if(!Z_(i))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let r;for(const o in e)if(e[o]){const l=e[o].typeString,c="value"in e[o]?{value:e[o].value}:void 0;if(!(o in i)){r=`JSON missing required field: '${o}'`;break}const p=i[o];if(l&&typeof p!==l){r=`JSON field '${o}' must be a ${l}.`;break}if(c!==void 0&&p!==c.value){r=`Expected '${o}' field to equal '${c.value}'`;break}}if(r)throw new ae(Y.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=-62135596800,Sp=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor((e-1e3*r)*Sp);return new st(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Tp)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sp}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(na(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:ot("string",st._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new st(0,0))}static max(){return new me(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=-1;function t0(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=me.fromTimestamp(o===1e9?new st(r+1,0):new st(r,o));return new Qr(l,he.empty(),e)}function n0(i){return new Qr(i.readTime,i.key,Jo)}class Qr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Qr(me.min(),he.empty(),Jo)}static max(){return new Qr(me.max(),he.empty(),Jo)}}function r0(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=he.comparator(i.documentKey,e.documentKey),r!==0?r:we(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==i0)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new b((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof b?r:b.resolve(r)}catch(r){return b.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):b.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):b.reject(r)}static resolve(e){return new b((r,o)=>{r(e)})}static reject(e){return new b((r,o)=>{o(e)})}static waitFor(e){return new b((r,o)=>{let l=0,c=0,p=!1;e.forEach(g=>{++l,g.next(()=>{++c,p&&c===l&&r()},v=>o(v))}),p=!0,c===l&&r()})}static or(e){let r=b.resolve(!1);for(const o of e)r=r.next(l=>l?b.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(e,r){return new b((o,l)=>{const c=e.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(e[E]).next(w=>{p[E]=w,++g,g===c&&o(p)},w=>l(w))}})}static doWhile(e,r){return new b((o,l)=>{const c=()=>{e()===!0?r().next(()=>{c()},l):o()};c()})}}function o0(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Hs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this._e(o),this.ae=o=>r.writeSequenceNumber(o))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Wl.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=-1;function Ql(i){return i==null}function Jc(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="";function l0(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=Ip(e)),e=u0(i.get(r),e);return Ip(e)}function u0(i,e){let r=e;const o=i.length;for(let l=0;l<o;l++){const c=i.charAt(l);switch(c){case"\0":r+="";break;case xm:r+="";break;default:r+=c}}return r}function Ip(i){return i+xm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ra(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function c0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,r){this.comparator=e,this.root=r||At.EMPTY}insert(e,r){return new tt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,r,o,l,c){this.key=e,this.value=r,this.color=o??At.RED,this.left=l??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,c){return new At(e??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return At.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,r,o,l,c){return this}insert(e,r,o){return new At(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new pt(this.comparator);return r.data=e,r}}class Cp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new jr([])}unionWith(e){let r=new pt(zt.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new jr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Om("Invalid base64 string: "+c):c}}(e);return new Ct(r)}static fromUint8Array(e){const r=function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c}(e);return new Ct(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const h0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const r=h0.exec(i);if(Ge(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:et(i.seconds),nanos:et(i.nanos)}}function et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gr(i){return typeof i=="string"?Ct.fromBase64String(i):Ct.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="server_timestamp",Mm="__type__",Fm="__previous_value__",Um="__local_write_time__";function _h(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mm])===null||r===void 0?void 0:r.stringValue)===Lm}function Kl(i){const e=i.mapValue.fields[Fm];return _h(e)?Kl(e):e}function Zo(i){const e=Kr(i.mapValue.fields[Um].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,r,o,l,c,p,g,v,E,w){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=w}}const Ul="(default)";class ea{constructor(e,r){this.projectId=e,this.database=r||Ul}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database===Ul}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__type__",jm="__max__",Al={mapValue:{fields:{__type__:{stringValue:jm}}}},p0="__vector__",Zc="value";function Xr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_h(i)?4:g0(i)?9007199254740991:m0(i)?10:11:ye(28295,{value:i})}function Wn(i,e){if(i===e)return!0;const r=Xr(i);if(r!==Xr(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zo(i).isEqual(Zo(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Kr(l.timestampValue),g=Kr(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(l,c){return Gr(l.bytesValue).isEqual(Gr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return et(l.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(l.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return et(l.integerValue)===et(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=et(l.doubleValue),g=et(c.doubleValue);return p===g?Jc(p)===Jc(g):isNaN(p)&&isNaN(g)}return!1}(i,e);case 9:return Ms(i.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(l,c){const p=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Ap(p)!==Ap(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!Wn(p[v],g[v])))return!1;return!0}(i,e);default:return ye(52216,{left:i})}}function ta(i,e){return(i.values||[]).find(r=>Wn(r,e))!==void 0}function Fs(i,e){if(i===e)return 0;const r=Xr(i),o=Xr(e);if(r!==o)return we(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return we(i.booleanValue,e.booleanValue);case 2:return function(c,p){const g=et(c.integerValue||c.doubleValue),v=et(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(i,e);case 3:return Rp(i.timestampValue,e.timestampValue);case 4:return Rp(Zo(i),Zo(e));case 5:return Xc(i.stringValue,e.stringValue);case 6:return function(c,p){const g=Gr(c),v=Gr(p);return g.compareTo(v)}(i.bytesValue,e.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const w=we(g[E],v[E]);if(w!==0)return w}return we(g.length,v.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,p){const g=we(et(c.latitude),et(p.latitude));return g!==0?g:we(et(c.longitude),et(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Pp(i.arrayValue,e.arrayValue);case 10:return function(c,p){var g,v,E,w;const P=c.fields||{},R=p.fields||{},z=(g=P[Zc])===null||g===void 0?void 0:g.arrayValue,Q=(v=R[Zc])===null||v===void 0?void 0:v.arrayValue,X=we(((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0,((w=Q==null?void 0:Q.values)===null||w===void 0?void 0:w.length)||0);return X!==0?X:Pp(z,Q)}(i.mapValue,e.mapValue);case 11:return function(c,p){if(c===Al.mapValue&&p===Al.mapValue)return 0;if(c===Al.mapValue)return 1;if(p===Al.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},w=Object.keys(E);v.sort(),w.sort();for(let P=0;P<v.length&&P<w.length;++P){const R=Xc(v[P],w[P]);if(R!==0)return R;const z=Fs(g[v[P]],E[w[P]]);if(z!==0)return z}return we(v.length,w.length)}(i.mapValue,e.mapValue);default:throw ye(23264,{le:r})}}function Rp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return we(i,e);const r=Kr(i),o=Kr(e),l=we(r.seconds,o.seconds);return l!==0?l:we(r.nanos,o.nanos)}function Pp(i,e){const r=i.values||[],o=e.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=Fs(r[l],o[l]);if(c)return c}return we(r.length,o.length)}function Us(i){return eh(i)}function eh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=Kr(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Gr(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return he.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=eh(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${eh(r.fields[p])}`;return l+"}"}(i.mapValue):ye(61005,{value:i})}function Vl(i){switch(Xr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kl(i);return e?16+Vl(e):16;case 5:return 2*i.stringValue.length;case 6:return Gr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((l,c)=>l+Vl(c),0)}(i.arrayValue);case 10:case 11:return function(o){let l=0;return ra(o.fields,(c,p)=>{l+=c.length+Vl(p)}),l}(i.mapValue);default:throw ye(13486,{value:i})}}function th(i){return!!i&&"integerValue"in i}function Eh(i){return!!i&&"arrayValue"in i}function kp(i){return!!i&&"nullValue"in i}function Vp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Uc(i){return!!i&&"mapValue"in i}function m0(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[d0])===null||r===void 0?void 0:r.stringValue)===p0}function Wo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ra(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Wo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wo(i.arrayValue.values[r]);return e}return Object.assign({},i)}function g0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jm}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Uc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(r)}setAll(e){let r=zt.emptyPath(),o={},l=[];e.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,l),o={},l=[],r=g.popLast()}p?o[g.lastSegment()]=Wo(p):l.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(e){const r=this.field(e.popLast());Uc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){ra(r,(l,c)=>e[l]=c);for(const l of o)delete e[l]}clone(){return new $n(Wo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,r,o,l,c,p,g){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(e){return new Lt(e,0,me.min(),me.min(),me.min(),$n.empty(),0)}static newFoundDocument(e,r,o,l){return new Lt(e,1,r,me.min(),o,l,0)}static newNoDocument(e,r){return new Lt(e,2,r,me.min(),me.min(),$n.empty(),0)}static newUnknownDocument(e,r){return new Lt(e,3,r,me.min(),me.min(),$n.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r){this.position=e,this.inclusive=r}}function Dp(i,e,r){let o=0;for(let l=0;l<i.position.length;l++){const c=e[l],p=i.position[l];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Fs(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Np(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Wn(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,r="asc"){this.field=e,this.dir=r}}function y0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{}class dt extends zm{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new _0(e,r,o):r==="array-contains"?new T0(e,o):r==="in"?new S0(e,o):r==="not-in"?new I0(e,o):r==="array-contains-any"?new A0(e,o):new dt(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new E0(e,o):new w0(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Fs(r,this.value)):r!==null&&Xr(this.value)===Xr(r)&&this.matchesComparison(Fs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends zm{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Qn(e,r)}matches(e){return Bm(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Bm(i){return i.op==="and"}function bm(i){return v0(i)&&Bm(i)}function v0(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function nh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+Us(i.value);if(bm(i))return i.filters.map(e=>nh(e)).join(",");{const e=i.filters.map(r=>nh(r)).join(",");return`${i.op}(${e})`}}function $m(i,e){return i instanceof dt?function(o,l){return l instanceof dt&&o.op===l.op&&o.field.isEqual(l.field)&&Wn(o.value,l.value)}(i,e):i instanceof Qn?function(o,l){return l instanceof Qn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,p,g)=>c&&$m(p,l.filters[g]),!0):!1}(i,e):void ye(19439)}function Hm(i){return i instanceof dt?function(r){return`${r.field.canonicalString()} ${r.op} ${Us(r.value)}`}(i):i instanceof Qn?function(r){return r.op.toString()+" {"+r.getFilters().map(Hm).join(" ,")+"}"}(i):"Filter"}class _0 extends dt{constructor(e,r,o){super(e,r,o),this.key=he.fromName(o.referenceValue)}matches(e){const r=he.comparator(e.key,this.key);return this.matchesComparison(r)}}class E0 extends dt{constructor(e,r){super(e,"in",r),this.keys=qm("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class w0 extends dt{constructor(e,r){super(e,"not-in",r),this.keys=qm("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function qm(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class T0 extends dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Eh(r)&&ta(r.arrayValue,this.value)}}class S0 extends dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ta(this.value.arrayValue,r)}}class I0 extends dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ta(this.value.arrayValue,r)}}class A0 extends dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Eh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>ta(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r=null,o=[],l=[],c=null,p=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=p,this.endAt=g,this.Pe=null}}function xp(i,e=null,r=[],o=[],l=null,c=null,p=null){return new C0(i,e,r,o,l,c,p)}function wh(i){const e=ke(i);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>nh(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ql(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Us(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Us(o)).join(",")),e.Pe=r}return e.Pe}function Th(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!y0(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!$m(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Np(i.startAt,e.startAt)&&Np(i.endAt,e.endAt)}function rh(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,r=null,o=[],l=[],c=null,p="F",g=null,v=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function R0(i,e,r,o,l,c,p,g){return new Gl(i,e,r,o,l,c,p,g)}function Wm(i){return new Gl(i)}function Op(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function P0(i){return i.collectionGroup!==null}function Qo(i){const e=ke(i);if(e.Te===null){e.Te=[];const r=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new pt(zt.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.Te.push(new zl(c,o))}),r.has(zt.keyField().canonicalString())||e.Te.push(new zl(zt.keyField(),o))}return e.Te}function qn(i){const e=ke(i);return e.Ie||(e.Ie=k0(e,Qo(i))),e.Ie}function k0(i,e){if(i.limitType==="F")return xp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new zl(l.field,c)});const r=i.endAt?new jl(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new jl(i.startAt.position,i.startAt.inclusive):null;return xp(i.path,i.collectionGroup,e,i.filters,i.limit,r,o)}}function ih(i,e,r){return new Gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Xl(i,e){return Th(qn(i),qn(e))&&i.limitType===e.limitType}function Qm(i){return`${wh(qn(i))}|lt:${i.limitType}`}function Cs(i){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>Hm(l)).join(", ")}]`),Ql(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>Us(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>Us(l)).join(",")),`Target(${o})`}(qn(i))}; limitType=${i.limitType})`}function Yl(i,e){return e.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,e)&&function(o,l){for(const c of Qo(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(i,e)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(i,e)&&function(o,l){return!(o.startAt&&!function(p,g,v){const E=Dp(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Qo(o),l)||o.endAt&&!function(p,g,v){const E=Dp(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Qo(o),l))}(i,e)}function V0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Km(i){return(e,r)=>{let o=!1;for(const l of Qo(i)){const c=D0(l,e,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function D0(i,e,r){const o=i.field.isKeyField()?he.comparator(e.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Fs(v,E):ye(42886)}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return ye(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(r,o)=>{for(const[l,c]of o)e(l,c)})}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new tt(he.comparator);function Yr(){return N0}const Gm=new tt(he.comparator);function $o(...i){let e=Gm;for(const r of i)e=e.insert(r.key,r);return e}function x0(i){let e=Gm;return i.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Pi(){return Ko()}function Xm(){return Ko()}function Ko(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const O0=new pt(he.comparator);function De(...i){let e=O0;for(const r of i)e=e.add(r);return e}const L0=new pt(we);function M0(){return L0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function U0(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this._=void 0}}function j0(i,e,r){return i instanceof sh?function(l,c){const p={fields:{[Mm]:{stringValue:Lm},[Um]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_h(c)&&(c=Kl(c)),c&&(p.fields[Fm]=c),{mapValue:p}}(r,e):i instanceof Bl?Ym(i,e):i instanceof bl?Jm(i,e):function(l,c){const p=B0(l,c),g=Lp(p)+Lp(l.Ee);return th(p)&&th(l.Ee)?U0(g):F0(l.serializer,g)}(i,e)}function z0(i,e,r){return i instanceof Bl?Ym(i,e):i instanceof bl?Jm(i,e):r}function B0(i,e){return i instanceof oh?function(o){return th(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class sh extends Jl{}class Bl extends Jl{constructor(e){super(),this.elements=e}}function Ym(i,e){const r=Zm(e);for(const o of i.elements)r.some(l=>Wn(l,o))||r.push(o);return{arrayValue:{values:r}}}class bl extends Jl{constructor(e){super(),this.elements=e}}function Jm(i,e){let r=Zm(e);for(const o of i.elements)r=r.filter(l=>!Wn(l,o));return{arrayValue:{values:r}}}class oh extends Jl{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function Lp(i){return et(i.integerValue||i.doubleValue)}function Zm(i){return Eh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function b0(i,e){return i.field.isEqual(e.field)&&function(o,l){return o instanceof Bl&&l instanceof Bl||o instanceof bl&&l instanceof bl?Ms(o.elements,l.elements,Wn):o instanceof oh&&l instanceof oh?Wn(o.Ee,l.Ee):o instanceof sh&&l instanceof sh}(i.transform,e.transform)}class Vi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sh{}function eg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new H0(i.key,Vi.none()):new Ih(i.key,i.data,Vi.none());{const r=i.data,o=$n.empty();let l=new pt(zt.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),l=l.add(c)}return new Zl(i.key,o,new jr(l.toArray()),Vi.none())}}function $0(i,e,r){i instanceof Ih?function(l,c,p){const g=l.value.clone(),v=Fp(l.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(i,e,r):i instanceof Zl?function(l,c,p){if(!Dl(l.precondition,c))return void c.convertToUnknownDocument(p.version);const g=Fp(l.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(tg(l)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(i,e,r):function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,e,r)}function Go(i,e,r,o){return i instanceof Ih?function(c,p,g,v){if(!Dl(c.precondition,p))return g;const E=c.value.clone(),w=Up(c.fieldTransforms,v,p);return E.setAll(w),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(i,e,r,o):i instanceof Zl?function(c,p,g,v){if(!Dl(c.precondition,p))return g;const E=Up(c.fieldTransforms,v,p),w=p.data;return w.setAll(tg(c)),w.setAll(E),p.convertToFoundDocument(p.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(P=>P.field))}(i,e,r,o):function(c,p,g){return Dl(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(i,e,r)}function Mp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&Ms(o,l,(c,p)=>b0(c,p))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ih extends Sh{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zl extends Sh{constructor(e,r,o,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tg(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function Fp(i,e,r){const o=new Map;Ge(i.length===r.length,32656,{Ae:r.length,Re:i.length});for(let l=0;l<r.length;l++){const c=i[l],p=c.transform,g=e.data.field(c.field);o.set(c.field,z0(p,g,r[l]))}return o}function Up(i,e,r){const o=new Map;for(const l of i){const c=l.transform,p=r.data.field(l.field);o.set(l.field,j0(c,p,e))}return o}class H0 extends Sh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&$0(c,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Go(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Go(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Xm();return this.mutations.forEach(l=>{const c=e.get(l.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(l.key)?null:g;const v=eg(p,g);v!==null&&o.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(me.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),De())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(r,o)=>Mp(r,o))&&Ms(this.baseMutations,e.baseMutations,(r,o)=>Mp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Re;function ng(i){if(i===void 0)return dr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case it.OK:return Y.OK;case it.CANCELLED:return Y.CANCELLED;case it.UNKNOWN:return Y.UNKNOWN;case it.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case it.INTERNAL:return Y.INTERNAL;case it.UNAVAILABLE:return Y.UNAVAILABLE;case it.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case it.NOT_FOUND:return Y.NOT_FOUND;case it.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case it.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case it.ABORTED:return Y.ABORTED;case it.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case it.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case it.DATA_LOSS:return Y.DATA_LOSS;default:return ye(39323,{code:i})}}(Re=it||(it={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new $r([4294967295,4294967295],0);function jp(i){const e=Dm().encode(i),r=new Sm;return r.update(e),new Uint8Array(r.digest())}function zp(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new $r([r,o],0),new $r([l,c],0)]}class Ah{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ho(`Invalid padding: ${r}`);if(o<0)throw new Ho(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=$r.fromNumber(this.fe)}pe(e,r,o){let l=e.add(r.multiply($r.fromNumber(o)));return l.compare(K0)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=jp(e),[o,l]=zp(r);for(let c=0;c<this.hashCount;c++){const p=this.pe(o,l,c);if(!this.ye(p))return!1}return!0}static create(e,r,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new Ah(c,l,r);return o.forEach(g=>p.insert(g)),p}insert(e){if(this.fe===0)return;const r=jp(e),[o,l]=zp(r);for(let c=0;c<this.hashCount;c++){const p=this.pe(o,l,c);this.we(p)}}we(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,r,o,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const l=new Map;return l.set(e,ia.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new eu(me.min(),l,new tt(we),Yr(),De())}}class ia{constructor(e,r,o,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new ia(o,r,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,r,o,l){this.Se=e,this.removedTargetIds=r,this.key=o,this.be=l}}class rg{constructor(e,r){this.targetId=e,this.De=r}}class ig{constructor(e,r,o=Ct.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class Bp{constructor(){this.ve=0,this.Ce=bp(),this.Fe=Ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=De(),r=De(),o=De();return this.Ce.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:ye(38017,{changeType:c})}}),new ia(this.Fe,this.Me,e,r,o)}ke(){this.xe=!1,this.Ce=bp()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class G0{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yr(),this.je=Cl(),this.Je=Cl(),this.He=new tt(we)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,r=>{const o=this.tt(r);switch(e.state){case 0:this.nt(r)&&o.Be(e.resumeToken);break;case 1:o.Ue(),o.Oe||o.ke(),o.Be(e.resumeToken);break;case 2:o.Ue(),o.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(o.Ke(),o.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),o.Be(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach((o,l)=>{this.nt(l)&&r(l)})}it(e){const r=e.targetId,o=e.De.count,l=this.st(r);if(l){const c=l.target;if(rh(c))if(o===0){const p=new he(c.path);this.Xe(r,p,Lt.newNoDocument(p,me.min()))}else Ge(o===1,20013,{expectedCount:o});else{const p=this.ot(r);if(p!==o){const g=this._t(e),v=g?this.ut(g,e,p):1;if(v!==0){this.rt(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,E)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let p,g;try{p=Gr(o).toUint8Array()}catch(v){if(v instanceof Om)return Wr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ah(p,l,c)}catch(v){return Wr(v instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.fe===0?null:g}ut(e,r,o){return r.De.count===o-this.ht(e,r.targetId)?0:2}ht(e,r){const o=this.We.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const p=this.We.lt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(r,c,null),l++)}),l}Pt(e){const r=new Map;this.Ge.forEach((c,p)=>{const g=this.st(p);if(g){if(c.current&&rh(g.target)){const v=new he(g.target.path);this.Tt(v).has(p)||this.It(p,v)||this.Xe(p,v,Lt.newNoDocument(v,e))}c.Ne&&(r.set(p,c.Le()),c.ke())}});let o=De();this.Je.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.st(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ze.forEach((c,p)=>p.setReadTime(e));const l=new eu(e,r,this.He,this.ze,o);return this.ze=Yr(),this.je=Cl(),this.Je=Cl(),this.He=new tt(we),l}Ze(e,r){if(!this.nt(e))return;const o=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,o),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,o){if(!this.nt(e))return;const l=this.tt(e);this.It(e,r)?l.qe(r,1):l.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),o&&(this.ze=this.ze.insert(r,o))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new Bp,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new pt(we),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new pt(we),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Bp),this.We.getRemoteKeysForTarget(e).forEach(r=>{this.Xe(e,r,null)})}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function Cl(){return new tt(he.comparator)}function bp(){return new tt(he.comparator)}const X0={asc:"ASCENDING",desc:"DESCENDING"},Y0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J0={and:"AND",or:"OR"};class Z0{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ah(i,e){return i.useProto3Json||Ql(e)?e:{value:e}}function e1(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ds(i){return Ge(!!i,49232),me.fromTimestamp(function(r){const o=Kr(r);return new st(o.seconds,o.nanos)}(i))}function n1(i,e){return lh(i,e).canonicalString()}function lh(i,e){const r=function(l){return new Ke(["projects",l.projectId,"databases",l.database])}(i).child("documents");return e===void 0?r:r.child(e)}function sg(i){const e=Ke.fromString(i);return Ge(cg(e),10190,{key:e.toString()}),e}function jc(i,e){const r=sg(e);if(r.get(1)!==i.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new he(ag(r))}function og(i,e){return n1(i.databaseId,e)}function r1(i){const e=sg(i);return e.length===4?Ke.emptyPath():ag(e)}function $p(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ag(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function i1(i,e){let r;if("targetChange"in e){e.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ye(39313,{state:E})}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(E,w){return E.useProto3Json?(Ge(w===void 0||typeof w=="string",58123),Ct.fromBase64String(w||"")):(Ge(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Ct.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,g=p&&function(E){const w=E.code===void 0?Y.UNKNOWN:ng(E.code);return new ae(w,E.message||"")}(p);r=new ig(o,l,c,g||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=jc(i,o.document.name),c=Ds(o.document.updateTime),p=o.document.createTime?Ds(o.document.createTime):me.min(),g=new $n({mapValue:{fields:o.document.fields}}),v=Lt.newFoundDocument(l,c,p,g),E=o.targetIds||[],w=o.removedTargetIds||[];r=new Nl(E,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=jc(i,o.document),c=o.readTime?Ds(o.readTime):me.min(),p=Lt.newNoDocument(l,c),g=o.removedTargetIds||[];r=new Nl([],g,p.key,p)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=jc(i,o.document),c=o.removedTargetIds||[];r=new Nl([],c,l,null)}else{if(!("filter"in e))return ye(11601,{At:e});{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,p=new Q0(l,c),g=o.targetId;r=new rg(g,p)}}return r}function s1(i,e){return{documents:[og(i,e.path)]}}function o1(i,e){const r={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=og(i,l);const c=function(E){if(E.length!==0)return ug(Qn.create(E,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(w=>function(R){return{field:Rs(R.field),direction:u1(R.dir)}}(w))}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const g=ah(i,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{Vt:r,parent:l}}function a1(i){let e=r1(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){Ge(o===1,65062);const w=r.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];r.where&&(c=function(P){const R=lg(P);return R instanceof Qn&&bm(R)?R.getFilters():[R]}(r.where));let p=[];r.orderBy&&(p=function(P){return P.map(R=>function(Q){return new zl(Ps(Q.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(R))}(r.orderBy));let g=null;r.limit&&(g=function(P){let R;return R=typeof P=="object"?P.value:P,Ql(R)?null:R}(r.limit));let v=null;r.startAt&&(v=function(P){const R=!!P.before,z=P.values||[];return new jl(z,R)}(r.startAt));let E=null;return r.endAt&&(E=function(P){const R=!P.before,z=P.values||[];return new jl(z,R)}(r.endAt)),R0(e,l,p,c,g,"F",v,E)}function l1(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function lg(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ps(r.unaryFilter.field);return dt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Ps(r.unaryFilter.field);return dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(r.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Ps(r.unaryFilter.field);return dt.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(i):i.fieldFilter!==void 0?function(r){return dt.create(Ps(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Qn.create(r.compositeFilter.filters.map(o=>lg(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(r.compositeFilter.op))}(i):ye(30097,{filter:i})}function u1(i){return X0[i]}function c1(i){return Y0[i]}function h1(i){return J0[i]}function Rs(i){return{fieldPath:i.canonicalString()}}function Ps(i){return zt.fromServerFormat(i.fieldPath)}function ug(i){return i instanceof dt?function(r){if(r.op==="=="){if(Vp(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NAN"}};if(kp(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Vp(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NOT_NAN"}};if(kp(r.value))return{unaryFilter:{field:Rs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(r.field),op:c1(r.op),value:r.value}}}(i):i instanceof Qn?function(r){const o=r.getFilters().map(l=>ug(l));return o.length===1?o[0]:{compositeFilter:{op:h1(r.op),filters:o}}}(i):ye(54877,{filter:i})}function cg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,r,o,l,c=me.min(),p=me.min(),g=Ct.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.gt=e}}function d1(i){const e=a1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Dn=new m1}addToCollectionParentIndex(e,r){return this.Dn.add(r),b.resolve()}getCollectionParents(e,r){return b.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return b.resolve()}deleteFieldIndex(e,r){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,r){return b.resolve()}getDocumentsMatchingTarget(e,r){return b.resolve(null)}getIndexType(e,r){return b.resolve(0)}getFieldIndexes(e,r){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,r){return b.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,r){return b.resolve(Qr.min())}updateCollectionGroup(e,r,o){return b.resolve()}updateIndexEntries(e,r){return b.resolve()}}class m1{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new pt(Ke.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new pt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hg=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(hg,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new js(0)}static ur(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LruGarbageCollector",g1=1048576;function Wp([i,e],[r,o]){const l=we(i,r);return l===0?we(e,o):l}class y1{constructor(e){this.Tr=e,this.buffer=new pt(Wp),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Wp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class v1{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(qp,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Hs(r)?te(qp,"Ignoring IndexedDB error during garbage collection: ",r):await ql(r)}await this.Rr(3e5)})}}class _1{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return b.resolve(Wl.ue);const o=new y1(r);return this.Vr.forEachTarget(e,l=>o.Er(l.sequenceNumber)).next(()=>this.Vr.gr(e,l=>o.Er(l))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Vr.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(Hp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hp):this.pr(e,r))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let o,l,c,p,g,v,E;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),l=this.params.maximumSequenceNumbersToCollect):l=P,p=Date.now(),this.nthSequenceNumber(e,l))).next(P=>(o=P,g=Date.now(),this.removeTargets(e,o,r))).next(P=>(c=P,v=Date.now(),this.removeOrphanedDocuments(e,o))).next(P=>(E=Date.now(),As()<=Pe.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-w}ms
	Determined least recently used ${l} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${P} documents in `+(E-v)+`ms
Total Duration: ${E-w}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:P})))}}function E1(i,e){return new _1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.changes=new Ni(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?b.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(o!==null&&Go(o.mutation,l,jr.empty(),st.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,De()).next(()=>o))}getLocalViewOfDocuments(e,r,o=De()){const l=Pi();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,o).next(c=>{let p=$o();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const o=Pi();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,De()))}populateOverlays(e,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(e,r,o,l){let c=Yr();const p=Ko(),g=function(){return Ko()}();return r.forEach((v,E)=>{const w=o.get(E.key);l.has(E.key)&&(w===void 0||w.mutation instanceof Zl)?c=c.insert(E.key,E):w!==void 0?(p.set(E.key,w.mutation.getFieldMask()),Go(w.mutation,E,w.mutation.getFieldMask(),st.now())):p.set(E.key,jr.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((E,w)=>p.set(E,w)),r.forEach((E,w)=>{var P;return g.set(E,new T1(w,(P=p.get(E))!==null&&P!==void 0?P:null))}),g))}recalculateAndSaveOverlays(e,r){const o=Ko();let l=new tt((p,g)=>p-g),c=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let w=o.get(v)||jr.empty();w=g.applyToLocalView(E,w),o.set(v,w);const P=(l.get(g.batchId)||De()).add(v);l=l.insert(g.batchId,P)})}).next(()=>{const p=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,w=v.value,P=Xm();w.forEach(R=>{if(!c.has(R)){const z=eg(r.get(R),o.get(R));z!==null&&P.set(R,z),c=c.add(R)}}),p.push(this.documentOverlayCache.saveOverlays(e,E,P))}return b.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,l){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):P0(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,l):this.getDocumentsMatchingCollectionQuery(e,r,o,l)}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next(c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-c.size):b.resolve(Pi());let g=Jo,v=c;return p.next(E=>b.forEach(E,(w,P)=>(g<P.largestBatchId&&(g=P.largestBatchId),c.get(w)?b.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{v=v.insert(w,R)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,v,E,De())).next(w=>({batchId:g,changes:x0(w)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new he(r)).next(o=>{let l=$o();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,o,l){const c=r.collectionGroup;let p=$o();return this.indexManager.getCollectionParents(e,c).next(g=>b.forEach(g,v=>{const E=function(P,R){return new Gl(R,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,o,l).next(w=>{w.forEach((P,R)=>{p=p.insert(P,R)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,l))).next(p=>{c.forEach((v,E)=>{const w=E.getKey();p.get(w)===null&&(p=p.insert(w,Lt.newInvalidDocument(w)))});let g=$o();return p.forEach((v,E)=>{const w=c.get(v);w!==void 0&&Go(w.mutation,E,jr.empty(),st.now()),Yl(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return b.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,function(l){return{id:l.id,version:l.version,createTime:Ds(l.createTime)}}(r)),b.resolve()}getNamedQuery(e,r){return b.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,function(l){return{name:l.name,query:d1(l.bundledQuery),readTime:Ds(l.readTime)}}(r)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.overlays=new tt(he.comparator),this.kr=new Map}getOverlay(e,r){return b.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Pi();return b.forEach(r,l=>this.getOverlay(e,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((l,c)=>{this.wt(e,r,c)}),b.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.kr.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(o)),b.resolve()}getOverlaysForCollection(e,r,o){const l=Pi(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&l.set(v.getKey(),v)}return b.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let c=new tt((E,w)=>E-w);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let w=c.get(E.largestBatchId);w===null&&(w=Pi(),c=c.insert(E.largestBatchId,w)),w.set(E.getKey(),E)}}const g=Pi(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,w)=>g.set(E,w)),!(g.size()>=l)););return b.resolve(g)}wt(e,r,o){const l=this.overlays.get(o.key);if(l!==null){const p=this.kr.get(l.largestBatchId).delete(o.key);this.kr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new W0(r,o));let c=this.kr.get(r);c===void 0&&(c=De(),this.kr.set(r,c)),this.kr.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return b.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,b.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this.qr=new pt(Et.Qr),this.$r=new pt(Et.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const o=new Et(e,r);this.qr=this.qr.add(o),this.$r=this.$r.add(o)}Kr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Wr(new Et(e,r))}Gr(e,r){e.forEach(o=>this.removeReference(o,r))}zr(e){const r=new he(new Ke([])),o=new Et(r,e),l=new Et(r,e+1),c=[];return this.$r.forEachInRange([o,l],p=>{this.Wr(p),c.push(p.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new he(new Ke([])),o=new Et(r,e),l=new Et(r,e+1);let c=De();return this.$r.forEachInRange([o,l],p=>{c=c.add(p.key)}),c}containsKey(e){const r=new Et(e,0),o=this.qr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class Et{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return he.comparator(e.key,r.key)||we(e.Hr,r.Hr)}static Ur(e,r){return we(e.Hr,r.Hr)||he.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new pt(Et.Qr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new q0(c,r,o,l);this.mutationQueue.push(p);for(const g of l)this.Yr=this.Yr.add(new Et(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return b.resolve(p)}lookupMutationBatch(e,r){return b.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=this.Xr(o),c=l<0?0:l;return b.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?a0:this.er-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Et(r,0),l=new Et(r,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([o,l],p=>{const g=this.Zr(p.Hr);c.push(g)}),b.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new pt(we);return r.forEach(l=>{const c=new Et(l,0),p=new Et(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,p],g=>{o=o.add(g.Hr)})}),b.resolve(this.ei(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new Et(new he(c),0);let g=new pt(we);return this.Yr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===l&&(g=g.add(v.Hr)),!0)},p),b.resolve(this.ei(g))}ei(e){const r=[];return e.forEach(o=>{const l=this.Zr(o);l!==null&&r.push(l)}),r}removeMutationBatch(e,r){Ge(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Yr;return b.forEach(r.mutations,l=>{const c=new Et(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Yr=o})}rr(e){}containsKey(e,r){const o=new Et(r,0),l=this.Yr.firstAfterOrEqual(o);return b.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.ni=e,this.docs=function(){return new tt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,p=this.ni(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return b.resolve(o?o.document.mutableCopy():Lt.newInvalidDocument(r))}getEntries(e,r){let o=Yr();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Lt.newInvalidDocument(l))}),b.resolve(o)}getDocumentsMatchingQuery(e,r,o,l){let c=Yr();const p=r.path,g=new he(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:w}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||r0(n0(w),o)<=0||(l.has(w.key)||Yl(r,w))&&(c=c.insert(w.key,w.mutableCopy()))}return b.resolve(c)}getAllFromCollectionGroup(e,r,o,l){ye(9500)}ri(e,r){return b.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new k1(this)}getSize(e){return b.resolve(this.size)}}class k1 extends w1{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.Or.addEntry(e,l)):this.Or.removeEntry(o)}),b.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.persistence=e,this.ii=new Ni(r=>wh(r),Th),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.si=0,this.oi=new Ch,this.targetCount=0,this._i=js.ar()}forEachTarget(e,r){return this.ii.forEach((o,l)=>r(l)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.si&&(this.si=r),b.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new js(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,b.resolve()}updateTargetData(e,r){return this.hr(r),b.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,r,o){let l=0;const c=[];return this.ii.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.ii.delete(p),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),b.waitFor(c).next(()=>l)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,r){const o=this.ii.get(r)||null;return b.resolve(o)}addMatchingKeys(e,r,o){return this.oi.Kr(r,o),b.resolve()}removeMatchingKeys(e,r,o){this.oi.Gr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(p=>{c.push(l.markPotentiallyOrphaned(e,p))}),b.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),b.resolve()}getMatchingKeysForTargetId(e,r){const o=this.oi.Jr(r);return b.resolve(o)}containsKey(e,r){return b.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,r){this.ai={},this.overlays={},this.ui=new Wl(0),this.ci=!1,this.ci=!0,this.li=new C1,this.referenceDelegate=e(this),this.hi=new V1(this),this.indexManager=new p1,this.remoteDocumentCache=function(l){return new P1(l)}(o=>this.referenceDelegate.Pi(o)),this.serializer=new f1(r),this.Ti=new I1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new A1,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.ai[e.toKey()];return o||(o=new R1(r,this.referenceDelegate),this.ai[e.toKey()]=o),o}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,o){te("MemoryPersistence","Starting transaction:",e);const l=new D1(this.ui.next());return this.referenceDelegate.Ii(),o(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(e,r){return b.or(Object.values(this.ai).map(o=>()=>o.containsKey(e,r)))}}class D1 extends s0{constructor(e){super(),this.currentSequenceNumber=e}}class Rh{constructor(e){this.persistence=e,this.Ai=new Ch,this.Ri=null}static Vi(e){return new Rh(e)}get mi(){if(this.Ri)return this.Ri;throw ye(60996)}addReference(e,r,o){return this.Ai.addReference(o,r),this.mi.delete(o.toString()),b.resolve()}removeReference(e,r,o){return this.Ai.removeReference(o,r),this.mi.add(o.toString()),b.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),b.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach(l=>this.mi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>o.removeTargetData(e,r))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.mi,o=>{const l=he.fromPath(o);return this.fi(e,l).next(c=>{c||r.removeEntry(l,me.min())})}).next(()=>(this.Ri=null,r.apply(e)))}updateLimboDocument(e,r){return this.fi(e,r).next(o=>{o?this.mi.delete(r.toString()):this.mi.add(r.toString())})}Pi(e){return 0}fi(e,r){return b.or([()=>b.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class $l{constructor(e,r){this.persistence=e,this.gi=new Ni(o=>l0(o.path),(o,l)=>o.isEqual(l)),this.garbageCollector=E1(this,r)}static Vi(e,r){return new $l(e,r)}Ii(){}di(e){return b.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(l=>o+l))}yr(e){let r=0;return this.gr(e,o=>{r++}).next(()=>r)}gr(e,r){return b.forEach(this.gi,(o,l)=>this.Sr(e,o,l).next(c=>c?b.resolve():r(l)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(e,p=>this.Sr(e,p,r).next(g=>{g||(o++,c.removeEntry(p,me.min()))})).next(()=>c.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),b.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.gi.set(o,e.currentSequenceNumber),b.resolve()}removeReference(e,r,o){return this.gi.set(o,e.currentSequenceNumber),b.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),b.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Vl(e.data.value)),r}Sr(e,r,o){return b.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.gi.get(r);return b.resolve(l!==void 0&&l>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.Is=o,this.ds=l}static Es(e,r){let o=De(),l=De();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ph(e,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Tv()?8:o0(Ev())>0?6:4}()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,o,l){const c={result:null};return this.ps(e,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.ys(e,r,l,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new N1;return this.ws(e,r,p).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,r,p,g.size)})}).next(()=>c.result)}Ss(e,r,o,l){return o.documentReadCount<this.Vs?(As()<=Pe.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Cs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),b.resolve()):(As()<=Pe.DEBUG&&te("QueryEngine","Query:",Cs(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.fs*l?(As()<=Pe.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Cs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(r))):b.resolve())}ps(e,r){if(Op(r))return b.resolve(null);let o=qn(r);return this.indexManager.getIndexType(e,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=ih(r,null,"F"),o=qn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=De(...c);return this.gs.getDocuments(e,p).next(g=>this.indexManager.getMinOffset(e,o).next(v=>{const E=this.bs(r,g);return this.Ds(r,E,p,v.readTime)?this.ps(e,ih(r,null,"F")):this.vs(e,E,r,v)}))})))}ys(e,r,o,l){return Op(r)||l.isEqual(me.min())?b.resolve(null):this.gs.getDocuments(e,o).next(c=>{const p=this.bs(r,c);return this.Ds(r,p,o,l)?b.resolve(null):(As()<=Pe.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Cs(r)),this.vs(e,p,r,t0(l,Jo)).next(g=>g))})}bs(e,r){let o=new pt(Km(e));return r.forEach((l,c)=>{Yl(e,c)&&(o=o.add(c))}),o}Ds(e,r,o,l){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(e,r,o){return As()<=Pe.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Cs(r)),this.gs.getDocumentsMatchingQuery(e,r,Qr.min(),o)}vs(e,r,o,l){return this.gs.getDocumentsMatchingQuery(e,o,l).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="LocalStore",O1=3e8;class L1{constructor(e,r,o,l){this.persistence=e,this.Cs=r,this.serializer=l,this.Fs=new tt(we),this.Ms=new Ni(c=>wh(c),Th),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(o)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S1(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Fs))}}function M1(i,e,r,o){return new L1(i,e,r,o)}async function dg(i,e){const r=ke(i);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.Ns(e),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=De();for(const E of l){p.push(E.batchId);for(const w of E.mutations)v=v.add(w.key)}for(const E of c){g.push(E.batchId);for(const w of E.mutations)v=v.add(w.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Bs:E,removedBatchIds:p,addedBatchIds:g}))})})}function pg(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.hi.getLastRemoteSnapshotVersion(r))}function F1(i,e){const r=ke(i),o=e.snapshotVersion;let l=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.Os.newChangeBuffer({trackRemovals:!0});l=r.Fs;const g=[];e.targetChanges.forEach((w,P)=>{const R=l.get(P);if(!R)return;g.push(r.hi.removeMatchingKeys(c,w.removedDocuments,P).next(()=>r.hi.addMatchingKeys(c,w.addedDocuments,P)));let z=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(P)!==null?z=z.withResumeToken(Ct.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):w.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(w.resumeToken,o)),l=l.insert(P,z),function(X,q,Te){return X.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=O1?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0}(R,z,w)&&g.push(r.hi.updateTargetData(c,z))});let v=Yr(),E=De();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,w))}),g.push(U1(c,p,e.documentUpdates).next(w=>{v=w.Ls,E=w.ks})),!o.isEqual(me.min())){const w=r.hi.getLastRemoteSnapshotVersion(c).next(P=>r.hi.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(w)}return b.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.Fs=l,c))}function U1(i,e,r){let o=De(),l=De();return r.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let p=Yr();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(me.min())?(e.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),p=p.insert(g,v)):te(kh,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Ls:p,ks:l}})}function j1(i,e){const r=ke(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.hi.getTargetData(o,e).next(c=>c?(l=c,b.resolve(l)):r.hi.allocateTargetId(o).next(p=>(l=new zr(e,p,"TargetPurposeListen",o.currentSequenceNumber),r.hi.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.Fs.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(o.targetId,o),r.Ms.set(e,o.targetId)),o})}async function uh(i,e,r){const o=ke(i),l=o.Fs.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!Hs(p))throw p;te(kh,`Failed to update sequence numbers for target ${e}: ${p}`)}o.Fs=o.Fs.remove(e),o.Ms.delete(l.target)}function Qp(i,e,r){const o=ke(i);let l=me.min(),c=De();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,w){const P=ke(v),R=P.Ms.get(w);return R!==void 0?b.resolve(P.Fs.get(R)):P.hi.getTargetData(E,w)}(o,p,qn(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.hi.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o.Cs.getDocumentsMatchingQuery(p,e,r?l:me.min(),r?c:De())).next(g=>(z1(o,V0(e),g),{documents:g,qs:c})))}function z1(i,e,r){let o=i.xs.get(e)||me.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.xs.set(e,o)}class Kp{constructor(){this.activeTargetIds=M0()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B1{constructor(){this.Fo=new Kp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,o){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Kp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="ConnectivityMonitor";class Xp{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(Gp,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(Gp,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=null;function ch(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="RestConnection",$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H1{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${o}/databases/${l}`,this.Ko=this.databaseId.database===Ul?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Wo(e,r,o,l,c){const p=ch(),g=this.Go(e,r.toUriEncodedString());te(zc,`Sending RPC '${e}' ${p}:`,g,o);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,l,c);const{host:E}=new URL(g),w=gh(E);return this.jo(e,g,v,o,w).then(P=>(te(zc,`Received RPC '${e}' ${p}: `,P),P),P=>{throw Wr(zc,`RPC '${e}' ${p} failed with error: `,P,"url: ",g,"request:",o),P})}Jo(e,r,o,l,c,p){return this.Wo(e,r,o,l,c)}zo(e,r,o){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,c)=>e[c]=l),o&&o.headers.forEach((l,c)=>e[c]=l)}Go(e,r){const o=$1[e];return`${this.$o}/v1/${r}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class W1 extends H1{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,o,l,c){const p=ch();return new Promise((g,v)=>{const E=new Im;E.setWithCredentials(!0),E.listenOnce(Am.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case kl.NO_ERROR:const P=E.getResponseJson();te(xt,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(P)),g(P);break;case kl.TIMEOUT:te(xt,`RPC '${e}' ${p} timed out`),v(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case kl.HTTP_ERROR:const R=E.getStatus();if(te(xt,`RPC '${e}' ${p} failed with status:`,R,"response text:",E.getResponseText()),R>0){let z=E.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z==null?void 0:z.error;if(Q&&Q.status&&Q.message){const X=function(Te){const fe=Te.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(fe)>=0?fe:Y.UNKNOWN}(Q.status);v(new ae(X,Q.message))}else v(new ae(Y.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{c_:e,streamId:p,l_:E.getLastErrorCode(),h_:E.getLastError()})}}finally{te(xt,`RPC '${e}' ${p} completed.`)}});const w=JSON.stringify(l);te(xt,`RPC '${e}' ${p} sending request:`,l),E.send(r,"POST",w,o,15)})}P_(e,r,o){const l=ch(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Pm(),g=Rm(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const w=c.join("");te(xt,`Creating RPC '${e}' stream ${l}: ${w}`,v);const P=p.createWebChannel(w,v);this.T_(P);let R=!1,z=!1;const Q=new q1({Ho:q=>{z?te(xt,`Not sending because RPC '${e}' stream ${l} is closed:`,q):(R||(te(xt,`Opening RPC '${e}' stream ${l} transport.`),P.open(),R=!0),te(xt,`RPC '${e}' stream ${l} sending:`,q),P.send(q))},Yo:()=>P.close()}),X=(q,Te,fe)=>{q.listen(Te,pe=>{try{fe(pe)}catch(ge){setTimeout(()=>{throw ge},0)}})};return X(P,bo.EventType.OPEN,()=>{z||(te(xt,`RPC '${e}' stream ${l} transport opened.`),Q.s_())}),X(P,bo.EventType.CLOSE,()=>{z||(z=!0,te(xt,`RPC '${e}' stream ${l} transport closed`),Q.__(),this.I_(P))}),X(P,bo.EventType.ERROR,q=>{z||(z=!0,Wr(xt,`RPC '${e}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),Q.__(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),X(P,bo.EventType.MESSAGE,q=>{var Te;if(!z){const fe=q.data[0];Ge(!!fe,16349);const pe=fe,ge=(pe==null?void 0:pe.error)||((Te=pe[0])===null||Te===void 0?void 0:Te.error);if(ge){te(xt,`RPC '${e}' stream ${l} received error:`,ge);const Fe=ge.status;let Se=function(A){const k=it[A];if(k!==void 0)return ng(k)}(Fe),D=ge.message;Se===void 0&&(Se=Y.INTERNAL,D="Unknown error status: "+Fe+" with message "+ge.message),z=!0,Q.__(new ae(Se,D)),P.close()}else te(xt,`RPC '${e}' stream ${l} received:`,fe),Q.a_(fe)}}),X(g,Cm.STAT_EVENT,q=>{q.stat===Gc.PROXY?te(xt,`RPC '${e}' stream ${l} detected buffering proxy`):q.stat===Gc.NOPROXY&&te(xt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Q.o_()},0),Q}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(r=>r===e)}}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i){return new Z0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,r,o=1e3,l=1.5,c=6e4){this.Fi=e,this.timerId=r,this.d_=o,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),o=Math.max(0,Date.now()-this.m_),l=Math.max(0,r-o);l>0&&te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="PersistentStream";class Q1{constructor(e,r,o,l,c,p,g,v){this.Fi=e,this.w_=o,this.S_=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gg(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(dr(r.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.b_===r&&this.W_(o,l)},o=>{e(()=>{const l=new ae(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.G_(l)})})}W_(e,r){const o=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo(()=>{o(()=>this.listener.Zo())}),this.stream.e_(()=>{o(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{o(()=>this.G_(l))}),this.stream.onMessage(l=>{o(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(Yp,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget(()=>this.b_===e?r():(te(Yp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K1 extends Q1{constructor(e,r,o,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,p),this.serializer=c}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=i1(this.serializer,e),o=function(c){if(!("targetChange"in c))return me.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?me.min():p.readTime?Ds(p.readTime):me.min()}(e);return this.listener.J_(r,o)}H_(e){const r={};r.database=$p(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=rh(v)?{documents:s1(c,v)}:{query:o1(c,v).Vt},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=t1(c,p.resumeToken);const E=ah(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(me.min())>0){g.readTime=e1(c,p.snapshotVersion.toTimestamp());const E=ah(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const o=l1(this.serializer,e);o&&(r.labels=o),this.k_(r)}Y_(e){const r={};r.database=$p(this.serializer),r.removeTarget=e,this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class X1 extends G1{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Wo(e,lh(r,o),l,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Y.UNKNOWN,c.toString())})}Jo(e,r,o,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Jo(e,lh(r,o),l,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ae(Y.UNKNOWN,p.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Y1{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(dr(r),this._a=!1):te("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class J1{constructor(e,r,o,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(p=>{o.enqueueAndForget(async()=>{oa(this)&&(te(zs,"Restarting streams for network reachability change."),await async function(v){const E=ke(v);E.Ia.add(4),await sa(E),E.Aa.set("Unknown"),E.Ia.delete(4),await tu(E)}(this))})}),this.Aa=new Y1(o,l)}}async function tu(i){if(oa(i))for(const e of i.da)await e(!0)}async function sa(i){for(const e of i.da)await e(!1)}function yg(i,e){const r=ke(i);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),xh(r)?Nh(r):qs(r).x_()&&Dh(r,e))}function Vh(i,e){const r=ke(i),o=qs(r);r.Ta.delete(e),o.x_()&&vg(r,e),r.Ta.size===0&&(o.x_()?o.B_():oa(r)&&r.Aa.set("Unknown"))}function Dh(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}qs(i).H_(e)}function vg(i,e){i.Ra.$e(e),qs(i).Y_(e)}function Nh(i){i.Ra=new G0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),qs(i).start(),i.Aa.aa()}function xh(i){return oa(i)&&!qs(i).M_()&&i.Ta.size>0}function oa(i){return ke(i).Ia.size===0}function _g(i){i.Ra=void 0}async function Z1(i){i.Aa.set("Online")}async function eE(i){i.Ta.forEach((e,r)=>{Dh(i,e)})}async function tE(i,e){_g(i),xh(i)?(i.Aa.la(e),Nh(i)):i.Aa.set("Unknown")}async function nE(i,e,r){if(i.Aa.set("Online"),e instanceof ig&&e.state===2&&e.cause)try{await async function(l,c){const p=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,p),l.Ta.delete(g),l.Ra.removeTarget(g))}(i,e)}catch(o){te(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Jp(i,o)}else if(e instanceof Nl?i.Ra.Ye(e):e instanceof rg?i.Ra.it(e):i.Ra.et(e),!r.isEqual(me.min()))try{const o=await pg(i.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.Ra.Pt(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const w=c.Ta.get(E);w&&c.Ta.set(E,w.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const w=c.Ta.get(v);if(!w)return;c.Ta.set(v,w.withResumeToken(Ct.EMPTY_BYTE_STRING,w.snapshotVersion)),vg(c,v);const P=new zr(w.target,v,E,w.sequenceNumber);Dh(c,P)}),c.remoteSyncer.applyRemoteEvent(g)}(i,r)}catch(o){te(zs,"Failed to raise snapshot:",o),await Jp(i,o)}}async function Jp(i,e,r){if(!Hs(e))throw e;i.Ia.add(1),await sa(i),i.Aa.set("Offline"),r||(r=()=>pg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te(zs,"Retrying IndexedDB access"),await r(),i.Ia.delete(1),await tu(i)})}async function Zp(i,e){const r=ke(i);r.asyncQueue.verifyOperationInProgress(),te(zs,"RemoteStore received new credentials");const o=oa(r);r.Ia.add(3),await sa(r),o&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await tu(r)}async function rE(i,e){const r=ke(i);e?(r.Ia.delete(2),await tu(r)):e||(r.Ia.add(2),await sa(r),r.Aa.set("Unknown"))}function qs(i){return i.Va||(i.Va=function(r,o,l){const c=ke(r);return c.ia(),new K1(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Zo:Z1.bind(null,i),e_:eE.bind(null,i),n_:tE.bind(null,i),J_:nE.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),xh(i)?Nh(i):i.Aa.set("Unknown")):(await i.Va.stop(),_g(i))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r,o,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,l,c){const p=Date.now()+o,g=new Oh(e,r,p,l,c);return g.start(o),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),Hs(i))return new ae(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static emptySet(e){return new Ns(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=$o(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Ns;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.fa=new tt(he.comparator)}track(e){const r=e.doc.key,o=this.fa.get(r);o?e.type!==0&&o.type===3?this.fa=this.fa.insert(r,e):e.type===3&&o.type!==1?this.fa=this.fa.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.fa=this.fa.remove(r):e.type===1&&o.type===2?this.fa=this.fa.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):ye(63341,{At:e,ga:o}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal((r,o)=>{e.push(o)}),e}}class Bs{constructor(e,r,o,l,c,p,g,v,E){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,r,o,l,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Bs(e,r,Ns.emptySet(r),p,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class sE{constructor(){this.queries=tm(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,o){const l=ke(r),c=l.queries;l.queries=tm(),c.forEach((p,g)=>{for(const v of g.wa)v.onError(o)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function tm(){return new Ni(i=>Qm(i),Xl)}async function oE(i,e){const r=ke(i);let o=3;const l=e.query;let c=r.queries.get(l);c?!c.Sa()&&e.ba()&&(o=2):(c=new iE,o=e.ba()?0:1);try{switch(o){case 0:c.ya=await r.onListen(l,!0);break;case 1:c.ya=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const g=Eg(p,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(g)}r.queries.set(l,c),c.wa.push(e),e.va(r.onlineState),c.ya&&e.Ca(c.ya)&&Lh(r)}async function aE(i,e){const r=ke(i),o=e.query;let l=3;const c=r.queries.get(o);if(c){const p=c.wa.indexOf(e);p>=0&&(c.wa.splice(p,1),c.wa.length===0?l=e.ba()?0:1:!c.Sa()&&e.ba()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function lE(i,e){const r=ke(i);let o=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const g of p.wa)g.Ca(l)&&(o=!0);p.ya=l}}o&&Lh(r)}function uE(i,e,r){const o=ke(i),l=o.queries.get(e);if(l)for(const c of l.wa)c.onError(r);o.queries.delete(e)}function Lh(i){i.Da.forEach(e=>{e.next()})}var hh,nm;(nm=hh||(hh={})).Fa="default",nm.Cache="cache";class cE{constructor(e,r,o){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=o||{}}Ca(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new Bs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const o=r!=="Offline";return(!this.options.ka||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this.key=e}}class Tg{constructor(e){this.key=e}}class hE{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=De(),this.mutatedKeys=De(),this.Xa=Km(e),this.eu=new Ns(this.Xa)}get tu(){return this.Ha}nu(e,r){const o=r?r.ru:new em,l=r?r.eu:this.eu;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((w,P)=>{const R=l.get(w),z=Yl(this.query,P)?P:null,Q=!!R&&this.mutatedKeys.has(R.key),X=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let q=!1;R&&z?R.data.isEqual(z.data)?Q!==X&&(o.track({type:3,doc:z}),q=!0):this.iu(R,z)||(o.track({type:2,doc:z}),q=!0,(v&&this.Xa(z,v)>0||E&&this.Xa(z,E)<0)&&(g=!0)):!R&&z?(o.track({type:0,doc:z}),q=!0):R&&!z&&(o.track({type:1,doc:R}),q=!0,(v||E)&&(g=!0)),q&&(z?(p=p.add(z),c=X?c.add(w):c.delete(w)):(p=p.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const w=this.query.limitType==="F"?p.last():p.first();p=p.delete(w.key),c=c.delete(w.key),o.track({type:1,doc:w})}return{eu:p,ru:o,Ds:g,mutatedKeys:c}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,l){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const p=e.ru.pa();p.sort((w,P)=>function(z,Q){const X=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{At:q})}};return X(z)-X(Q)}(w.type,P.type)||this.Xa(w.doc,P.doc)),this.su(o),l=l!=null&&l;const g=r&&!l?this.ou():[],v=this.Za.size===0&&this.current&&!l?1:0,E=v!==this.Ya;return this.Ya=v,p.length!==0||E?{snapshot:new Bs(this.query,e.eu,c,p,e.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new em,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=De(),this.eu.forEach(o=>{this.au(o.key)&&(this.Za=this.Za.add(o.key))});const r=[];return e.forEach(o=>{this.Za.has(o)||r.push(new Tg(o))}),this.Za.forEach(o=>{e.has(o)||r.push(new wg(o))}),r}uu(e){this.Ha=e.qs,this.Za=De();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return Bs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Mh="SyncEngine";class fE{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class dE{constructor(e){this.key=e,this.lu=!1}}class pE{constructor(e,r,o,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.hu={},this.Pu=new Ni(g=>Qm(g),Xl),this.Tu=new Map,this.Iu=new Set,this.du=new tt(he.comparator),this.Eu=new Map,this.Au=new Ch,this.Ru={},this.Vu=new Map,this.mu=js.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function mE(i,e,r=!0){const o=Rg(i);let l;const c=o.Pu.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await Sg(o,e,r,!0),l}async function gE(i,e){const r=Rg(i);await Sg(r,e,!0,!1)}async function Sg(i,e,r,o){const l=await j1(i.localStore,qn(e)),c=l.targetId,p=i.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await yE(i,e,c,p==="current",l.resumeToken)),i.isPrimaryClient&&r&&yg(i.remoteStore,l),g}async function yE(i,e,r,o,l){i.gu=(P,R,z)=>async function(X,q,Te,fe){let pe=q.view.nu(Te);pe.Ds&&(pe=await Qp(X.localStore,q.query,!1).then(({documents:D})=>q.view.nu(D,pe)));const ge=fe&&fe.targetChanges.get(q.targetId),Fe=fe&&fe.targetMismatches.get(q.targetId)!=null,Se=q.view.applyChanges(pe,X.isPrimaryClient,ge,Fe);return im(X,q.targetId,Se._u),Se.snapshot}(i,P,R,z);const c=await Qp(i.localStore,e,!0),p=new hE(e,c.qs),g=p.nu(c.documents),v=ia.createSynthesizedTargetChangeForCurrentChange(r,o&&i.onlineState!=="Offline",l),E=p.applyChanges(g,i.isPrimaryClient,v);im(i,r,E._u);const w=new fE(e,r,p);return i.Pu.set(e,w),i.Tu.has(r)?i.Tu.get(r).push(e):i.Tu.set(r,[e]),E.snapshot}async function vE(i,e,r){const o=ke(i),l=o.Pu.get(e),c=o.Tu.get(l.targetId);if(c.length>1)return o.Tu.set(l.targetId,c.filter(p=>!Xl(p,e))),void o.Pu.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await uh(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&Vh(o.remoteStore,l.targetId),fh(o,l.targetId)}).catch(ql)):(fh(o,l.targetId),await uh(o.localStore,l.targetId,!0))}async function _E(i,e){const r=ke(i),o=r.Pu.get(e),l=r.Tu.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Vh(r.remoteStore,o.targetId))}async function Ig(i,e){const r=ke(i);try{const o=await F1(r.localStore,e);e.targetChanges.forEach((l,c)=>{const p=r.Eu.get(c);p&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.lu=!0:l.modifiedDocuments.size>0?Ge(p.lu,14607):l.removedDocuments.size>0&&(Ge(p.lu,42227),p.lu=!1))}),await Cg(r,o,e)}catch(o){await ql(o)}}function rm(i,e,r){const o=ke(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.Pu.forEach((c,p)=>{const g=p.view.va(e);g.snapshot&&l.push(g.snapshot)}),function(p,g){const v=ke(p);v.onlineState=g;let E=!1;v.queries.forEach((w,P)=>{for(const R of P.wa)R.va(g)&&(E=!0)}),E&&Lh(v)}(o.eventManager,e),l.length&&o.hu.J_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function EE(i,e,r){const o=ke(i);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Eu.get(e),c=l&&l.key;if(c){let p=new tt(he.comparator);p=p.insert(c,Lt.newNoDocument(c,me.min()));const g=De().add(c),v=new eu(me.min(),new Map,new tt(we),p,g);await Ig(o,v),o.du=o.du.remove(c),o.Eu.delete(e),Fh(o)}else await uh(o.localStore,e,!1).then(()=>fh(o,e,r)).catch(ql)}function fh(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Tu.get(e))i.Pu.delete(o),r&&i.hu.pu(o,r);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(o=>{i.Au.containsKey(o)||Ag(i,o)})}function Ag(i,e){i.Iu.delete(e.path.canonicalString());const r=i.du.get(e);r!==null&&(Vh(i.remoteStore,r),i.du=i.du.remove(e),i.Eu.delete(r),Fh(i))}function im(i,e,r){for(const o of r)o instanceof wg?(i.Au.addReference(o.key,e),wE(i,o)):o instanceof Tg?(te(Mh,"Document no longer in limbo: "+o.key),i.Au.removeReference(o.key,e),i.Au.containsKey(o.key)||Ag(i,o.key)):ye(19791,{yu:o})}function wE(i,e){const r=e.key,o=r.path.canonicalString();i.du.get(r)||i.Iu.has(o)||(te(Mh,"New document in limbo: "+r),i.Iu.add(o),Fh(i))}function Fh(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const r=new he(Ke.fromString(e)),o=i.mu.next();i.Eu.set(o,new dE(r)),i.du=i.du.insert(r,o),yg(i.remoteStore,new zr(qn(Wm(r.path)),o,"TargetPurposeLimboResolution",Wl.ue))}}async function Cg(i,e,r){const o=ke(i),l=[],c=[],p=[];o.Pu.isEmpty()||(o.Pu.forEach((g,v)=>{p.push(o.gu(v,e,r).then(E=>{var w;if((E||r)&&o.isPrimaryClient){const P=E?!E.fromCache:(w=r==null?void 0:r.targetChanges.get(v.targetId))===null||w===void 0?void 0:w.current;o.sharedClientState.updateQueryState(v.targetId,P?"current":"not-current")}if(E){l.push(E);const P=Ph.Es(v.targetId,E);c.push(P)}}))}),await Promise.all(p),o.hu.J_(l),await async function(v,E){const w=ke(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>b.forEach(E,R=>b.forEach(R.Is,z=>w.persistence.referenceDelegate.addReference(P,R.targetId,z)).next(()=>b.forEach(R.ds,z=>w.persistence.referenceDelegate.removeReference(P,R.targetId,z)))))}catch(P){if(!Hs(P))throw P;te(kh,"Failed to update sequence numbers: "+P)}for(const P of E){const R=P.targetId;if(!P.fromCache){const z=w.Fs.get(R),Q=z.snapshotVersion,X=z.withLastLimboFreeSnapshotVersion(Q);w.Fs=w.Fs.insert(R,X)}}}(o.localStore,c))}async function TE(i,e){const r=ke(i);if(!r.currentUser.isEqual(e)){te(Mh,"User change. New user:",e.toKey());const o=await dg(r.localStore,e);r.currentUser=e,function(c,p){c.Vu.forEach(g=>{g.forEach(v=>{v.reject(new ae(Y.CANCELLED,p))})}),c.Vu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Cg(r,o.Bs)}}function SE(i,e){const r=ke(i),o=r.Eu.get(e);if(o&&o.lu)return De().add(o.key);{let l=De();const c=r.Tu.get(e);if(!c)return l;for(const p of c){const g=r.Pu.get(p);l=l.unionWith(g.view.tu)}return l}}function Rg(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ig.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EE.bind(null,e),e.hu.J_=lE.bind(null,e.eventManager),e.hu.pu=uE.bind(null,e.eventManager),e}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return M1(this.persistence,new x1,e.initialUser,this.serializer)}Du(e){return new fg(Rh.Vi,this.serializer)}bu(e){return new B1}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class IE extends Hl{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Ge(this.persistence.referenceDelegate instanceof $l,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new v1(o,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new fg(o=>$l.Vi(o,r),this.serializer)}}class dh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>rm(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=TE.bind(null,this.syncEngine),await rE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sE}()}createDatastore(e){const r=mg(e.databaseInfo.databaseId),o=function(c){return new W1(c)}(e.databaseInfo);return function(c,p,g,v){return new X1(c,p,g,v)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return function(o,l,c,p,g){return new J1(o,l,c,p,g)}(this.localStore,this.datastore,e.asyncQueue,r=>rm(this.syncEngine,r,0),function(){return Xp.C()?new Xp:new b1}())}createSyncEngine(e,r){return function(l,c,p,g,v,E,w){const P=new pE(l,c,p,g,v,E);return w&&(P.fu=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(l){const c=ke(l);te(zs,"RemoteStore shutting down."),c.Ia.add(5),await sa(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dh.provider={build:()=>new dh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class CE{constructor(e,r,o,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Ot.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{te(Jr,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(te(Jr,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Eg(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function bc(i,e){i.asyncQueue.verifyOperationInProgress(),te(Jr,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(async l=>{o.isEqual(l)||(await dg(e.localStore,l),o=l)}),e.persistence.setDatabaseDeletedListener(()=>{Wr("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{Wr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),i._offlineComponents=e}async function sm(i,e){i.asyncQueue.verifyOperationInProgress();const r=await RE(i);te(Jr,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(o=>Zp(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,l)=>Zp(e.remoteStore,l)),i._onlineComponents=e}async function RE(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te(Jr,"Using user provided OfflineComponentProvider");try{await bc(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Wr("Error using user provided cache. Falling back to memory cache: "+r),await bc(i,new Hl)}}else te(Jr,"Using default OfflineComponentProvider"),await bc(i,new IE(void 0));return i._offlineComponents}async function PE(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te(Jr,"Using user provided OnlineComponentProvider"),await sm(i,i._uninitializedComponentsProvider._online)):(te(Jr,"Using default OnlineComponentProvider"),await sm(i,new dh))),i._onlineComponents}async function kE(i){const e=await PE(i),r=e.eventManager;return r.onListen=mE.bind(null,e.syncEngine),r.onUnlisten=vE.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=gE.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=_E.bind(null,e.syncEngine),r}function VE(i,e,r={}){const o=new ki;return i.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const w=new AE({next:R=>{w.Ou(),p.enqueueAndForget(()=>aE(c,P)),R.fromCache&&v.source==="server"?E.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(R)},error:R=>E.reject(R)}),P=new cE(g,w,{includeMetadataChanges:!0,ka:!0});return oE(c,P)}(await kE(i),i.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="firestore.googleapis.com",am=!0;class lm{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kg,this.ssl=am}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:am;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g1)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pg((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,r,o,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new $_;switch(o.type){case"firstParty":return new Q_(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=om.get(r);o&&(te("ComponentProvider","Removing Datastore"),om.delete(r),o.terminate())}(this),Promise.resolve()}}function DE(i,e,r,o={}){var l;i=Yc(i,Uh);const c=gh(e),p=i._getSettings(),g=Object.assign(Object.assign({},p),{emulatorOptions:i._getEmulatorOptions()}),v=`${e}:${r}`;c&&(mv(`https://${v}`),_v("Firestore",!0)),p.host!==kg&&p.host!==v&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},p),{host:v,ssl:c,emulatorOptions:o});if(!Ll(E,g)&&(i._setSettings(E),o.mockUserToken)){let w,P;if(typeof o.mockUserToken=="string")w=o.mockUserToken,P=Ot.MOCK_USER;else{w=gv(o.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const R=o.mockUserToken.sub||o.mockUserToken.user_id;if(!R)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Ot(R)}i._authCredentials=new H_(new Vm(w,P))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new nu(this.firestore,e,this._query)}}class mn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,o){if(na(r,mn._jsonSchema))return new mn(e,o||null,new he(Ke.fromString(r.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:ot("string",mn._jsonSchemaVersion),referencePath:ot("string")};class xs extends nu{constructor(e,r,o){super(e,r,Wm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new he(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function NE(i,e,...r){if(i=Pv(i),i instanceof Uh){const o=Ke.fromString(e,...r);return wp(o),new xs(i,null,o)}{if(!(i instanceof mn||i instanceof xs))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ke.fromString(e,...r));return wp(o),new xs(i.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="AsyncQueue";class cm{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gg(this,"async_queue_retry"),this.oc=()=>{const o=Bc();o&&te(um,"Visibility state changed to "+o.visibilityState),this.F_.y_()},this._c=e;const r=Bc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=Bc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const r=new ki;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hs(e))throw e;te(um,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const r=this._c.then(()=>(this.nc=!0,e().catch(o=>{throw this.tc=o,this.nc=!1,dr("INTERNAL UNHANDLED ERROR: ",hm(o)),o}).then(o=>(this.nc=!1,o))));return this._c=r,r}enqueueAfterDelay(e,r,o){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const l=Oh.createAndSchedule(this,e,r,o,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&ye(47125,{hc:hm(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function hm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Vg extends Uh{constructor(e,r,o,l){super(e,r,o,l),this.type="firestore",this._queue=new cm,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cm(e),this._firestoreClient=void 0,await e}}}function xE(i,e){const r=typeof i=="object"?i:V_(),o=typeof i=="string"?i:Ul,l=A_(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=dv("firestore");c&&DE(l,...c)}return l}function OE(i){if(i._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LE(i),i._firestoreClient}function LE(i){var e,r,o;const l=i._freezeSettings(),c=function(g,v,E,w){return new f0(g,v,E,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Pg(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new CE(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Ct.fromBase64String(e))}catch(r){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hn(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(na(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:ot("string",Hn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(na(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:ot("string",Hr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(na(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new qr(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:ot("string",qr._jsonSchemaVersion),vectorValues:ot("object")};const ME=new RegExp("[~\\*/\\[\\]]");function FE(i,e,r){if(e.search(ME)>=0)throw fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Dg(...e.split("."))._internalPath}catch{throw fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function fm(i,e,r,o,l){let c=`Function ${e}() called with invalid data`;c+=". ";let p="";return new ae(Y.INVALID_ARGUMENT,c+i+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,r,o,l,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class UE extends Ng{data(){return super.data()}}function xg(i,e){return typeof e=="string"?FE(i,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zE{convertValue(e,r="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return ra(e,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(e){var r,o,l;const c=(l=(o=(r=e.fields)===null||r===void 0?void 0:r[Zc].arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(p=>et(p.doubleValue));return new qr(c)}convertGeoPoint(e){return new Hr(et(e.latitude),et(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Kl(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const r=Kr(e);return new st(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ke.fromString(e);Ge(cg(o),9688,{name:e});const l=new ea(o.get(1),o.get(3)),c=new he(o.popFirst(5));return l.isEqual(r)||dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}class Pl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends Ng{constructor(e,r,o,l,c,p){super(e,r,o,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(xg("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Os._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:ot("string",Os._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class xl extends Os{data(e={}){return super.data(e)}}class Ls{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new xl(this._firestore,this._userDataWriter,o.key,o,new Pl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(g=>{const v=new xl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new xl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,w=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),w=p.indexOf(g.doc.key)),{type:BE(g.type),doc:v,oldIndex:E,newIndex:w}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ls._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],o=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(r.push(c._document),o.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BE(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}Ls._jsonSchemaVersion="firestore/querySnapshot/1.0",Ls._jsonSchema={type:ot("string",Ls._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class bE extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,r)}}function $E(i){i=Yc(i,nu);const e=Yc(i.firestore,Vg),r=OE(e),o=new bE(e);return jE(i._query),VE(r,i._query).then(l=>new Ls(e,o,i,l))}(function(e,r=!0){(function(l){$s=l})(k_),Fl(new Xo("firestore",(o,{instanceIdentifier:l,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Vg(new q_(o.getProvider("auth-internal")),new K_(p,o.getProvider("app-check-internal")),function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(E.options.projectId,w)}(p,l),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Vs(gp,yp,e),Vs(gp,yp,"esm2017")})();const HE={apiKey:"AIzaSyDQy-dO_jnRBJ4zXaW3eFmbvPUGxJWq7f0",authDomain:"yasminmonth2025.firebaseapp.com",projectId:"yasminmonth2025",storageBucket:"yasminmonth2025.firebasestorage.app",messagingSenderId:"641160622036",appId:"1:641160622036:web:9e773420b01b033c9b3041",measurementId:"G-N6LQRK25H7"},qE=Em(HE),WE=xE(qE);function QE(){const[i,e]=Xt.useState([]),[r,o]=Xt.useState(0),[l,c]=Xt.useState(0),[p,g]=Xt.useState("none"),v=100,[E,w]=Xt.useState(1);Xt.useEffect(()=>{(async()=>{const Q=(await $E(NE(WE,"2026"))).docs.map(X=>{const q=X.data();return{id:X.id,message:q.message,date:q.date.toDate()}});e(Q),o(Q.length>0?Q.length-1:0)})()},[]);const P=nv({onSwiping:R=>{Math.abs(R.deltaY)>Math.abs(R.deltaX)||(g("none"),c(R.deltaX))},onSwiped:R=>{if(!(Math.abs(R.deltaY)>Math.abs(R.deltaX))){if(R.deltaX<-v&&r>=i.length-1){g("transform 0.2s ease"),c(0);return}if(R.deltaX>v&&r<=0){g("transform 0.2s ease"),c(0);return}R.deltaX<-v?(g("transform 0.3s ease, opacity 0.3s ease"),c(-window.innerWidth),w(0),setTimeout(()=>{o(z=>z+1),g("none"),c(0),w(0),requestAnimationFrame(()=>{g("transform 0.3s ease, opacity 0.3s ease"),c(0),w(1)})},100)):R.deltaX>v?(g("transform 0.3s ease, opacity 0.3s ease"),c(window.innerWidth),w(0),setTimeout(()=>{o(z=>z-1),g("none"),c(0),w(0),requestAnimationFrame(()=>{g("transform 0.3s ease, opacity 0.3s ease"),c(0),w(1)})},100)):(g("transform 0.2s ease"),c(0))}},trackMouse:!0,preventScrollOnSwipe:!1});return ft.jsxs("div",{children:[ft.jsx("div",{className:"bg"}),ft.jsx("div",{className:"bg bg2"}),ft.jsx("div",{className:"bg bg3"}),ft.jsx("div",{className:"content",children:ft.jsx("div",{...P,style:{transform:`translateX(${l}px)`,transition:p,touchAction:"pan-y",opacity:E},className:"hold-all",children:ft.jsx(qy,{messages:i,currentIndex:r,setIndex:o})})})]})}Hy.createRoot(document.getElementById("root")).render(ft.jsx(Xt.StrictMode,{children:ft.jsx(QE,{})}));
//# sourceMappingURL=index-C2oVAIF9.js.map
